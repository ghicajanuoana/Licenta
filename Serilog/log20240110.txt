2024-01-10 11:31:27.380 +02:00 [INF] Application starting up
2024-01-10 11:31:28.580 +02:00 [DBG] Hosting starting
2024-01-10 11:31:28.644 +02:00 [INF] User profile is available. Using 'C:\Users\ghica\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-10 11:31:28.740 +02:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2024-01-10 11:31:28.741 +02:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2024-01-10 11:31:28.753 +02:00 [INF] Creating key {23b5410e-b300-4a13-88d8-c66a9450607a} with creation date 2024-01-10 09:31:28Z, activation date 2024-01-10 09:31:28Z, and expiration date 2024-04-09 09:31:28Z.
2024-01-10 11:31:28.770 +02:00 [DBG] Descriptor deserializer type for key {23b5410e-b300-4a13-88d8-c66a9450607a} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2024-01-10 11:31:28.782 +02:00 [DBG] No key escrow sink found. Not writing key {23b5410e-b300-4a13-88d8-c66a9450607a} to escrow.
2024-01-10 11:31:28.783 +02:00 [DBG] Encrypting to Windows DPAPI for local machine account.
2024-01-10 11:31:28.794 +02:00 [ERR] An error occurred while encrypting to Windows DPAPI.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
2024-01-10 11:31:28.861 +02:00 [ERR] An error occurred while reading the key ring.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.EncryptIfNecessary(IXmlEncryptor encryptor, XElement element)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.CreateNewKey(Guid keyId, DateTimeOffset creationDate, DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.CreateNewKey(DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
2024-01-10 11:31:28.862 +02:00 [INF] Key ring failed to load during application startup.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.EncryptIfNecessary(IXmlEncryptor encryptor, XElement element)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.CreateNewKey(Guid keyId, DateTimeOffset creationDate, DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.CreateNewKey(DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService.StartAsync(CancellationToken token)
2024-01-10 11:31:29.323 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 11:31:30.451 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 11:31:30.841 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-10 11:31:30.863 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 11:31:30.864 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 11:31:30.864 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 11:31:30.864 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 11:31:30.865 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 11:31:31.235 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 11:31:31.246 +02:00 [DBG] Creating DbConnection.
2024-01-10 11:31:31.254 +02:00 [DBG] Created DbConnection. (4ms).
2024-01-10 11:31:31.256 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:31.268 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:32.895 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:32.912 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 11:31:32.923 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2024-01-10 11:31:32.927 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (16ms).
2024-01-10 11:31:32.941 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 11:31:33.013 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 11:31:33.019 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.038 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (10ms).
2024-01-10 11:31:33.049 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 11:31:33.049 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 11:31:33.049 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 11:31:33.049 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.052 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.054 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 11:31:33.093 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 11:31:33.093 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.094 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:31:33.095 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.096 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.096 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 11:31:33.096 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 11:31:33.096 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 11:31:33.096 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 11:31:33.099 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 11:31:33.099 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.099 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:31:33.099 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 11:31:33.099 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 11:31:33.099 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 11:31:33.099 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.099 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.099 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 11:31:33.100 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 11:31:33.100 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.100 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:31:33.138 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:31:33.138 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:31:33.138 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:31:33.138 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.139 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.140 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 11:31:33.146 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 11:31:33.152 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.155 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-01-10 11:31:33.156 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:33.156 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:31:33.192 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 11:31:33.344 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 11:31:33.537 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 11:31:33.794 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 11:31:34.013 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 11:31:34.013 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 11:31:34.013 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 11:31:34.013 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 11:31:34.013 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 11:31:34.019 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 11:31:34.020 +02:00 [INF] Hosting environment: Development
2024-01-10 11:31:34.020 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 11:31:34.020 +02:00 [DBG] Hosting started
2024-01-10 11:31:34.316 +02:00 [DBG] Connection id "0HN0HNRNRJMLQ" received FIN.
2024-01-10 11:31:34.330 +02:00 [DBG] Connection id "0HN0HNRNRJMLQ" accepted.
2024-01-10 11:31:34.332 +02:00 [DBG] Connection id "0HN0HNRNRJMLQ" started.
2024-01-10 11:31:34.368 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 11:31:34.394 +02:00 [DBG] Connection id "0HN0HNRNRJMLQ" stopped.
2024-01-10 11:31:34.398 +02:00 [DBG] Connection id "0HN0HNRNRJMLQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:31:35.014 +02:00 [DBG] Connection id "0HN0HNRNRJMLR" accepted.
2024-01-10 11:31:35.016 +02:00 [DBG] Connection id "0HN0HNRNRJMLR" started.
2024-01-10 11:31:35.163 +02:00 [DBG] Connection 0HN0HNRNRJMLR established using the following protocol: "Tls12"
2024-01-10 11:31:35.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 11:31:35.376 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 11:31:35.861 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 11:31:36.375 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 11:31:36.385 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 11:31:36.401 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 11:31:36.411 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 24.3211ms
2024-01-10 11:31:36.412 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 1126.1216ms
2024-01-10 11:31:36.438 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 62.7439ms
2024-01-10 11:31:36.525 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 11:31:36.824 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 299.1676ms
2024-01-10 11:31:39.992 +02:00 [DBG] Connection id "0HN0HNRNRJMLR" received FIN.
2024-01-10 11:31:39.992 +02:00 [DBG] Connection id "0HN0HNRNRJMLR" is closed. The last processed stream ID was 7.
2024-01-10 11:31:39.993 +02:00 [DBG] Connection id "0HN0HNRNRJMLR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:31:39.996 +02:00 [DBG] Connection id "0HN0HNRNRJMLR" stopped.
2024-01-10 11:31:41.815 +02:00 [DBG] Connection id "0HN0HNRNRJMLS" accepted.
2024-01-10 11:31:41.815 +02:00 [DBG] Connection id "0HN0HNRNRJMLS" started.
2024-01-10 11:31:41.829 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 11:31:41.831 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:31:41.831 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:31:41.835 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:31:41.837 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 11:31:41.907 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 11:31:41.908 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 11:31:41.910 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 11:31:41.943 +02:00 [DBG] New connection 6oX2iixDDV1NwxOu_lntmw created.
2024-01-10 11:31:41.955 +02:00 [DBG] Establishing new connection.
2024-01-10 11:31:41.965 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 11:31:41.977 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 11:31:42.016 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 11:31:42.023 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 11:31:42.064 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 11:31:42.214 +02:00 [DBG] Compiling query expression: 
'DbSet<DeviceReading>()
    .Where(d => !(d.IsAlertRead) && d.AlertType != null)
    .Count()'
2024-01-10 11:31:42.763 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM DeviceReadings AS d
            WHERE Not(d.IsAlertRead) && (d.AlertType != NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccessLayer.InternshipContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-10 11:31:42.841 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:31:42.841 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:31:42.841 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:31:42.851 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:42.852 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:42.853 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:31:42.902 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:31:42.932 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:42.933 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 30ms reading results.
2024-01-10 11:31:42.939 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:42.941 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 11:31:46.522 +02:00 [DBG] Connection id "0HN0HNRNRJMLT" accepted.
2024-01-10 11:31:46.522 +02:00 [DBG] Connection id "0HN0HNRNRJMLT" started.
2024-01-10 11:31:46.533 +02:00 [DBG] Connection 0HN0HNRNRJMLT established using the following protocol: "Tls12"
2024-01-10 11:31:46.537 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 11:31:46.537 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:31:46.537 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:31:46.538 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:31:46.540 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 3.3336ms
2024-01-10 11:31:46.548 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 11:31:46.549 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:31:46.549 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:31:46.549 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:31:46.549 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 11:31:46.552 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:31:46.554 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:31:46.554 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:31:46.555 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:31:46.555 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:31:46.609 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:31:46.610 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:31:46.610 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:31:46.610 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:31:46.610 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:31:46.610 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:31:46.612 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:31:46.614 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:31:46.631 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:31:46.636 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 11:31:46.644 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 11:31:46.646 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 11:31:46.649 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 11:31:46.649 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:31:46.650 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:31:46.650 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 11:31:46.650 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:31:46.650 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:31:46.650 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 11:31:46.651 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 11:31:46.651 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 11:31:46.652 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 11:31:46.652 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 11:31:46.653 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 11:31:46.654 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 11:31:46.654 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 11:31:46.655 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 11:31:46.655 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 11:31:46.656 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:31:46.656 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:31:46.656 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:31:46.665 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:31:46.819 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 11:31:46.831 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Count()'
2024-01-10 11:31:46.848 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Users AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 11:31:46.852 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:31:46.852 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:31:46.852 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:31:46.852 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:46.852 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:46.852 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:31:46.855 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:31:46.856 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:46.856 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:31:46.856 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:46.856 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:31:46.863 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .OrderBy(d => d.Username)
    .Skip(__p_0)
    .Take(__p_1)'
2024-01-10 11:31:46.891 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-10 11:31:47.023 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.FirstName (string) Required, 2], [Property: User.IsActive (bool) Required ValueGenerated.OnAdd, 3], [Property: User.LastName (string) Required, 4], [Property: User.Password (string) Required, 5], [Property: User.RoleId (int) Required FK Index, 6], [Property: User.Username (string) Required Index, 7] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Role.RoleType (string) Required, 9] }
        SELECT t.Id, t.Email, t.FirstName, t.IsActive, t.LastName, t.Password, t.RoleId, t.Username, r.Id, r.RoleType
        FROM 
        (
            SELECT u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RoleId, u.Username
            FROM Users AS u
            ORDER BY u.Username ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Roles AS r ON t.RoleId == r.Id
        ORDER BY t.Username ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 11:31:47.034 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:31:47.034 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:31:47.038 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-10 11:31:47.038 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:47.038 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:47.046 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:31:47.107 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:31:47.159 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:47.222 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:47.237 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:47.243 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:47.243 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:47.243 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:47.243 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:47.245 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 137ms reading results.
2024-01-10 11:31:47.245 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:47.245 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:31:47.255 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:31:47.259 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:31:47.259 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:31:47.259 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:31:47.260 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:31:47.260 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:31:47.319 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 703.698ms
2024-01-10 11:31:47.321 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:31:47.325 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 773.2153 ms
2024-01-10 11:31:47.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 279 application/json;+charset=utf-8 777.6827ms
2024-01-10 11:31:47.604 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/8 - -
2024-01-10 11:31:47.605 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:31:47.605 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:31:47.605 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:31:47.605 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/8 - - - 204 - - 0.5551ms
2024-01-10 11:31:47.607 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/8 application/json -
2024-01-10 11:31:47.607 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:31:47.607 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:31:47.608 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:31:47.608 +02:00 [DBG] The request path /api/User/8 does not match a supported file type
2024-01-10 11:31:47.610 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/8'
2024-01-10 11:31:47.610 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/8'
2024-01-10 11:31:47.611 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 11:31:47.611 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 11:31:47.614 +02:00 [INF] Route matched with {action = "GetUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:31:47.614 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:31:47.614 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:31:47.615 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:31:47.615 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:31:47.615 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:31:47.615 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:31:47.615 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:31:47.615 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 11:31:47.616 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 11:31:47.617 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 11:31:47.617 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 11:31:47.617 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 11:31:47.617 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 11:31:47.619 +02:00 [INF] GetUserById by location id: 8
2024-01-10 11:31:47.623 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .FirstOrDefault(d => d.Id == __userId_0)'
2024-01-10 11:31:47.624 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-10 11:31:47.633 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.FirstName (string) Required, 2], [Property: User.IsActive (bool) Required ValueGenerated.OnAdd, 3], [Property: User.LastName (string) Required, 4], [Property: User.Password (string) Required, 5], [Property: User.RoleId (int) Required FK Index, 6], [Property: User.Username (string) Required Index, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Role.RoleType (string) Required, 9] }
            SELECT TOP(1) u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RoleId, u.Username, r.Id, r.RoleType
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.Id == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        DataAccessLayer.InternshipContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-10 11:31:47.640 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:31:47.640 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:31:47.640 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:31:47.640 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:47.640 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:47.640 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 11:31:47.647 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 11:31:47.647 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:47.647 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:47.647 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:47.649 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:47.649 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 11:31:47.649 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:47.649 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:31:47.651 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:31:47.651 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:31:47.651 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:31:47.651 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:31:47.651 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:31:47.651 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.UserGetDto'.
2024-01-10 11:31:47.653 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetUserByIdAsync (WebApi) in 37.7492ms
2024-01-10 11:31:47.653 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 11:31:47.653 +02:00 [INF] HTTP GET /api/User/8 responded 200 in 45.0727 ms
2024-01-10 11:31:47.653 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/8 application/json - - 200 83 application/json;+charset=utf-8 45.7713ms
2024-01-10 11:31:49.999 +02:00 [DBG] Connection id "0HN0HNRNRJMLT" received FIN.
2024-01-10 11:31:49.999 +02:00 [DBG] Connection id "0HN0HNRNRJMLT" is closed. The last processed stream ID was 7.
2024-01-10 11:31:49.999 +02:00 [DBG] Connection id "0HN0HNRNRJMLT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:31:50.006 +02:00 [DBG] Connection id "0HN0HNRNRJMLT" stopped.
2024-01-10 11:31:51.902 +02:00 [DBG] Connection id "0HN0HNRNRJMLU" accepted.
2024-01-10 11:31:51.902 +02:00 [DBG] Connection id "0HN0HNRNRJMLU" started.
2024-01-10 11:31:51.903 +02:00 [DBG] Connection 0HN0HNRNRJMLU established using the following protocol: "Tls12"
2024-01-10 11:31:51.904 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 11:31:51.905 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:31:51.905 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:31:51.905 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:31:51.906 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 1.4441ms
2024-01-10 11:31:51.908 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 11:31:51.908 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:31:51.908 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:31:51.908 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:31:51.909 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 11:31:51.909 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 11:31:51.909 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 11:31:51.909 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:31:51.909 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:31:51.912 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 11:31:51.912 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:31:51.912 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:31:51.912 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:31:51.913 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:31:51.913 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:31:51.913 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 11:31:51.913 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 11:31:51.914 +02:00 [INF] GetAllRoles
2024-01-10 11:31:51.916 +02:00 [DBG] Compiling query expression: 
'DbSet<Role>()'
2024-01-10 11:31:51.919 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Role>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.RoleType (string) Required, 1] }
        SELECT r.Id, r.RoleType
        FROM Roles AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 11:31:51.919 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:31:51.919 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:31:51.919 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:31:51.919 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:51.919 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:51.919 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 11:31:51.929 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 11:31:51.929 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:51.929 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:51.930 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:51.930 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:31:51.930 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:51.930 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:31:51.930 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:31:51.930 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:31:51.930 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:31:51.930 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:31:51.930 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:31:51.930 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:31:51.930 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:31:51.931 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:31:51.932 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 18.8794ms
2024-01-10 11:31:51.932 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:31:51.932 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 23.0591 ms
2024-01-10 11:31:51.932 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 23.9477ms
2024-01-10 11:32:00.008 +02:00 [DBG] Connection id "0HN0HNRNRJMLU" received FIN.
2024-01-10 11:32:00.008 +02:00 [DBG] Connection id "0HN0HNRNRJMLU" is closed. The last processed stream ID was 3.
2024-01-10 11:32:00.008 +02:00 [DBG] Connection id "0HN0HNRNRJMLU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:32:00.009 +02:00 [DBG] Connection id "0HN0HNRNRJMLU" stopped.
2024-01-10 11:33:08.895 +02:00 [DBG] Connection id "0HN0HNRNRJMLS" received FIN.
2024-01-10 11:33:08.896 +02:00 [DBG] Connection id "0HN0HNRNRJMLS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:33:08.896 +02:00 [DBG] Connection id "0HN0HNRNRJMLS" disconnecting.
2024-01-10 11:33:08.899 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 11:33:08.904 +02:00 [DBG] Socket closed.
2024-01-10 11:33:08.919 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 11:33:08.930 +02:00 [DBG] Removing connection 6oX2iixDDV1NwxOu_lntmw from the list of connections.
2024-01-10 11:33:08.935 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 11:33:08.935 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 87096.6739 ms
2024-01-10 11:33:08.935 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 87108.6068ms
2024-01-10 11:33:08.936 +02:00 [DBG] Connection id "0HN0HNRNRJMLS" stopped.
2024-01-10 11:33:09.262 +02:00 [DBG] Connection id "0HN0HNRNRJMLV" accepted.
2024-01-10 11:33:09.262 +02:00 [DBG] Connection id "0HN0HNRNRJMLV" started.
2024-01-10 11:33:09.263 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 11:33:09.264 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:33:09.264 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:33:09.264 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:33:09.264 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 11:33:09.264 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 11:33:09.264 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 11:33:09.264 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 11:33:09.265 +02:00 [DBG] New connection d44fkzdSraEvLipQj1FCiA created.
2024-01-10 11:33:09.265 +02:00 [DBG] Establishing new connection.
2024-01-10 11:33:09.265 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 11:33:09.266 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 11:33:09.316 +02:00 [DBG] Connection id "0HN0HNRNRJMM0" accepted.
2024-01-10 11:33:09.317 +02:00 [DBG] Connection id "0HN0HNRNRJMM0" started.
2024-01-10 11:33:09.318 +02:00 [DBG] Connection 0HN0HNRNRJMM0 established using the following protocol: "Tls12"
2024-01-10 11:33:09.319 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 11:33:09.319 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:33:09.319 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:33:09.319 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:33:09.320 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.8008ms
2024-01-10 11:33:09.327 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 11:33:09.329 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:33:09.329 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:33:09.329 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:33:09.329 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 11:33:09.329 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 11:33:09.329 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 11:33:09.329 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:33:09.329 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:33:09.329 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 11:33:09.330 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:33:09.330 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:33:09.330 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:33:09.330 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:33:09.330 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:33:09.330 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 11:33:09.330 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 11:33:09.330 +02:00 [INF] GetAllRoles
2024-01-10 11:33:09.333 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:33:09.333 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:33:09.333 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:33:09.333 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:33:09.333 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:33:09.333 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 11:33:09.343 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 11:33:09.344 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:33:09.344 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:33:09.344 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:33:09.344 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:33:09.344 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:33:09.344 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:33:09.344 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:33:09.345 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:33:09.345 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:33:09.345 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:33:09.345 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:33:09.345 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:33:09.345 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:33:09.345 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:33:09.346 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 15.5881ms
2024-01-10 11:33:09.346 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:33:09.346 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 16.6956 ms
2024-01-10 11:33:09.346 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 19.1992ms
2024-01-10 11:33:09.405 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 11:33:09.405 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 11:33:09.413 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 11:33:09.417 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:33:09.417 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:33:09.417 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:33:09.417 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:33:09.417 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:33:09.417 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:33:09.420 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:33:09.421 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:33:09.421 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:33:09.421 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:33:09.421 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:33:10.097 +02:00 [DBG] Connection id "0HN0HNRNRJMM0" received FIN.
2024-01-10 11:33:10.097 +02:00 [DBG] Connection id "0HN0HNRNRJMM0" is closed. The last processed stream ID was 3.
2024-01-10 11:33:10.097 +02:00 [DBG] Connection id "0HN0HNRNRJMM0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:33:10.116 +02:00 [DBG] Connection id "0HN0HNRNRJMM0" stopped.
2024-01-10 11:35:15.949 +02:00 [DBG] Connection id "0HN0HNRNRJMLV" received FIN.
2024-01-10 11:35:15.949 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 11:35:15.951 +02:00 [DBG] Connection id "0HN0HNRNRJMLV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:35:15.953 +02:00 [DBG] Connection id "0HN0HNRNRJMLV" disconnecting.
2024-01-10 11:35:15.958 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 11:35:15.960 +02:00 [DBG] Socket closed.
2024-01-10 11:35:15.978 +02:00 [DBG] Removing connection d44fkzdSraEvLipQj1FCiA from the list of connections.
2024-01-10 11:35:15.985 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 11:35:15.986 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 126731.2980 ms
2024-01-10 11:35:15.993 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 126736.4490ms
2024-01-10 11:35:16.039 +02:00 [DBG] Connection id "0HN0HNRNRJMLV" stopped.
2024-01-10 11:35:16.230 +02:00 [DBG] Connection id "0HN0HNRNRJMM1" accepted.
2024-01-10 11:35:16.230 +02:00 [DBG] Connection id "0HN0HNRNRJMM1" started.
2024-01-10 11:35:16.230 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 11:35:16.231 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:35:16.231 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:35:16.231 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:35:16.231 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 11:35:16.231 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 11:35:16.231 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 11:35:16.231 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 11:35:16.231 +02:00 [DBG] New connection mjrmfEywQNjV001eUF7K9A created.
2024-01-10 11:35:16.231 +02:00 [DBG] Establishing new connection.
2024-01-10 11:35:16.231 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 11:35:16.231 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 11:35:16.276 +02:00 [DBG] Connection id "0HN0HNRNRJMM2" accepted.
2024-01-10 11:35:16.276 +02:00 [DBG] Connection id "0HN0HNRNRJMM2" started.
2024-01-10 11:35:16.278 +02:00 [DBG] Connection 0HN0HNRNRJMM2 established using the following protocol: "Tls12"
2024-01-10 11:35:16.279 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 11:35:16.279 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:35:16.279 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:35:16.279 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:35:16.279 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.8000ms
2024-01-10 11:35:16.281 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 11:35:16.281 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:35:16.281 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:35:16.281 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:35:16.281 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 11:35:16.281 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 11:35:16.281 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 11:35:16.281 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:35:16.282 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:35:16.282 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 11:35:16.282 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:35:16.282 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:35:16.282 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:35:16.282 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:35:16.282 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:35:16.282 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 11:35:16.283 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 11:35:16.283 +02:00 [INF] GetAllRoles
2024-01-10 11:35:16.283 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:35:16.283 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:35:16.283 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:35:16.283 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:35:16.283 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:35:16.284 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 11:35:16.286 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 11:35:16.286 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:35:16.286 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:35:16.286 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:35:16.287 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:35:16.287 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:35:16.287 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:35:16.287 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:35:16.287 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:35:16.287 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:35:16.287 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:35:16.287 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:35:16.287 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:35:16.287 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:35:16.288 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:35:16.288 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 5.912ms
2024-01-10 11:35:16.288 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:35:16.288 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 6.6242 ms
2024-01-10 11:35:16.288 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 7.3787ms
2024-01-10 11:35:16.312 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 11:35:16.313 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 11:35:16.325 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 11:35:16.325 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:35:16.325 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:35:16.325 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:35:16.325 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:35:16.326 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:35:16.326 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:35:16.327 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:35:16.328 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:35:16.328 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:35:16.328 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:35:16.328 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:35:25.238 +02:00 [DBG] Connection id "0HN0HNRNRJMM2" received FIN.
2024-01-10 11:35:25.238 +02:00 [DBG] Connection id "0HN0HNRNRJMM2" is closed. The last processed stream ID was 3.
2024-01-10 11:35:25.238 +02:00 [DBG] Connection id "0HN0HNRNRJMM2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:35:25.247 +02:00 [DBG] Connection id "0HN0HNRNRJMM2" stopped.
2024-01-10 11:41:27.155 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 11:41:27.156 +02:00 [DBG] Socket closed.
2024-01-10 11:41:27.178 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 11:41:27.183 +02:00 [DBG] Connection id "0HN0HNRNRJMM3" accepted.
2024-01-10 11:41:27.184 +02:00 [DBG] Connection id "0HN0HNRNRJMM3" started.
2024-01-10 11:41:27.187 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 11:41:27.188 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:41:27.192 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:41:27.193 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:41:27.193 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 11:41:27.197 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 11:41:27.197 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 11:41:27.197 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 11:41:27.197 +02:00 [DBG] New connection WLJmCdEI-ItzFVRJIxgCBQ created.
2024-01-10 11:41:27.199 +02:00 [DBG] Establishing new connection.
2024-01-10 11:41:27.199 +02:00 [DBG] Removing connection mjrmfEywQNjV001eUF7K9A from the list of connections.
2024-01-10 11:41:27.200 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 11:41:27.200 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 11:41:27.200 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 11:41:27.204 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 371002.7562 ms
2024-01-10 11:41:27.204 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 11:41:27.205 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 11:41:27.205 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 371005.3189ms
2024-01-10 11:41:27.206 +02:00 [DBG] Connection id "0HN0HNRNRJMM1" disconnecting.
2024-01-10 11:41:27.206 +02:00 [DBG] Connection id "0HN0HNRNRJMM1" stopped.
2024-01-10 11:41:27.209 +02:00 [DBG] Connection id "0HN0HNRNRJMM1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:41:41.444 +02:00 [DBG] Connection id "0HN0HNRNRJMM4" accepted.
2024-01-10 11:41:41.444 +02:00 [DBG] Connection id "0HN0HNRNRJMM4" started.
2024-01-10 11:41:41.446 +02:00 [DBG] Connection 0HN0HNRNRJMM4 established using the following protocol: "Tls12"
2024-01-10 11:41:41.447 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - -
2024-01-10 11:41:41.447 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:41:41.447 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:41:41.447 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:41:41.448 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - - - 204 - - 0.7561ms
2024-01-10 11:41:41.449 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json 142
2024-01-10 11:41:41.449 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:41:41.449 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:41:41.449 +02:00 [DBG] POST requests are not supported
2024-01-10 11:41:41.449 +02:00 [DBG] POST requests are not supported
2024-01-10 11:41:41.449 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-10 11:41:41.449 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-10 11:41:41.449 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 11:41:41.450 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 11:41:41.452 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:41:41.452 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:41:41.452 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:41:41.452 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:41:41.452 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:41:41.452 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:41:41.452 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:41:41.453 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:41:41.453 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 11:41:41.454 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 11:41:41.455 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 11:41:41.455 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 11:41:41.465 +02:00 [DBG] Connection id "0HN0HNRNRJMM4", Request id "0HN0HNRNRJMM4:00000003": started reading request body.
2024-01-10 11:41:41.465 +02:00 [DBG] Connection id "0HN0HNRNRJMM4", Request id "0HN0HNRNRJMM4:00000003": done reading request body.
2024-01-10 11:41:41.528 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 11:41:41.528 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 11:41:41.528 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 11:41:41.530 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 11:41:41.532 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "Oana",
  "LastName": "Ghicajanu",
  "Email": "oana@gmail.com",
  "Username": "oana",
  "Password": "oana",
  "IsActive": true,
  "RoleId": 2
}
2024-01-10 11:41:41.536 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(l => l.Id != __id_0 && l.Username == __name_1)'
2024-01-10 11:41:41.544 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE (u.Id != @__id_0) && (u.Username == @__name_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 11:41:41.550 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:41:41.551 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:41:41.551 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:41:41.551 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.552 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.552 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 11:41:41.557 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 11:41:41.558 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.558 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:41:41.558 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.558 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:41:41.609 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:41:41.617 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:41:41.628 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 11:41:41.631 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 11:41:41.646 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 11:41:41.743 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.743 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.748 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:41:41.749 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:41:41.749 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:41:41.749 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 11:41:41.771 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 11:41:41.792 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 11:41:41.804 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.804 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 32ms reading results.
2024-01-10 11:41:41.806 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.806 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:41:41.819 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:41:41.823 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 11:41:41.823 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-10 11:41:41.823 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 371.143ms
2024-01-10 11:41:41.823 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 11:41:41.824 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 374.1945 ms
2024-01-10 11:41:41.824 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json 142 - 200 0 - 374.9392ms
2024-01-10 11:41:41.847 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 11:41:41.847 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:41:41.847 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:41:41.847 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:41:41.847 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.7307ms
2024-01-10 11:41:41.849 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 11:41:41.850 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:41:41.850 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:41:41.850 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:41:41.850 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 11:41:41.850 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:41:41.850 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:41:41.850 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:41:41.850 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:41:41.850 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:41:41.850 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:41:41.850 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:41:41.850 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:41:41.850 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:41:41.851 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:41:41.851 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:41:41.851 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:41:41.851 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:41:41.851 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:41:41.851 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 11:41:41.851 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 11:41:41.852 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 11:41:41.852 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 11:41:41.852 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:41:41.852 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:41:41.852 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 11:41:41.852 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:41:41.852 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:41:41.852 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 11:41:41.852 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 11:41:41.852 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 11:41:41.852 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 11:41:41.852 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 11:41:41.852 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 11:41:41.852 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 11:41:41.852 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 11:41:41.853 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 11:41:41.853 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 11:41:41.853 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:41:41.853 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:41:41.853 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:41:41.853 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:41:41.853 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 11:41:41.856 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:41:41.856 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:41:41.856 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:41:41.856 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.856 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.857 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:41:41.861 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:41:41.861 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.861 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:41:41.861 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.861 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:41:41.862 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:41:41.862 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:41:41.862 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:41:41.862 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.863 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.863 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:41:41.865 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:41:41.866 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:41:41.866 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:41:41.866 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:41:41.866 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:41:41.866 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:41:41.866 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:41:41.867 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:41:41.867 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.867 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 11:41:41.867 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:41:41.867 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:41:41.867 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:41:41.867 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:41:41.867 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:41:41.867 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:41:41.867 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:41:41.867 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:41:41.868 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 16.8143ms
2024-01-10 11:41:41.868 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:41:41.868 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 17.6887 ms
2024-01-10 11:41:41.868 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 360 application/json;+charset=utf-8 18.8350ms
2024-01-10 11:41:56.393 +02:00 [DBG] Connection id "0HN0HNRNRJMM4" received FIN.
2024-01-10 11:41:56.393 +02:00 [DBG] Connection id "0HN0HNRNRJMM4" is closed. The last processed stream ID was 7.
2024-01-10 11:41:56.393 +02:00 [DBG] Connection id "0HN0HNRNRJMM4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:41:56.397 +02:00 [DBG] Connection id "0HN0HNRNRJMM4" stopped.
2024-01-10 11:42:32.252 +02:00 [DBG] Connection id "0HN0HNRNRJMM3" received FIN.
2024-01-10 11:42:32.252 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 11:42:32.252 +02:00 [DBG] Connection id "0HN0HNRNRJMM3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:42:32.252 +02:00 [DBG] Connection id "0HN0HNRNRJMM3" disconnecting.
2024-01-10 11:42:32.253 +02:00 [DBG] Socket closed.
2024-01-10 11:42:32.253 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 11:42:32.254 +02:00 [DBG] Removing connection WLJmCdEI-ItzFVRJIxgCBQ from the list of connections.
2024-01-10 11:42:32.255 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 11:42:32.255 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 65065.2266 ms
2024-01-10 11:42:32.256 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 65074.6425ms
2024-01-10 11:42:32.256 +02:00 [DBG] Connection id "0HN0HNRNRJMM3" stopped.
2024-01-10 11:42:32.498 +02:00 [DBG] Connection id "0HN0HNRNRJMM5" accepted.
2024-01-10 11:42:32.498 +02:00 [DBG] Connection id "0HN0HNRNRJMM5" started.
2024-01-10 11:42:32.499 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 11:42:32.499 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:42:32.499 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:42:32.499 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:42:32.499 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 11:42:32.499 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 11:42:32.499 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 11:42:32.499 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 11:42:32.499 +02:00 [DBG] New connection FMTyvFWJk0qhuNu4ZiTH9w created.
2024-01-10 11:42:32.499 +02:00 [DBG] Establishing new connection.
2024-01-10 11:42:32.500 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 11:42:32.500 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 11:42:32.532 +02:00 [DBG] Connection id "0HN0HNRNRJMM6" accepted.
2024-01-10 11:42:32.532 +02:00 [DBG] Connection id "0HN0HNRNRJMM6" started.
2024-01-10 11:42:32.537 +02:00 [DBG] Connection 0HN0HNRNRJMM6 established using the following protocol: "Tls12"
2024-01-10 11:42:32.538 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 11:42:32.538 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:42:32.538 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:42:32.538 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:42:32.538 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.6762ms
2024-01-10 11:42:32.540 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 11:42:32.540 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:42:32.540 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:42:32.540 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:42:32.540 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 11:42:32.540 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:42:32.540 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:42:32.541 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:42:32.541 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:42:32.541 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:42:32.541 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:42:32.541 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:42:32.541 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:42:32.541 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:42:32.541 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:42:32.541 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:42:32.541 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:42:32.541 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:42:32.541 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:42:32.541 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 11:42:32.541 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 11:42:32.541 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 11:42:32.541 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 11:42:32.542 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:42:32.542 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:42:32.542 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 11:42:32.542 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:42:32.542 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:42:32.542 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 11:42:32.542 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 11:42:32.542 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 11:42:32.542 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 11:42:32.542 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 11:42:32.542 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 11:42:32.542 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 11:42:32.542 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 11:42:32.542 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 11:42:32.542 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 11:42:32.542 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:42:32.542 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:42:32.542 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:42:32.542 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:42:32.542 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 11:42:32.544 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:42:32.544 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:42:32.544 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:42:32.544 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:42:32.544 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:42:32.544 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:42:32.545 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:42:32.545 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:42:32.546 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:42:32.546 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:42:32.546 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:42:32.548 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:42:32.548 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:42:32.548 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:42:32.548 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:42:32.548 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:42:32.548 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:42:32.553 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:42:32.553 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:42:32.553 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:42:32.553 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:42:32.553 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:42:32.553 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:42:32.553 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:42:32.553 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:42:32.553 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:42:32.553 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:42:32.553 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:42:32.554 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:42:32.554 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:42:32.554 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:42:32.554 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:42:32.554 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:42:32.554 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:42:32.554 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:42:32.554 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 13.2392ms
2024-01-10 11:42:32.554 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:42:32.554 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 13.8820 ms
2024-01-10 11:42:32.555 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 360 application/json;+charset=utf-8 14.4731ms
2024-01-10 11:42:32.591 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 11:42:32.591 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 11:42:32.601 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 11:42:32.601 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:42:32.601 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:42:32.601 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:42:32.601 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:42:32.601 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:42:32.602 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:42:32.604 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:42:32.604 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:42:32.604 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:42:32.604 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:42:32.604 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:06.511 +02:00 [DBG] Connection id "0HN0HNRNRJMM6" received FIN.
2024-01-10 11:43:06.511 +02:00 [DBG] Connection id "0HN0HNRNRJMM6" is closed. The last processed stream ID was 3.
2024-01-10 11:43:06.512 +02:00 [DBG] Connection id "0HN0HNRNRJMM6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:43:06.533 +02:00 [DBG] Connection id "0HN0HNRNRJMM6" stopped.
2024-01-10 11:43:06.607 +02:00 [DBG] Connection id "0HN0HNRNRJMM5" received FIN.
2024-01-10 11:43:06.608 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 11:43:06.608 +02:00 [DBG] Connection id "0HN0HNRNRJMM5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:43:06.608 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 11:43:06.609 +02:00 [DBG] Connection id "0HN0HNRNRJMM5" disconnecting.
2024-01-10 11:43:06.609 +02:00 [DBG] Socket closed.
2024-01-10 11:43:06.610 +02:00 [DBG] Removing connection FMTyvFWJk0qhuNu4ZiTH9w from the list of connections.
2024-01-10 11:43:06.610 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 11:43:06.610 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 34113.5245 ms
2024-01-10 11:43:06.610 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 34113.9601ms
2024-01-10 11:43:06.610 +02:00 [DBG] Connection id "0HN0HNRNRJMM5" stopped.
2024-01-10 11:43:06.851 +02:00 [DBG] Connection id "0HN0HNRNRJMM7" accepted.
2024-01-10 11:43:06.851 +02:00 [DBG] Connection id "0HN0HNRNRJMM7" started.
2024-01-10 11:43:06.852 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 11:43:06.852 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:06.852 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:06.852 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:43:06.852 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 11:43:06.852 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 11:43:06.852 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 11:43:06.852 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 11:43:06.852 +02:00 [DBG] New connection gcTWRq7nOoeol6k9M3-9Ug created.
2024-01-10 11:43:06.852 +02:00 [DBG] Establishing new connection.
2024-01-10 11:43:06.852 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 11:43:06.852 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 11:43:06.898 +02:00 [DBG] Connection id "0HN0HNRNRJMM8" accepted.
2024-01-10 11:43:06.899 +02:00 [DBG] Connection id "0HN0HNRNRJMM8" started.
2024-01-10 11:43:06.903 +02:00 [DBG] Connection 0HN0HNRNRJMM8 established using the following protocol: "Tls12"
2024-01-10 11:43:06.904 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 11:43:06.905 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:06.906 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:06.906 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:43:06.906 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 2.0899ms
2024-01-10 11:43:06.910 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 11:43:06.910 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:06.910 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:06.910 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:43:06.910 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 11:43:06.910 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:43:06.910 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:43:06.910 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:43:06.910 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:43:06.910 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:43:06.910 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:43:06.911 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:43:06.911 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:43:06.911 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:43:06.911 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:43:06.911 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:43:06.911 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:43:06.911 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:43:06.911 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:43:06.911 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 11:43:06.911 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 11:43:06.911 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 11:43:06.911 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 11:43:06.911 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:43:06.911 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:43:06.911 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 11:43:06.911 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:43:06.911 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:43:06.911 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 11:43:06.911 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 11:43:06.912 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 11:43:06.912 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 11:43:06.912 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 11:43:06.912 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 11:43:06.912 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 11:43:06.912 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 11:43:06.912 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 11:43:06.912 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 11:43:06.912 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:43:06.912 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:43:06.912 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:43:06.912 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:43:06.912 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 11:43:06.913 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:43:06.913 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:06.913 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:06.913 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:06.914 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:06.914 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:43:06.915 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:43:06.915 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:06.915 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:43:06.915 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:06.915 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:06.918 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:43:06.918 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:06.918 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:06.918 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:06.918 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:06.918 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:43:06.922 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:43:06.923 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:06.923 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:06.923 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:06.923 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:06.923 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:06.923 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:06.923 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:06.923 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:06.923 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:43:06.923 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:06.923 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:06.924 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:43:06.924 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:43:06.924 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:43:06.924 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:43:06.924 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:43:06.924 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:43:06.924 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 13.4245ms
2024-01-10 11:43:06.924 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:43:06.924 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 14.0881 ms
2024-01-10 11:43:06.925 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 360 application/json;+charset=utf-8 14.6852ms
2024-01-10 11:43:06.980 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 11:43:06.980 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 11:43:06.989 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 11:43:06.989 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:43:06.989 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:06.989 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:06.990 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:06.990 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:06.990 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:43:06.991 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:43:06.991 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:06.991 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:43:06.992 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:06.992 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:14.291 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/9 - -
2024-01-10 11:43:14.291 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:14.291 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:14.291 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:43:14.291 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/9 - - - 204 - - 0.5704ms
2024-01-10 11:43:14.293 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7137/api/User/9 text/plain;+charset=utf-8 -
2024-01-10 11:43:14.293 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:14.293 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:14.293 +02:00 [DBG] DELETE requests are not supported
2024-01-10 11:43:14.294 +02:00 [DBG] DELETE requests are not supported
2024-01-10 11:43:14.294 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/9'
2024-01-10 11:43:14.294 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/9'
2024-01-10 11:43:14.294 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 11:43:14.294 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 11:43:14.297 +02:00 [INF] Route matched with {action = "DeleteUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:43:14.297 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:43:14.297 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:43:14.297 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:43:14.297 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:43:14.297 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:43:14.297 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:43:14.297 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:43:14.297 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 11:43:14.297 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 11:43:14.297 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 11:43:14.298 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 11:43:14.298 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 11:43:14.298 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 11:43:14.299 +02:00 [INF] DeleteUserById by user id: 9
2024-01-10 11:43:14.301 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:43:14.301 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:14.301 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:14.301 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.301 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.301 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 11:43:14.306 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 11:43:14.307 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:14.308 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:14.308 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:14.308 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.309 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 11:43:14.309 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.309 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:14.312 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:14.315 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 11:43:14.315 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 11:43:14.318 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 11:43:14.332 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.332 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.332 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:43:14.333 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:14.333 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:14.333 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 11:43:14.342 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 11:43:14.345 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.345 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-01-10 11:43:14.345 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.345 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:14.351 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:14.351 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 11:43:14.351 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:43:14.351 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:43:14.351 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:43:14.351 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:43:14.351 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 11:43:14.351 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 11:43:14.352 +02:00 [INF] Executed action WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi) in 54.3571ms
2024-01-10 11:43:14.352 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 11:43:14.352 +02:00 [INF] HTTP DELETE /api/User/9 responded 200 in 58.0799 ms
2024-01-10 11:43:14.352 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7137/api/User/9 text/plain;+charset=utf-8 - - 200 - text/plain;+charset=utf-8 58.8229ms
2024-01-10 11:43:14.356 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 11:43:14.356 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:14.356 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:14.356 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:43:14.356 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.3344ms
2024-01-10 11:43:14.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 11:43:14.358 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:14.358 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:14.358 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:43:14.358 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 11:43:14.358 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:43:14.358 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:43:14.358 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:43:14.358 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:43:14.358 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:43:14.358 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:43:14.358 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:43:14.358 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:43:14.359 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:43:14.359 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:43:14.359 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:43:14.359 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:43:14.359 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:43:14.359 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:43:14.359 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 11:43:14.359 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 11:43:14.359 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 11:43:14.359 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 11:43:14.359 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:43:14.359 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:43:14.359 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 11:43:14.360 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:43:14.360 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:43:14.360 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 11:43:14.360 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 11:43:14.360 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 11:43:14.360 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 11:43:14.360 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 11:43:14.360 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 11:43:14.360 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 11:43:14.360 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 11:43:14.360 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 11:43:14.360 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 11:43:14.360 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:43:14.360 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:43:14.361 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:43:14.361 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:43:14.361 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 11:43:14.362 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:43:14.362 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:14.362 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:14.362 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.362 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.362 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:43:14.363 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:43:14.363 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.363 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:43:14.363 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.363 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:14.364 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:43:14.364 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:14.364 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:14.365 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.365 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.365 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:43:14.367 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:43:14.367 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:14.367 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:14.367 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:14.367 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:14.367 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:14.367 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:14.367 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.368 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:43:14.368 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:14.368 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:14.368 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:43:14.368 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:43:14.368 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:43:14.368 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:43:14.368 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:43:14.368 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:43:14.368 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 9.2662ms
2024-01-10 11:43:14.368 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:43:14.368 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 10.0644 ms
2024-01-10 11:43:14.368 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 279 application/json;+charset=utf-8 10.7508ms
2024-01-10 11:43:15.501 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 11:43:15.502 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:15.502 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:15.502 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:43:15.503 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 1.7571ms
2024-01-10 11:43:15.505 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 11:43:15.505 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:15.505 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:15.506 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:43:15.506 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 11:43:15.506 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 11:43:15.506 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 11:43:15.506 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:43:15.506 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:43:15.506 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 11:43:15.506 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:43:15.506 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:43:15.506 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:43:15.506 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:43:15.506 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:43:15.506 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 11:43:15.506 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 11:43:15.506 +02:00 [INF] GetAllRoles
2024-01-10 11:43:15.506 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:43:15.506 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:15.506 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:15.507 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:15.507 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:15.507 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 11:43:15.509 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 11:43:15.509 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:15.509 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:15.510 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:15.510 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:15.510 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:15.510 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:43:15.510 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:15.510 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:15.510 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:43:15.510 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:43:15.510 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:43:15.510 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:43:15.510 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:43:15.510 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:43:15.510 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 4.0871ms
2024-01-10 11:43:15.510 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:43:15.510 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 4.6802 ms
2024-01-10 11:43:15.511 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 5.6492ms
2024-01-10 11:43:16.501 +02:00 [DBG] Connection id "0HN0HNRNRJMM8" received FIN.
2024-01-10 11:43:16.501 +02:00 [DBG] Connection id "0HN0HNRNRJMM8" is closed. The last processed stream ID was 15.
2024-01-10 11:43:16.501 +02:00 [DBG] Connection id "0HN0HNRNRJMM8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:43:16.502 +02:00 [DBG] Connection id "0HN0HNRNRJMM8" stopped.
2024-01-10 11:43:25.239 +02:00 [DBG] Connection id "0HN0HNRNRJMM9" accepted.
2024-01-10 11:43:25.239 +02:00 [DBG] Connection id "0HN0HNRNRJMM9" started.
2024-01-10 11:43:25.241 +02:00 [DBG] Connection 0HN0HNRNRJMM9 established using the following protocol: "Tls12"
2024-01-10 11:43:25.242 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - -
2024-01-10 11:43:25.242 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:25.243 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:25.243 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:43:25.243 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - - - 204 - - 0.8337ms
2024-01-10 11:43:25.244 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json 133
2024-01-10 11:43:25.244 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:25.244 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:25.244 +02:00 [DBG] POST requests are not supported
2024-01-10 11:43:25.244 +02:00 [DBG] POST requests are not supported
2024-01-10 11:43:25.244 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-10 11:43:25.244 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-10 11:43:25.244 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 11:43:25.244 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 11:43:25.244 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:43:25.244 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:43:25.245 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:43:25.245 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:43:25.245 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:43:25.245 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:43:25.245 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:43:25.245 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:43:25.245 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 11:43:25.245 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 11:43:25.245 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 11:43:25.245 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 11:43:25.245 +02:00 [DBG] Connection id "0HN0HNRNRJMM9", Request id "0HN0HNRNRJMM9:00000003": started reading request body.
2024-01-10 11:43:25.245 +02:00 [DBG] Connection id "0HN0HNRNRJMM9", Request id "0HN0HNRNRJMM9:00000003": done reading request body.
2024-01-10 11:43:25.245 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 11:43:25.245 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 11:43:25.245 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 11:43:25.245 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 11:43:25.246 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "Oana",
  "LastName": "Ghicajanu",
  "Email": "o@gmail.com",
  "Username": "o",
  "Password": "o",
  "IsActive": true,
  "RoleId": 2
}
2024-01-10 11:43:25.246 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:43:25.246 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:25.246 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:25.246 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.246 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.246 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 11:43:25.247 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 11:43:25.248 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.248 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:43:25.248 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.248 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:25.248 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:25.248 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:25.248 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 11:43:25.248 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 11:43:25.248 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 11:43:25.248 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.248 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.249 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:43:25.249 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:25.249 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:25.249 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 11:43:25.253 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 11:43:25.253 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 11:43:25.253 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.253 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:43:25.253 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.253 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:25.253 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:25.253 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 11:43:25.254 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-10 11:43:25.254 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 9.0162ms
2024-01-10 11:43:25.254 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 11:43:25.254 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 9.4993 ms
2024-01-10 11:43:25.254 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json 133 - 200 0 - 10.0738ms
2024-01-10 11:43:25.264 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 11:43:25.264 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:25.264 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:25.264 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:43:25.265 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.8064ms
2024-01-10 11:43:25.267 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 11:43:25.267 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:43:25.267 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:43:25.267 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:43:25.268 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 11:43:25.268 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:43:25.268 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:43:25.268 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:43:25.268 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:43:25.268 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:43:25.268 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:43:25.268 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:43:25.268 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:43:25.268 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:43:25.268 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:43:25.268 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:43:25.268 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:43:25.268 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:43:25.268 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:43:25.268 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 11:43:25.268 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 11:43:25.268 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 11:43:25.268 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 11:43:25.268 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:43:25.269 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:43:25.269 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 11:43:25.269 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:43:25.269 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:43:25.269 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 11:43:25.269 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 11:43:25.269 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 11:43:25.269 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 11:43:25.269 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 11:43:25.269 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 11:43:25.269 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 11:43:25.269 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 11:43:25.269 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 11:43:25.269 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 11:43:25.269 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:43:25.269 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:43:25.269 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:43:25.269 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:43:25.269 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 11:43:25.271 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:43:25.271 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:25.271 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:25.271 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.271 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.271 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:43:25.272 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:43:25.272 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.272 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:43:25.272 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.272 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:25.273 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:43:25.273 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:25.273 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:43:25.273 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.274 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.274 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:43:25.276 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:43:25.276 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:25.277 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:25.277 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:25.277 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:25.277 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:25.277 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:25.277 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:43:25.277 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.277 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:43:25.277 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:43:25.277 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:43:25.277 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:43:25.277 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:43:25.277 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:43:25.277 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:43:25.278 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:43:25.278 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:43:25.279 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 11.0907ms
2024-01-10 11:43:25.279 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:43:25.279 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 11.7935 ms
2024-01-10 11:43:25.280 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 358 application/json;+charset=utf-8 12.2893ms
2024-01-10 11:43:26.503 +02:00 [DBG] Connection id "0HN0HNRNRJMM9" received FIN.
2024-01-10 11:43:26.503 +02:00 [DBG] Connection id "0HN0HNRNRJMM9" is closed. The last processed stream ID was 7.
2024-01-10 11:43:26.503 +02:00 [DBG] Connection id "0HN0HNRNRJMM9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:43:26.511 +02:00 [DBG] Connection id "0HN0HNRNRJMM9" stopped.
2024-01-10 11:46:56.808 +02:00 [DBG] Connection id "0HN0HNRNRJMM7" received FIN.
2024-01-10 11:46:56.808 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 11:46:56.809 +02:00 [DBG] Socket closed.
2024-01-10 11:46:56.810 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 11:46:56.810 +02:00 [DBG] Connection id "0HN0HNRNRJMM7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:46:56.811 +02:00 [DBG] Removing connection gcTWRq7nOoeol6k9M3-9Ug from the list of connections.
2024-01-10 11:46:56.813 +02:00 [DBG] Connection id "0HN0HNRNRJMM7" disconnecting.
2024-01-10 11:46:56.813 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 11:46:56.813 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 229978.5991 ms
2024-01-10 11:46:56.817 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 229978.9688ms
2024-01-10 11:46:56.817 +02:00 [DBG] Connection id "0HN0HNRNRJMM7" stopped.
2024-01-10 11:46:57.179 +02:00 [DBG] Connection id "0HN0HNRNRJMMA" accepted.
2024-01-10 11:46:57.180 +02:00 [DBG] Connection id "0HN0HNRNRJMMA" started.
2024-01-10 11:46:57.180 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 11:46:57.180 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:46:57.180 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:46:57.180 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:46:57.180 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 11:46:57.180 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 11:46:57.180 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 11:46:57.180 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 11:46:57.180 +02:00 [DBG] New connection SHhcAOe7SFuG4kTKXfLNPQ created.
2024-01-10 11:46:57.180 +02:00 [DBG] Establishing new connection.
2024-01-10 11:46:57.181 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 11:46:57.181 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 11:46:57.245 +02:00 [DBG] Connection id "0HN0HNRNRJMMB" accepted.
2024-01-10 11:46:57.245 +02:00 [DBG] Connection id "0HN0HNRNRJMMB" started.
2024-01-10 11:46:57.252 +02:00 [DBG] Connection 0HN0HNRNRJMMB established using the following protocol: "Tls12"
2024-01-10 11:46:57.253 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 11:46:57.253 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:46:57.253 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:46:57.253 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:46:57.254 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 1.0215ms
2024-01-10 11:46:57.255 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 11:46:57.255 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:46:57.255 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:46:57.255 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:46:57.255 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 11:46:57.255 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:46:57.256 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:46:57.256 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:46:57.256 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:46:57.256 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:46:57.256 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:46:57.256 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:46:57.256 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:46:57.256 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:46:57.256 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:46:57.256 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:46:57.256 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:46:57.256 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:46:57.256 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:46:57.256 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 11:46:57.256 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 11:46:57.256 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 11:46:57.256 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 11:46:57.256 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:46:57.256 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:46:57.256 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 11:46:57.256 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:46:57.256 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:46:57.257 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 11:46:57.257 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 11:46:57.257 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 11:46:57.257 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 11:46:57.257 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 11:46:57.257 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 11:46:57.257 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 11:46:57.257 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 11:46:57.257 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 11:46:57.257 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 11:46:57.257 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:46:57.257 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:46:57.257 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:46:57.257 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:46:57.257 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 11:46:57.259 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:46:57.259 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:46:57.259 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:46:57.259 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:46:57.259 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:46:57.259 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:46:57.260 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:46:57.261 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:46:57.261 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:46:57.261 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:46:57.261 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:46:57.262 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:46:57.262 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:46:57.262 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:46:57.262 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:46:57.262 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:46:57.262 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:46:57.265 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:46:57.266 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:46:57.266 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:46:57.266 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:46:57.266 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:46:57.266 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:46:57.266 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:46:57.266 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:46:57.266 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:46:57.266 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:46:57.266 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:46:57.266 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:46:57.266 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:46:57.267 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:46:57.267 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:46:57.267 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:46:57.267 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:46:57.267 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:46:57.267 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 10.9643ms
2024-01-10 11:46:57.267 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:46:57.267 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 11.5334 ms
2024-01-10 11:46:57.267 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 358 application/json;+charset=utf-8 12.1061ms
2024-01-10 11:46:57.324 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 11:46:57.324 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 11:46:57.334 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 11:46:57.334 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:46:57.334 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:46:57.334 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:46:57.334 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:46:57.334 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:46:57.334 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:46:57.336 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:46:57.336 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:46:57.336 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:46:57.336 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:46:57.336 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:49:53.952 +02:00 [DBG] Connection id "0HN0HNRNRJMMB" received FIN.
2024-01-10 11:49:53.979 +02:00 [DBG] Connection id "0HN0HNRNRJMMB" is closed. The last processed stream ID was 3.
2024-01-10 11:49:53.983 +02:00 [DBG] Connection id "0HN0HNRNRJMMB" stopped.
2024-01-10 11:49:53.984 +02:00 [DBG] Connection id "0HN0HNRNRJMMB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:50:02.448 +02:00 [DBG] Connection id "0HN0HNRNRJMMA" received FIN.
2024-01-10 11:50:02.448 +02:00 [DBG] Connection id "0HN0HNRNRJMMA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:50:02.448 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 11:50:02.449 +02:00 [DBG] Connection id "0HN0HNRNRJMMA" disconnecting.
2024-01-10 11:50:02.449 +02:00 [DBG] Socket closed.
2024-01-10 11:50:02.449 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 11:50:02.450 +02:00 [DBG] Removing connection SHhcAOe7SFuG4kTKXfLNPQ from the list of connections.
2024-01-10 11:50:02.450 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 11:50:02.450 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 185281.8301 ms
2024-01-10 11:50:02.461 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 185289.1241ms
2024-01-10 11:50:02.461 +02:00 [DBG] Connection id "0HN0HNRNRJMMA" stopped.
2024-01-10 11:50:02.801 +02:00 [DBG] Connection id "0HN0HNRNRJMMC" accepted.
2024-01-10 11:50:02.801 +02:00 [DBG] Connection id "0HN0HNRNRJMMC" started.
2024-01-10 11:50:02.802 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 11:50:02.802 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:02.802 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:02.802 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:50:02.802 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 11:50:02.802 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 11:50:02.802 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 11:50:02.802 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 11:50:02.802 +02:00 [DBG] New connection nGNz1FWANvMYNazrhSg2eg created.
2024-01-10 11:50:02.802 +02:00 [DBG] Establishing new connection.
2024-01-10 11:50:02.802 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 11:50:02.802 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 11:50:02.849 +02:00 [DBG] Connection id "0HN0HNRNRJMMD" accepted.
2024-01-10 11:50:02.849 +02:00 [DBG] Connection id "0HN0HNRNRJMMD" started.
2024-01-10 11:50:02.851 +02:00 [DBG] Connection 0HN0HNRNRJMMD established using the following protocol: "Tls12"
2024-01-10 11:50:02.852 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 11:50:02.856 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:02.856 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:02.856 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:50:02.861 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 8.8330ms
2024-01-10 11:50:02.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 11:50:02.863 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:02.863 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:02.863 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:50:02.863 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 11:50:02.863 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:50:02.863 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:50:02.863 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:50:02.863 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:50:02.863 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:50:02.864 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:50:02.864 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:50:02.864 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:50:02.864 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:50:02.864 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:50:02.864 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:50:02.864 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:02.864 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:02.864 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:50:02.864 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 11:50:02.864 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 11:50:02.864 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 11:50:02.864 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 11:50:02.864 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:50:02.864 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:50:02.865 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 11:50:02.865 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:50:02.865 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:50:02.865 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 11:50:02.865 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 11:50:02.865 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 11:50:02.865 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 11:50:02.865 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 11:50:02.865 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 11:50:02.865 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 11:50:02.865 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 11:50:02.865 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 11:50:02.865 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 11:50:02.865 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:50:02.865 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:50:02.865 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:50:02.866 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:50:02.866 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 11:50:02.867 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:02.867 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:02.867 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:02.867 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:02.867 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:02.867 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:50:02.869 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:50:02.869 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:02.869 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:02.869 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:02.870 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:02.874 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:02.874 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:02.874 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:02.874 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:02.874 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:02.874 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:50:02.879 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:50:02.879 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:02.880 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:02.880 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:02.880 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:02.880 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:02.880 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:02.880 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:02.880 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:02.880 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:02.880 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:02.880 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:02.881 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:50:02.881 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:50:02.881 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:50:02.881 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:50:02.881 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:50:02.881 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:50:02.881 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 17.4394ms
2024-01-10 11:50:02.881 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:50:02.881 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 18.2356 ms
2024-01-10 11:50:02.882 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 358 application/json;+charset=utf-8 18.8517ms
2024-01-10 11:50:02.928 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 11:50:02.928 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 11:50:02.931 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 11:50:02.931 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:02.932 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:02.932 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:02.932 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:02.932 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:02.932 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:50:02.934 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 11:50:02.935 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:02.935 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:02.935 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:02.935 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:08.483 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/10 - -
2024-01-10 11:50:08.483 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:08.483 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:08.483 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:50:08.483 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/10 - - - 204 - - 0.5002ms
2024-01-10 11:50:08.486 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7137/api/User/10 text/plain;+charset=utf-8 -
2024-01-10 11:50:08.486 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:08.486 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:08.486 +02:00 [DBG] DELETE requests are not supported
2024-01-10 11:50:08.486 +02:00 [DBG] DELETE requests are not supported
2024-01-10 11:50:08.486 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/10'
2024-01-10 11:50:08.487 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/10'
2024-01-10 11:50:08.487 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 11:50:08.487 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 11:50:08.487 +02:00 [INF] Route matched with {action = "DeleteUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:50:08.487 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:50:08.487 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:50:08.487 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:50:08.487 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:50:08.487 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:50:08.488 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:08.488 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:08.488 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 11:50:08.488 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 11:50:08.488 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 11:50:08.489 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 11:50:08.489 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 11:50:08.489 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 11:50:08.489 +02:00 [INF] DeleteUserById by user id: 10
2024-01-10 11:50:08.489 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:08.489 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:08.489 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:08.489 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.489 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.490 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 11:50:08.493 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 11:50:08.493 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:08.494 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:08.495 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:08.495 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.495 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-01-10 11:50:08.495 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.495 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:08.496 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:08.496 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 11:50:08.496 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 11:50:08.496 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 11:50:08.497 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.497 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.497 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:08.497 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:08.497 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:08.497 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 11:50:08.502 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 11:50:08.502 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.502 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:08.502 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.502 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:08.502 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:08.502 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 11:50:08.502 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:50:08.502 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:50:08.503 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:50:08.503 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:50:08.503 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 11:50:08.503 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 11:50:08.503 +02:00 [INF] Executed action WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi) in 15.3331ms
2024-01-10 11:50:08.503 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 11:50:08.503 +02:00 [INF] HTTP DELETE /api/User/10 responded 200 in 16.3895 ms
2024-01-10 11:50:08.503 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7137/api/User/10 text/plain;+charset=utf-8 - - 200 - text/plain;+charset=utf-8 17.1130ms
2024-01-10 11:50:08.506 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 11:50:08.506 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:08.506 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:08.506 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:50:08.506 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.3850ms
2024-01-10 11:50:08.508 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 11:50:08.509 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:08.509 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:08.509 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:50:08.509 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 11:50:08.509 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:50:08.509 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:50:08.509 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:50:08.509 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:50:08.509 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:50:08.509 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:50:08.509 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:50:08.510 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:50:08.510 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:50:08.510 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:50:08.510 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:50:08.510 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:08.510 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:08.510 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:50:08.510 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 11:50:08.511 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 11:50:08.511 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 11:50:08.511 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 11:50:08.511 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:50:08.511 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:50:08.511 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 11:50:08.511 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:50:08.511 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:50:08.511 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 11:50:08.511 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 11:50:08.511 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 11:50:08.511 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 11:50:08.511 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 11:50:08.511 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 11:50:08.511 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 11:50:08.511 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 11:50:08.511 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 11:50:08.511 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 11:50:08.512 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:50:08.512 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:50:08.512 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:50:08.512 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:50:08.512 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 11:50:08.514 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:08.514 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:08.514 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:08.514 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.514 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.514 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:50:08.515 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:50:08.515 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.515 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:08.515 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.515 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:08.516 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:08.516 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:08.516 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:08.516 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.516 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.516 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:50:08.518 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:50:08.519 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:08.519 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:08.519 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:08.519 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:08.519 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:08.519 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:08.519 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.519 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:08.519 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:08.519 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:08.519 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:50:08.519 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:50:08.519 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:50:08.519 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:50:08.519 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:50:08.519 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:50:08.519 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 9.7083ms
2024-01-10 11:50:08.520 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:50:08.520 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 10.5713 ms
2024-01-10 11:50:08.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 279 application/json;+charset=utf-8 11.3630ms
2024-01-10 11:50:12.322 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/8 - -
2024-01-10 11:50:12.322 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:12.322 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:12.322 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:50:12.322 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/8 - - - 204 - - 0.3780ms
2024-01-10 11:50:12.325 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7137/api/User/8 text/plain;+charset=utf-8 -
2024-01-10 11:50:12.325 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:12.325 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:12.325 +02:00 [DBG] DELETE requests are not supported
2024-01-10 11:50:12.325 +02:00 [DBG] DELETE requests are not supported
2024-01-10 11:50:12.325 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/8'
2024-01-10 11:50:12.325 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/8'
2024-01-10 11:50:12.325 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 11:50:12.325 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 11:50:12.325 +02:00 [INF] Route matched with {action = "DeleteUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:50:12.325 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:50:12.325 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:50:12.325 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:50:12.325 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:50:12.325 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:50:12.325 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:12.325 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:12.325 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 11:50:12.325 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 11:50:12.325 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 11:50:12.326 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 11:50:12.326 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 11:50:12.326 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 11:50:12.326 +02:00 [INF] DeleteUserById by user id: 8
2024-01-10 11:50:12.326 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:12.326 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:12.326 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:12.326 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.326 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.326 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 11:50:12.328 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 11:50:12.329 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:12.329 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:12.329 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:12.329 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.329 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:12.329 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.329 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:12.329 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:12.329 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 11:50:12.329 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 11:50:12.329 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 11:50:12.329 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.330 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.330 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:12.330 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:12.330 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:12.330 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 11:50:12.333 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 11:50:12.333 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.333 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:12.333 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.333 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:12.334 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:12.334 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 11:50:12.334 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:50:12.334 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:50:12.334 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:50:12.334 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:50:12.334 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 11:50:12.334 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 11:50:12.335 +02:00 [INF] Executed action WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi) in 9.2246ms
2024-01-10 11:50:12.335 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 11:50:12.335 +02:00 [INF] HTTP DELETE /api/User/8 responded 200 in 9.7493 ms
2024-01-10 11:50:12.335 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7137/api/User/8 text/plain;+charset=utf-8 - - 200 - text/plain;+charset=utf-8 10.3356ms
2024-01-10 11:50:12.340 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 11:50:12.340 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:12.340 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:12.341 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:50:12.341 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 11:50:12.341 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:50:12.341 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:50:12.341 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:50:12.341 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:50:12.341 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:50:12.341 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:50:12.341 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:50:12.341 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:50:12.341 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:50:12.341 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:50:12.341 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:50:12.341 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:12.341 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:12.341 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:50:12.341 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 11:50:12.342 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 11:50:12.342 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 11:50:12.342 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 11:50:12.342 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:50:12.342 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:50:12.342 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 11:50:12.342 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:50:12.342 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:50:12.342 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 11:50:12.342 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 11:50:12.342 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 11:50:12.342 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 11:50:12.342 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 11:50:12.342 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 11:50:12.342 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 11:50:12.342 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 11:50:12.342 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 11:50:12.342 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 11:50:12.342 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:50:12.342 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:50:12.342 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:50:12.342 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:50:12.342 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 11:50:12.343 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:12.344 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:12.344 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:12.344 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.344 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.344 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:50:12.344 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:50:12.344 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.344 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:12.344 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.344 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:12.345 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:12.345 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:12.345 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:12.345 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.346 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.346 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:50:12.348 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:50:12.348 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:12.348 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:12.348 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:12.348 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.348 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:12.348 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:12.349 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:12.349 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:50:12.349 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:50:12.349 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:50:12.349 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:50:12.349 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:50:12.349 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:50:12.349 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 8.0428ms
2024-01-10 11:50:12.349 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:50:12.349 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 8.6674 ms
2024-01-10 11:50:12.350 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 195 application/json;+charset=utf-8 10.0892ms
2024-01-10 11:50:13.333 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 11:50:13.333 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:13.333 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:13.333 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:50:13.333 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.7927ms
2024-01-10 11:50:13.337 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 11:50:13.338 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:13.338 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:13.338 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:50:13.338 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 11:50:13.338 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 11:50:13.338 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 11:50:13.338 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:50:13.338 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:50:13.338 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 11:50:13.338 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:50:13.338 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:50:13.338 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:50:13.338 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:50:13.338 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:50:13.338 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 11:50:13.338 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 11:50:13.338 +02:00 [INF] GetAllRoles
2024-01-10 11:50:13.339 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:13.339 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:13.339 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:13.339 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:13.339 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:13.339 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 11:50:13.341 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 11:50:13.341 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:13.341 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:13.342 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:13.342 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:13.342 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:13.342 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:13.342 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:13.342 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:13.342 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:50:13.342 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:50:13.342 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:50:13.342 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:50:13.342 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:50:13.342 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:50:13.342 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 3.8423ms
2024-01-10 11:50:13.342 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:50:13.342 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 4.4685 ms
2024-01-10 11:50:13.342 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 5.0542ms
2024-01-10 11:50:23.871 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - -
2024-01-10 11:50:23.871 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:23.871 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:23.871 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:50:23.871 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - - - 204 - - 0.8073ms
2024-01-10 11:50:23.874 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json 133
2024-01-10 11:50:23.874 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:23.874 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:23.874 +02:00 [DBG] POST requests are not supported
2024-01-10 11:50:23.874 +02:00 [DBG] POST requests are not supported
2024-01-10 11:50:23.874 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-10 11:50:23.874 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-10 11:50:23.874 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 11:50:23.874 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 11:50:23.874 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:50:23.874 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:50:23.874 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:50:23.874 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:50:23.874 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:50:23.874 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:50:23.874 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:23.874 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:23.874 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 11:50:23.875 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 11:50:23.875 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 11:50:23.875 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 11:50:23.875 +02:00 [DBG] Connection id "0HN0HNRNRJMMD", Request id "0HN0HNRNRJMMD:00000019": started reading request body.
2024-01-10 11:50:23.875 +02:00 [DBG] Connection id "0HN0HNRNRJMMD", Request id "0HN0HNRNRJMMD:00000019": done reading request body.
2024-01-10 11:50:23.875 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 11:50:23.875 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 11:50:23.875 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 11:50:23.875 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 11:50:23.875 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "Oana",
  "LastName": "Ghicajanu",
  "Email": "o@gmail.com",
  "Username": "o",
  "Password": "o",
  "IsActive": true,
  "RoleId": 2
}
2024-01-10 11:50:23.875 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:23.875 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:23.875 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:23.875 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.875 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.875 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 11:50:23.877 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 11:50:23.877 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.877 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:23.877 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.877 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:23.877 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:23.877 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:23.877 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 11:50:23.877 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 11:50:23.877 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 11:50:23.877 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.877 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.878 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:23.878 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:23.878 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:23.878 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 11:50:23.882 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 11:50:23.882 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 11:50:23.882 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.882 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:23.882 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.882 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:23.882 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:23.882 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 11:50:23.883 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-10 11:50:23.883 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 8.2026ms
2024-01-10 11:50:23.883 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 11:50:23.883 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 8.6865 ms
2024-01-10 11:50:23.883 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json 133 - 200 0 - 9.3975ms
2024-01-10 11:50:23.893 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 11:50:23.893 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:23.893 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:23.893 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:50:23.894 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.7552ms
2024-01-10 11:50:23.896 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 11:50:23.896 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:50:23.896 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:50:23.896 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:50:23.896 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 11:50:23.896 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:50:23.896 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:50:23.896 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:50:23.896 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:50:23.896 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:50:23.897 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:50:23.897 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:50:23.897 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:50:23.897 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:50:23.897 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:50:23.897 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:50:23.897 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:23.897 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:50:23.897 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:50:23.897 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 11:50:23.897 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 11:50:23.897 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 11:50:23.897 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 11:50:23.897 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:50:23.897 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:50:23.898 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 11:50:23.898 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:50:23.898 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:50:23.898 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 11:50:23.898 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 11:50:23.898 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 11:50:23.898 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 11:50:23.898 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 11:50:23.898 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 11:50:23.898 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 11:50:23.898 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 11:50:23.898 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 11:50:23.898 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 11:50:23.899 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:50:23.899 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:50:23.899 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:50:23.899 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:50:23.899 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 11:50:23.901 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:23.901 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:23.901 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:23.901 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.901 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.901 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:50:23.901 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:50:23.902 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.902 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:23.902 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.902 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:23.903 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:50:23.903 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:23.903 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:50:23.903 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.903 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.903 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:50:23.905 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:50:23.906 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:23.906 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:23.906 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:23.906 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:23.906 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:23.906 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:50:23.906 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.906 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:50:23.906 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:50:23.906 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:50:23.906 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:50:23.906 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:50:23.906 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:50:23.906 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:50:23.906 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:50:23.907 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:50:23.907 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 9.947ms
2024-01-10 11:50:23.907 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:50:23.907 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 10.4958 ms
2024-01-10 11:50:23.907 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 274 application/json;+charset=utf-8 11.1414ms
2024-01-10 11:50:27.112 +02:00 [DBG] Connection id "0HN0HNRNRJMMD" received FIN.
2024-01-10 11:50:27.112 +02:00 [DBG] Connection id "0HN0HNRNRJMMD" is closed. The last processed stream ID was 29.
2024-01-10 11:50:27.112 +02:00 [DBG] Connection id "0HN0HNRNRJMMD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:50:27.118 +02:00 [DBG] Connection id "0HN0HNRNRJMMD" stopped.
2024-01-10 11:58:19.886 +02:00 [DBG] Connection id "0HN0HNRNRJMME" accepted.
2024-01-10 11:58:19.886 +02:00 [DBG] Connection id "0HN0HNRNRJMME" started.
2024-01-10 11:58:19.888 +02:00 [DBG] Connection 0HN0HNRNRJMME established using the following protocol: "Tls12"
2024-01-10 11:58:19.891 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 11:58:19.892 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:58:19.892 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:58:19.892 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:58:19.892 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 1.6251ms
2024-01-10 11:58:19.898 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 11:58:19.898 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:58:19.898 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:58:19.898 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:58:19.898 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 11:58:19.898 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 11:58:19.898 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 11:58:19.899 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:58:19.899 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:58:19.899 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 11:58:19.899 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:58:19.899 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:58:19.899 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:58:19.899 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:58:19.899 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:58:19.899 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 11:58:19.900 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 11:58:19.900 +02:00 [INF] GetAllRoles
2024-01-10 11:58:19.900 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:58:19.900 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:58:19.900 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:58:19.900 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:19.999 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:20.000 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 11:58:20.003 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 11:58:20.004 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:20.004 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:20.004 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:20.004 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:20.004 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:20.004 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:58:20.004 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:20.004 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:58:20.004 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:58:20.004 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:58:20.004 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:58:20.004 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:58:20.004 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:58:20.004 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:58:20.004 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 104.9333ms
2024-01-10 11:58:20.004 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 11:58:20.004 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 106.1140 ms
2024-01-10 11:58:20.005 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 107.0692ms
2024-01-10 11:58:34.570 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - -
2024-01-10 11:58:34.570 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:58:34.570 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:58:34.570 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:58:34.571 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - - - 204 - - 0.6278ms
2024-01-10 11:58:34.575 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json 136
2024-01-10 11:58:34.575 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:58:34.575 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:58:34.575 +02:00 [DBG] POST requests are not supported
2024-01-10 11:58:34.575 +02:00 [DBG] POST requests are not supported
2024-01-10 11:58:34.575 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-10 11:58:34.575 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-10 11:58:34.575 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 11:58:34.575 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 11:58:34.575 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:58:34.575 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:58:34.575 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:58:34.575 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:58:34.575 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:58:34.575 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:58:34.575 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:58:34.575 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:58:34.575 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 11:58:34.575 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 11:58:34.576 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 11:58:34.576 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 11:58:34.576 +02:00 [DBG] Connection id "0HN0HNRNRJMME", Request id "0HN0HNRNRJMME:00000007": started reading request body.
2024-01-10 11:58:34.576 +02:00 [DBG] Connection id "0HN0HNRNRJMME", Request id "0HN0HNRNRJMME:00000007": done reading request body.
2024-01-10 11:58:34.576 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 11:58:34.576 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 11:58:34.576 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 11:58:34.576 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 11:58:34.576 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "Mihaela",
  "LastName": "Ghicajanu",
  "Email": "m@gmail.com",
  "Username": "m",
  "Password": "m",
  "IsActive": true,
  "RoleId": 2
}
2024-01-10 11:58:34.576 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:58:34.576 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:58:34.576 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:58:34.576 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.576 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.576 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 11:58:34.581 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 11:58:34.581 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.581 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:58:34.581 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.581 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:58:34.582 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:34.582 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:34.582 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 11:58:34.582 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 11:58:34.582 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 11:58:34.582 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.582 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.582 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:58:34.582 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:58:34.583 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:58:34.583 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 11:58:34.587 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 11:58:34.587 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 11:58:34.587 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.587 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:58:34.587 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.587 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:58:34.588 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:34.588 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 11:58:34.588 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-10 11:58:34.588 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 12.4823ms
2024-01-10 11:58:34.588 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 11:58:34.588 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 12.9411 ms
2024-01-10 11:58:34.588 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json 136 - 200 0 - 13.5536ms
2024-01-10 11:58:34.615 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 11:58:34.615 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:58:34.615 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:58:34.615 +02:00 [DBG] The request is a preflight request.
2024-01-10 11:58:34.615 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.6254ms
2024-01-10 11:58:34.618 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 11:58:34.618 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 11:58:34.618 +02:00 [INF] CORS policy execution successful.
2024-01-10 11:58:34.619 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 11:58:34.619 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 11:58:34.619 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:58:34.619 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:58:34.619 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 11:58:34.619 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:58:34.619 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:58:34.619 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 11:58:34.619 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 11:58:34.619 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 11:58:34.619 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 11:58:34.619 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 11:58:34.619 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 11:58:34.619 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:58:34.620 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 11:58:34.620 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:58:34.620 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 11:58:34.620 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 11:58:34.620 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 11:58:34.620 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 11:58:34.620 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:58:34.620 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 11:58:34.620 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 11:58:34.620 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:58:34.620 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 11:58:34.620 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 11:58:34.621 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 11:58:34.621 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 11:58:34.621 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 11:58:34.621 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 11:58:34.621 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 11:58:34.621 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 11:58:34.621 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 11:58:34.621 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 11:58:34.621 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 11:58:34.621 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:58:34.621 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:58:34.621 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 11:58:34.621 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 11:58:34.621 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 11:58:34.623 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:58:34.623 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:58:34.623 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:58:34.623 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.624 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.624 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:58:34.625 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 11:58:34.625 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.625 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:58:34.625 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.625 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:58:34.626 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 11:58:34.626 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:58:34.626 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 11:58:34.626 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.627 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.627 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:58:34.630 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 11:58:34.631 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:34.631 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:34.631 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:34.631 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:34.631 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:34.631 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:34.631 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 11:58:34.631 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.631 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 11:58:34.631 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 11:58:34.631 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 11:58:34.631 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 11:58:34.632 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 11:58:34.632 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 11:58:34.632 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 11:58:34.632 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 11:58:34.632 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 11:58:34.632 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 12.8029ms
2024-01-10 11:58:34.632 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 11:58:34.633 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 13.8505 ms
2024-01-10 11:58:34.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 353 application/json;+charset=utf-8 14.7073ms
2024-01-10 11:59:28.469 +02:00 [DBG] Connection id "0HN0HNRNRJMME" received FIN.
2024-01-10 11:59:28.478 +02:00 [DBG] Connection id "0HN0HNRNRJMME" is closed. The last processed stream ID was 11.
2024-01-10 11:59:28.478 +02:00 [DBG] Connection id "0HN0HNRNRJMME" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 11:59:28.491 +02:00 [DBG] Connection id "0HN0HNRNRJMME" stopped.
2024-01-10 12:03:21.840 +02:00 [DBG] Connection id "0HN0HNRNRJMMF" accepted.
2024-01-10 12:03:21.841 +02:00 [DBG] Connection id "0HN0HNRNRJMMF" started.
2024-01-10 12:03:21.851 +02:00 [DBG] Connection 0HN0HNRNRJMMF established using the following protocol: "Tls12"
2024-01-10 12:03:21.852 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard - -
2024-01-10 12:03:21.852 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:03:21.852 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:03:21.852 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:03:21.852 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard - - - 204 - - 0.4269ms
2024-01-10 12:03:21.854 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json -
2024-01-10 12:03:21.854 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:03:21.854 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:03:21.854 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:03:21.854 +02:00 [DBG] The request path /api/DeviceMaintenance/getAllMaintenancesDashboard does not match a supported file type
2024-01-10 12:03:21.854 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 12:03:21.854 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 12:03:21.854 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 12:03:21.854 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 12:03:21.857 +02:00 [INF] Route matched with {action = "GetDeviceMaintenanceById", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenanceByIdAsync(Int32) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-01-10 12:03:21.857 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:03:21.857 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:03:21.857 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:03:21.857 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:03:21.857 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:03:21.857 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 12:03:21.858 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 12:03:21.858 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-01-10 12:03:21.859 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-01-10 12:03:21.870 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-01-10 12:03:21.870 +02:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-01-10 12:03:21.870 +02:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-01-10 12:03:21.871 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:03:21.875 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:03:21.875 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:03:21.875 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:03:21.876 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:03:21.876 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:03:21.876 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:03:21.919 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi) in 62.3064ms
2024-01-10 12:03:21.919 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 12:03:21.919 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getAllMaintenancesDashboard responded 400 in 65.5624 ms
2024-01-10 12:03:21.919 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json - - 400 265 application/problem+json;+charset=utf-8 66.0212ms
2024-01-10 12:03:27.616 +02:00 [DBG] Connection id "0HN0HNRNRJMMC" received FIN.
2024-01-10 12:03:27.617 +02:00 [DBG] Connection id "0HN0HNRNRJMMC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:03:27.617 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:03:27.618 +02:00 [DBG] Connection id "0HN0HNRNRJMMC" disconnecting.
2024-01-10 12:03:27.618 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:03:27.620 +02:00 [DBG] Socket closed.
2024-01-10 12:03:27.639 +02:00 [DBG] Removing connection nGNz1FWANvMYNazrhSg2eg from the list of connections.
2024-01-10 12:03:27.639 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:03:27.639 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 804885.7596 ms
2024-01-10 12:03:27.639 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 804886.2306ms
2024-01-10 12:03:27.640 +02:00 [DBG] Connection id "0HN0HNRNRJMMC" stopped.
2024-01-10 12:03:27.957 +02:00 [DBG] Connection id "0HN0HNRNRJMMG" accepted.
2024-01-10 12:03:27.957 +02:00 [DBG] Connection id "0HN0HNRNRJMMG" started.
2024-01-10 12:03:27.958 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:03:27.958 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:03:27.958 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:03:27.958 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:03:27.958 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:03:27.958 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:03:27.958 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:03:27.958 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:03:27.958 +02:00 [DBG] New connection EhOpvQjGYOhoDn35x1iHJA created.
2024-01-10 12:03:27.958 +02:00 [DBG] Establishing new connection.
2024-01-10 12:03:27.959 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:03:27.959 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:03:27.986 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard - -
2024-01-10 12:03:27.986 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:03:27.986 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:03:27.986 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:03:27.986 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard - - - 204 - - 0.6697ms
2024-01-10 12:03:27.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json -
2024-01-10 12:03:27.988 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:03:27.988 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:03:27.988 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:03:27.988 +02:00 [DBG] The request path /api/DeviceMaintenance/getAllMaintenancesDashboard does not match a supported file type
2024-01-10 12:03:27.990 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 12:03:27.990 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 12:03:27.990 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 12:03:27.990 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 12:03:27.990 +02:00 [INF] Route matched with {action = "GetDeviceMaintenanceById", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenanceByIdAsync(Int32) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-01-10 12:03:27.990 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:03:27.991 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:03:27.991 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:03:27.991 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:03:27.991 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:03:27.991 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 12:03:27.991 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 12:03:27.991 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-01-10 12:03:27.991 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-01-10 12:03:27.992 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-01-10 12:03:27.992 +02:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-01-10 12:03:27.992 +02:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-01-10 12:03:27.992 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:03:27.992 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:03:27.992 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:03:27.992 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:03:27.992 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:03:27.992 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:03:27.992 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:03:27.993 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi) in 1.8807ms
2024-01-10 12:03:27.993 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 12:03:27.993 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getAllMaintenancesDashboard responded 400 in 4.5053 ms
2024-01-10 12:03:27.993 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json - - 400 265 application/problem+json;+charset=utf-8 5.0949ms
2024-01-10 12:03:27.997 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:03:27.998 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:03:28.010 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:03:28.010 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:03:28.010 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:03:28.010 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:03:28.010 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:03:28.100 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:03:28.100 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:03:28.110 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:03:28.110 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:03:28.110 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:03:28.110 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:03:28.110 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:04:29.853 +02:00 [DBG] Connection id "0HN0HNRNRJMMG" received FIN.
2024-01-10 12:04:29.853 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:04:29.853 +02:00 [DBG] Socket closed.
2024-01-10 12:04:29.856 +02:00 [DBG] Connection id "0HN0HNRNRJMMG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:04:29.856 +02:00 [DBG] Connection id "0HN0HNRNRJMMG" disconnecting.
2024-01-10 12:04:29.873 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:04:29.873 +02:00 [DBG] Removing connection EhOpvQjGYOhoDn35x1iHJA from the list of connections.
2024-01-10 12:04:29.873 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:04:29.873 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 61917.9696 ms
2024-01-10 12:04:29.873 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 61918.4423ms
2024-01-10 12:04:29.873 +02:00 [DBG] Connection id "0HN0HNRNRJMMG" stopped.
2024-01-10 12:04:29.941 +02:00 [DBG] Connection id "0HN0HNRNRJMMH" accepted.
2024-01-10 12:04:29.941 +02:00 [DBG] Connection id "0HN0HNRNRJMMH" started.
2024-01-10 12:04:29.942 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:04:29.942 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:04:29.942 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:04:29.943 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:04:29.943 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:04:29.943 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:04:29.943 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:04:29.943 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:04:29.943 +02:00 [DBG] New connection ghc3xR4cn94JGhmCd3KdqQ created.
2024-01-10 12:04:29.943 +02:00 [DBG] Establishing new connection.
2024-01-10 12:04:29.943 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:04:29.944 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:04:29.991 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:04:29.992 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:04:29.995 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:04:29.995 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:04:29.995 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:04:29.995 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:04:29.995 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:04:29.995 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:04:29.996 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:04:29.998 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:04:29.998 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:04:29.998 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:04:29.998 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:04:29.998 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:06:54.123 +02:00 [DBG] Connection id "0HN0HNRNRJMMH" received FIN.
2024-01-10 12:06:54.123 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:06:54.123 +02:00 [DBG] Connection id "0HN0HNRNRJMMH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:06:54.123 +02:00 [DBG] Connection id "0HN0HNRNRJMMH" disconnecting.
2024-01-10 12:06:54.124 +02:00 [DBG] Socket closed.
2024-01-10 12:06:54.124 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:06:54.126 +02:00 [DBG] Removing connection ghc3xR4cn94JGhmCd3KdqQ from the list of connections.
2024-01-10 12:06:54.128 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:06:54.128 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 144192.4109 ms
2024-01-10 12:06:54.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 144193.2262ms
2024-01-10 12:06:54.134 +02:00 [DBG] Connection id "0HN0HNRNRJMMH" stopped.
2024-01-10 12:06:54.486 +02:00 [DBG] Connection id "0HN0HNRNRJMMI" accepted.
2024-01-10 12:06:54.486 +02:00 [DBG] Connection id "0HN0HNRNRJMMI" started.
2024-01-10 12:06:54.487 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:06:54.487 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:06:54.487 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:06:54.487 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:06:54.487 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:06:54.487 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:06:54.487 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:06:54.487 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:06:54.487 +02:00 [DBG] New connection 77C8cfWB-bPwhuiXmePw3A created.
2024-01-10 12:06:54.487 +02:00 [DBG] Establishing new connection.
2024-01-10 12:06:54.488 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:06:54.488 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:06:54.556 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:06:54.556 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:06:54.562 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:06:54.562 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:06:54.562 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:06:54.562 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:06:54.563 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:06:54.563 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:06:54.563 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:06:54.565 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:06:54.565 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:06:54.565 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:06:54.565 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:06:54.565 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:06:56.820 +02:00 [DBG] Connection id "0HN0HNRNRJMMI" received FIN.
2024-01-10 12:06:56.820 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:06:56.820 +02:00 [DBG] Connection id "0HN0HNRNRJMMI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:06:56.820 +02:00 [DBG] Connection id "0HN0HNRNRJMMI" disconnecting.
2024-01-10 12:06:56.821 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:06:56.821 +02:00 [DBG] Socket closed.
2024-01-10 12:06:56.821 +02:00 [DBG] Removing connection 77C8cfWB-bPwhuiXmePw3A from the list of connections.
2024-01-10 12:06:56.821 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:06:56.821 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 2334.0328 ms
2024-01-10 12:06:56.821 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 2334.3926ms
2024-01-10 12:06:56.821 +02:00 [DBG] Connection id "0HN0HNRNRJMMI" stopped.
2024-01-10 12:06:57.036 +02:00 [DBG] Connection id "0HN0HNRNRJMMJ" accepted.
2024-01-10 12:06:57.036 +02:00 [DBG] Connection id "0HN0HNRNRJMMJ" started.
2024-01-10 12:06:57.037 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:06:57.037 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:06:57.037 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:06:57.037 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:06:57.037 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:06:57.037 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:06:57.037 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:06:57.037 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:06:57.037 +02:00 [DBG] New connection ixVyHvgf5G1fN3Wg5Onaxw created.
2024-01-10 12:06:57.037 +02:00 [DBG] Establishing new connection.
2024-01-10 12:06:57.038 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:06:57.038 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:06:57.070 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:06:57.070 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:06:57.074 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:06:57.075 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:06:57.075 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:06:57.075 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:06:57.075 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:06:57.076 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:06:57.076 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:06:57.077 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:06:57.077 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:06:57.077 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:06:57.077 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:06:57.077 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:06:57.845 +02:00 [DBG] Connection id "0HN0HNRNRJMMJ" received FIN.
2024-01-10 12:06:57.845 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:06:57.845 +02:00 [DBG] Socket closed.
2024-01-10 12:06:57.845 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:06:57.846 +02:00 [DBG] Connection id "0HN0HNRNRJMMJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:06:57.847 +02:00 [DBG] Connection id "0HN0HNRNRJMMJ" disconnecting.
2024-01-10 12:06:57.859 +02:00 [DBG] Removing connection ixVyHvgf5G1fN3Wg5Onaxw from the list of connections.
2024-01-10 12:06:57.859 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:06:57.860 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 822.6465 ms
2024-01-10 12:06:57.865 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 828.6181ms
2024-01-10 12:06:57.865 +02:00 [DBG] Connection id "0HN0HNRNRJMMJ" stopped.
2024-01-10 12:06:58.056 +02:00 [DBG] Connection id "0HN0HNRNRJMMK" accepted.
2024-01-10 12:06:58.056 +02:00 [DBG] Connection id "0HN0HNRNRJMMK" started.
2024-01-10 12:06:58.056 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:06:58.056 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:06:58.056 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:06:58.056 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:06:58.056 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:06:58.056 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:06:58.056 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:06:58.056 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:06:58.056 +02:00 [DBG] New connection lanabzDSCuwAm2kMDZPxMw created.
2024-01-10 12:06:58.056 +02:00 [DBG] Establishing new connection.
2024-01-10 12:06:58.056 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:06:58.056 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:06:58.084 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:06:58.084 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:06:58.087 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:06:58.088 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:06:58.088 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:06:58.088 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:06:58.088 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:06:58.088 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:06:58.088 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:06:58.090 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:06:58.090 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:06:58.091 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:06:58.091 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:06:58.091 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:07:49.567 +02:00 [DBG] Connection id "0HN0HNRNRJMMK" received FIN.
2024-01-10 12:07:49.569 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:07:49.586 +02:00 [DBG] Connection id "0HN0HNRNRJMMK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:07:49.611 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:07:49.622 +02:00 [DBG] Connection id "0HN0HNRNRJMMK" disconnecting.
2024-01-10 12:07:49.622 +02:00 [DBG] Socket closed.
2024-01-10 12:07:49.668 +02:00 [DBG] Removing connection lanabzDSCuwAm2kMDZPxMw from the list of connections.
2024-01-10 12:07:49.674 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:07:49.675 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 51621.1305 ms
2024-01-10 12:07:49.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 51623.6037ms
2024-01-10 12:07:49.677 +02:00 [DBG] Connection id "0HN0HNRNRJMMK" stopped.
2024-01-10 12:07:49.914 +02:00 [DBG] Connection id "0HN0HNRNRJMML" accepted.
2024-01-10 12:07:49.915 +02:00 [DBG] Connection id "0HN0HNRNRJMML" started.
2024-01-10 12:07:49.919 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:07:49.919 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:07:49.919 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:07:49.919 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:07:49.919 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:07:49.919 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:07:49.919 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:07:49.919 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:07:49.919 +02:00 [DBG] New connection pD4P-UGfDbswtAZjP5ODFg created.
2024-01-10 12:07:49.919 +02:00 [DBG] Establishing new connection.
2024-01-10 12:07:49.919 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:07:49.919 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:07:49.925 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:07:49.926 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:07:49.927 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:07:49.928 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:07:49.928 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:07:49.928 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:07:49.928 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:07:49.928 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:07:49.928 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:07:49.930 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:07:49.930 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:07:49.930 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:07:49.930 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:07:49.930 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:07:55.336 +02:00 [DBG] Connection id "0HN0HNRNRJMML" received FIN.
2024-01-10 12:07:55.336 +02:00 [DBG] Connection id "0HN0HNRNRJMML" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:07:55.336 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:07:55.337 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:07:55.337 +02:00 [DBG] Connection id "0HN0HNRNRJMML" disconnecting.
2024-01-10 12:07:55.337 +02:00 [DBG] Socket closed.
2024-01-10 12:07:55.337 +02:00 [DBG] Removing connection pD4P-UGfDbswtAZjP5ODFg from the list of connections.
2024-01-10 12:07:55.338 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:07:55.338 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 5419.1068 ms
2024-01-10 12:07:55.338 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 5419.5500ms
2024-01-10 12:07:55.338 +02:00 [DBG] Connection id "0HN0HNRNRJMML" stopped.
2024-01-10 12:07:55.445 +02:00 [DBG] Connection id "0HN0HNRNRJMMM" accepted.
2024-01-10 12:07:55.445 +02:00 [DBG] Connection id "0HN0HNRNRJMMM" started.
2024-01-10 12:07:55.446 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:07:55.446 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:07:55.446 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:07:55.446 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:07:55.446 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:07:55.446 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:07:55.446 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:07:55.446 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:07:55.446 +02:00 [DBG] New connection I-SwU5Px35f0lJpuxjCR0g created.
2024-01-10 12:07:55.446 +02:00 [DBG] Establishing new connection.
2024-01-10 12:07:55.446 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:07:55.446 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:07:55.461 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:07:55.461 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:07:55.464 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:07:55.464 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:07:55.465 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:07:55.465 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:07:55.465 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:07:55.465 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:07:55.465 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:07:55.467 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:07:55.467 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:07:55.467 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:07:55.467 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:07:55.467 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:08:07.642 +02:00 [DBG] Connection id "0HN0HNRNRJMMM" received FIN.
2024-01-10 12:08:07.642 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:08:07.643 +02:00 [DBG] Connection id "0HN0HNRNRJMMM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:08:07.643 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:08:07.643 +02:00 [DBG] Connection id "0HN0HNRNRJMMM" disconnecting.
2024-01-10 12:08:07.643 +02:00 [DBG] Socket closed.
2024-01-10 12:08:07.644 +02:00 [DBG] Removing connection I-SwU5Px35f0lJpuxjCR0g from the list of connections.
2024-01-10 12:08:07.644 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:08:07.645 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 12199.4156 ms
2024-01-10 12:08:07.645 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 12199.8412ms
2024-01-10 12:08:07.645 +02:00 [DBG] Connection id "0HN0HNRNRJMMM" stopped.
2024-01-10 12:08:07.894 +02:00 [DBG] Connection id "0HN0HNRNRJMMN" accepted.
2024-01-10 12:08:07.895 +02:00 [DBG] Connection id "0HN0HNRNRJMMN" started.
2024-01-10 12:08:07.895 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:08:07.895 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:08:07.895 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:08:07.896 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:08:07.896 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:08:07.896 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:08:07.896 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:08:07.896 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:08:07.896 +02:00 [DBG] New connection u2NiCFo8t0oh8u6bAh-_5w created.
2024-01-10 12:08:07.896 +02:00 [DBG] Establishing new connection.
2024-01-10 12:08:07.896 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:08:07.896 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:08:07.905 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:08:07.906 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:08:07.917 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:08:07.918 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:08:07.918 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:08:07.918 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:08:07.918 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:08:07.918 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:08:07.918 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:08:07.919 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:08:07.919 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:08:07.919 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:08:07.919 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:08:07.919 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:08:25.056 +02:00 [DBG] Connection id "0HN0HNRNRJMMN" received FIN.
2024-01-10 12:08:25.056 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:08:25.056 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:08:25.056 +02:00 [DBG] Connection id "0HN0HNRNRJMMN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:08:25.056 +02:00 [DBG] Socket closed.
2024-01-10 12:08:25.057 +02:00 [DBG] Removing connection u2NiCFo8t0oh8u6bAh-_5w from the list of connections.
2024-01-10 12:08:25.057 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:08:25.057 +02:00 [DBG] Connection id "0HN0HNRNRJMMN" disconnecting.
2024-01-10 12:08:25.057 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 17162.1789 ms
2024-01-10 12:08:25.057 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 17162.8817ms
2024-01-10 12:08:25.058 +02:00 [DBG] Connection id "0HN0HNRNRJMMN" stopped.
2024-01-10 12:08:25.262 +02:00 [DBG] Connection id "0HN0HNRNRJMMO" accepted.
2024-01-10 12:08:25.262 +02:00 [DBG] Connection id "0HN0HNRNRJMMO" started.
2024-01-10 12:08:25.263 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:08:25.263 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:08:25.263 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:08:25.263 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:08:25.263 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:08:25.263 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:08:25.263 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:08:25.263 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:08:25.263 +02:00 [DBG] New connection ekz3jZ8qF9vybEfdcjTPyQ created.
2024-01-10 12:08:25.263 +02:00 [DBG] Establishing new connection.
2024-01-10 12:08:25.263 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:08:25.263 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:08:25.266 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:08:25.267 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:08:25.268 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:08:25.268 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:08:25.268 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:08:25.268 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:08:25.268 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:08:25.268 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:08:25.268 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:08:25.269 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:08:25.269 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:08:25.269 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:08:25.269 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:08:25.269 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:09:03.876 +02:00 [DBG] Connection id "0HN0HNRNRJMMO" received FIN.
2024-01-10 12:09:03.876 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:09:03.876 +02:00 [DBG] Connection id "0HN0HNRNRJMMO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:09:03.876 +02:00 [DBG] Connection id "0HN0HNRNRJMMO" disconnecting.
2024-01-10 12:09:03.877 +02:00 [DBG] Socket closed.
2024-01-10 12:09:03.879 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:09:03.879 +02:00 [DBG] Removing connection ekz3jZ8qF9vybEfdcjTPyQ from the list of connections.
2024-01-10 12:09:03.880 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:09:03.880 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 38619.1016 ms
2024-01-10 12:09:03.881 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 38619.8265ms
2024-01-10 12:09:03.881 +02:00 [DBG] Connection id "0HN0HNRNRJMMO" stopped.
2024-01-10 12:09:04.105 +02:00 [DBG] Connection id "0HN0HNRNRJMMP" accepted.
2024-01-10 12:09:04.105 +02:00 [DBG] Connection id "0HN0HNRNRJMMP" started.
2024-01-10 12:09:04.107 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:09:04.107 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:09:04.107 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:09:04.107 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:09:04.107 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:09:04.107 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:09:04.107 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:09:04.107 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:09:04.107 +02:00 [DBG] New connection rOtw6B9sNUd_kJhenVxJIQ created.
2024-01-10 12:09:04.107 +02:00 [DBG] Establishing new connection.
2024-01-10 12:09:04.108 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:09:04.111 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:09:04.117 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:09:04.117 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:09:04.128 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:09:04.129 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:09:04.129 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:09:04.129 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:09:04.129 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:04.130 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:04.130 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:09:04.132 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:09:04.133 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:04.133 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:09:04.133 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:04.133 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:09:10.248 +02:00 [DBG] Connection id "0HN0HNRNRJMMP" received FIN.
2024-01-10 12:09:10.248 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:09:10.248 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:09:10.248 +02:00 [DBG] Connection id "0HN0HNRNRJMMP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:09:10.249 +02:00 [DBG] Connection id "0HN0HNRNRJMMP" disconnecting.
2024-01-10 12:09:10.249 +02:00 [DBG] Socket closed.
2024-01-10 12:09:10.249 +02:00 [DBG] Removing connection rOtw6B9sNUd_kJhenVxJIQ from the list of connections.
2024-01-10 12:09:10.249 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:09:10.250 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 6142.8000 ms
2024-01-10 12:09:10.250 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 6143.5213ms
2024-01-10 12:09:10.250 +02:00 [DBG] Connection id "0HN0HNRNRJMMP" stopped.
2024-01-10 12:09:10.377 +02:00 [DBG] Connection id "0HN0HNRNRJMMQ" accepted.
2024-01-10 12:09:10.377 +02:00 [DBG] Connection id "0HN0HNRNRJMMQ" started.
2024-01-10 12:09:10.377 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:09:10.377 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:09:10.377 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:09:10.378 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:09:10.378 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:09:10.378 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:09:10.378 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:09:10.378 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:09:10.378 +02:00 [DBG] New connection C0p8Ul26PvjsLLp0xUeKBA created.
2024-01-10 12:09:10.378 +02:00 [DBG] Establishing new connection.
2024-01-10 12:09:10.378 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:09:10.379 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:09:10.387 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:09:10.387 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:09:10.389 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:09:10.390 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:09:10.390 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:09:10.390 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:09:10.390 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:10.390 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:10.390 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:09:10.392 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:09:10.392 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:10.392 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:09:10.392 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:10.392 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:09:16.314 +02:00 [DBG] Connection id "0HN0HNRNRJMMF" received FIN.
2024-01-10 12:09:16.315 +02:00 [DBG] Connection id "0HN0HNRNRJMMF" is closed. The last processed stream ID was 7.
2024-01-10 12:09:16.318 +02:00 [DBG] Connection id "0HN0HNRNRJMMF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:09:16.319 +02:00 [DBG] Connection id "0HN0HNRNRJMMF" stopped.
2024-01-10 12:09:38.984 +02:00 [DBG] Connection id "0HN0HNRNRJMMQ" received FIN.
2024-01-10 12:09:38.984 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:09:38.984 +02:00 [DBG] Connection id "0HN0HNRNRJMMQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:09:38.984 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:09:38.988 +02:00 [DBG] Connection id "0HN0HNRNRJMMQ" disconnecting.
2024-01-10 12:09:38.988 +02:00 [DBG] Socket closed.
2024-01-10 12:09:38.989 +02:00 [DBG] Removing connection C0p8Ul26PvjsLLp0xUeKBA from the list of connections.
2024-01-10 12:09:38.989 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:09:38.989 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 28612.5152 ms
2024-01-10 12:09:38.989 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 28612.9809ms
2024-01-10 12:09:38.989 +02:00 [DBG] Connection id "0HN0HNRNRJMMQ" stopped.
2024-01-10 12:09:39.208 +02:00 [DBG] Connection id "0HN0HNRNRJMMR" accepted.
2024-01-10 12:09:39.208 +02:00 [DBG] Connection id "0HN0HNRNRJMMR" started.
2024-01-10 12:09:39.209 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:09:39.209 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:09:39.209 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:09:39.210 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:09:39.210 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:09:39.210 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:09:39.210 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:09:39.210 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:09:39.210 +02:00 [DBG] New connection 6Yx94yEQaxVwTAsFUPOE9A created.
2024-01-10 12:09:39.211 +02:00 [DBG] Establishing new connection.
2024-01-10 12:09:39.211 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:09:39.211 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:09:39.216 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:09:39.217 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:09:39.223 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:09:39.223 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:09:39.224 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:09:39.224 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:09:39.224 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:39.224 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:39.224 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:09:39.226 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:09:39.226 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:39.226 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:09:39.226 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:39.226 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:09:42.038 +02:00 [DBG] Connection id "0HN0HNRNRJMMS" accepted.
2024-01-10 12:09:42.038 +02:00 [DBG] Connection id "0HN0HNRNRJMMS" started.
2024-01-10 12:09:42.043 +02:00 [DBG] Connection 0HN0HNRNRJMMS established using the following protocol: "Tls12"
2024-01-10 12:09:42.044 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 12:09:42.044 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/:id - -
2024-01-10 12:09:42.044 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:09:42.044 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:09:42.044 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:09:42.044 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:09:42.044 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:09:42.044 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:09:42.044 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 1.0859ms
2024-01-10 12:09:42.044 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/:id - - - 204 - - 1.0344ms
2024-01-10 12:09:42.046 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/:id application/json -
2024-01-10 12:09:42.046 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:09:42.046 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:09:42.046 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:09:42.046 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:09:42.046 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:09:42.046 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:09:42.046 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:09:42.046 +02:00 [DBG] The request path /api/User/:id does not match a supported file type
2024-01-10 12:09:42.046 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:09:42.046 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/:id'
2024-01-10 12:09:42.046 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:09:42.046 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/:id'
2024-01-10 12:09:42.046 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:09:42.046 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:09:42.046 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:09:42.046 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:09:42.046 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:09:42.046 +02:00 [INF] Route matched with {action = "GetUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:09:42.046 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:09:42.046 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:09:42.046 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:09:42.047 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:09:42.047 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:09:42.047 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:09:42.047 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:09:42.047 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:09:42.047 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:09:42.047 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:09:42.047 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:09:42.047 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:09:42.047 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:09:42.047 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:09:42.047 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 12:09:42.047 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 12:09:42.047 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:09:42.047 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 12:09:42.047 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 12:09:42.047 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:09:42.047 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:09:42.048 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:09:42.048 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:09:42.048 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:09:42.048 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:09:42.048 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:09:42.048 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetUserByIdAsync (WebApi) in 1.2038ms
2024-01-10 12:09:42.048 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:09:42.048 +02:00 [INF] HTTP GET /api/User/:id responded 400 in 1.7695 ms
2024-01-10 12:09:42.048 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/:id application/json - - 400 241 application/problem+json;+charset=utf-8 2.3801ms
2024-01-10 12:09:42.048 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:09:42.048 +02:00 [INF] GetAllRoles
2024-01-10 12:09:42.051 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 12:09:42.051 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:09:42.052 +02:00 [DBG] Creating DbConnection.
2024-01-10 12:09:42.052 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-10 12:09:42.052 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:09:42.052 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:09:42.052 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:42.052 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:42.052 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:09:42.054 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:09:42.054 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:09:42.054 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:09:42.054 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:09:42.054 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:09:42.054 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:42.054 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:09:42.054 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:09:42.055 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:09:42.055 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:09:42.055 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:09:42.055 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:09:42.055 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:09:42.055 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:09:42.055 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:09:42.055 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 8.6888ms
2024-01-10 12:09:42.055 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:09:42.055 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 9.2933 ms
2024-01-10 12:09:42.056 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 10.0966ms
2024-01-10 12:10:01.028 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - -
2024-01-10 12:10:01.028 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:10:01.028 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:10:01.028 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:10:01.028 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - - - 204 - - 0.5334ms
2024-01-10 12:10:01.030 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126
2024-01-10 12:10:01.030 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:10:01.030 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:10:01.031 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:10:01.031 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:10:01.031 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/updateUser'
2024-01-10 12:10:01.031 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)' with route pattern 'api/User/updateUser' is valid for the request path '/api/User/updateUser'
2024-01-10 12:10:01.031 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:10:01.031 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:10:01.033 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:10:01.033 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:10:01.033 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:10:01.033 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:10:01.033 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:10:01.033 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:10:01.033 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:10:01.033 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:10:01.034 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:10:01.034 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 12:10:01.034 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 12:10:01.034 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 12:10:01.034 +02:00 [DBG] Connection id "0HN0HNRNRJMMS", Request id "0HN0HNRNRJMMS:0000000B": started reading request body.
2024-01-10 12:10:01.034 +02:00 [DBG] Connection id "0HN0HNRNRJMMS", Request id "0HN0HNRNRJMMS:0000000B": done reading request body.
2024-01-10 12:10:01.048 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonReaderException: Could not convert string to integer: :id. Path 'userId', line 1, position 15.
   at Newtonsoft.Json.JsonReader.ReadInt32String(String s)
   at Newtonsoft.Json.JsonTextReader.FinishReadQuotedNumber(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadNumberValue(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadAsInt32()
   at Newtonsoft.Json.JsonReader.ReadForType(JsonContract contract, Boolean hasConverter)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-01-10 12:10:01.055 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:10:01.055 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:10:01.055 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:10:01.060 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:10:01.060 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:10:01.060 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:10:01.060 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:10:01.060 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:10:01.060 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:10:01.060 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:10:01.060 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:10:01.061 +02:00 [INF] Executed action WebApi.Controllers.UserController.UpdateUserAsync (WebApi) in 27.18ms
2024-01-10 12:10:01.061 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:10:01.061 +02:00 [INF] HTTP PUT /api/User/updateUser responded 400 in 30.0797 ms
2024-01-10 12:10:01.061 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126 - 400 338 application/problem+json;+charset=utf-8 30.4255ms
2024-01-10 12:10:35.805 +02:00 [DBG] Connection id "0HN0HNRNRJMMT" accepted.
2024-01-10 12:10:35.806 +02:00 [DBG] Connection id "0HN0HNRNRJMMT" started.
2024-01-10 12:10:35.809 +02:00 [DBG] Connection 0HN0HNRNRJMMT established using the following protocol: "Tls12"
2024-01-10 12:10:35.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getAll - -
2024-01-10 12:10:35.810 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:10:35.810 +02:00 [DBG] The request path /api/User/getAll does not match a supported file type
2024-01-10 12:10:35.810 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getAll'
2024-01-10 12:10:35.810 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)' with route pattern 'api/User/getAll' is valid for the request path '/api/User/getAll'
2024-01-10 12:10:35.810 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getAll'
2024-01-10 12:10:35.810 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 12:10:35.810 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 12:10:35.814 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersAsync() on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:10:35.814 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:10:35.814 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:10:35.815 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:10:35.815 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:10:35.815 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:10:35.815 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:10:35.815 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:10:35.815 +02:00 [INF] GetAllUsers
2024-01-10 12:10:35.818 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)'
2024-01-10 12:10:35.818 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-10 12:10:35.824 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.FirstName (string) Required, 2], [Property: User.IsActive (bool) Required ValueGenerated.OnAdd, 3], [Property: User.LastName (string) Required, 4], [Property: User.Password (string) Required, 5], [Property: User.RoleId (int) Required FK Index, 6], [Property: User.Username (string) Required Index, 7] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Role.RoleType (string) Required, 9] }
        SELECT u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RoleId, u.Username, r.Id, r.RoleType
        FROM Users AS u
        INNER JOIN Roles AS r ON u.RoleId == r.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 12:10:35.825 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:10:35.825 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:10:35.825 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:10:35.825 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:35.825 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:35.826 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-10 12:10:35.829 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-10 12:10:35.829 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:35.829 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:35.829 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:35.829 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:35.829 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:35.829 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:35.830 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:35.830 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:35.830 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:10:35.830 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:35.830 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:10:35.830 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:10:35.830 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:10:35.830 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:10:35.830 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:10:35.830 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:10:35.830 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.UserGetDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:10:35.832 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersAsync (WebApi) in 16.9213ms
2024-01-10 12:10:35.832 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 12:10:35.832 +02:00 [INF] HTTP GET /api/User/getAll responded 200 in 21.4673 ms
2024-01-10 12:10:35.832 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getAll - - - 200 250 application/json;+charset=utf-8 22.2552ms
2024-01-10 12:10:48.664 +02:00 [DBG] Connection id "0HN0HNRNRJMMT" received FIN.
2024-01-10 12:10:48.664 +02:00 [DBG] Connection id "0HN0HNRNRJMMS" received FIN.
2024-01-10 12:10:48.665 +02:00 [DBG] Connection id "0HN0HNRNRJMMT" is closed. The last processed stream ID was 1.
2024-01-10 12:10:48.665 +02:00 [DBG] Connection id "0HN0HNRNRJMMS" is closed. The last processed stream ID was 11.
2024-01-10 12:10:48.665 +02:00 [DBG] Connection id "0HN0HNRNRJMMT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:10:48.665 +02:00 [DBG] Connection id "0HN0HNRNRJMMS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:10:48.674 +02:00 [DBG] Connection id "0HN0HNRNRJMMT" stopped.
2024-01-10 12:10:48.676 +02:00 [DBG] Connection id "0HN0HNRNRJMMS" stopped.
2024-01-10 12:10:56.231 +02:00 [DBG] Connection id "0HN0HNRNRJMMU" accepted.
2024-01-10 12:10:56.231 +02:00 [DBG] Connection id "0HN0HNRNRJMMU" started.
2024-01-10 12:10:56.237 +02:00 [DBG] Connection 0HN0HNRNRJMMU established using the following protocol: "Tls12"
2024-01-10 12:10:56.238 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:10:56.239 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:10:56.239 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:10:56.239 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:10:56.239 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.8314ms
2024-01-10 12:10:56.241 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:10:56.241 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:10:56.241 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:10:56.241 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:10:56.241 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:10:56.242 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:10:56.242 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:10:56.242 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:10:56.242 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:10:56.242 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:10:56.242 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:10:56.242 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:10:56.242 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:10:56.242 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:10:56.242 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:10:56.242 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:10:56.242 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:10:56.242 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:10:56.242 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:10:56.242 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:10:56.243 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:10:56.243 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:10:56.243 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:10:56.243 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:10:56.243 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:10:56.243 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:10:56.243 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:10:56.243 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:10:56.243 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:10:56.243 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:10:56.243 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:10:56.243 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:10:56.243 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:10:56.243 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:10:56.243 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:10:56.243 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:10:56.244 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:10:56.244 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:10:56.244 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:10:56.244 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:10:56.244 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:10:56.244 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:10:56.244 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:10:56.246 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:10:56.246 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:10:56.246 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:10:56.246 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:56.246 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:56.246 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:10:56.248 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:10:56.248 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:56.248 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:10:56.248 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:56.248 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:10:56.249 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:10:56.250 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:10:56.250 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:10:56.250 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:56.250 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:56.250 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:10:56.253 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:10:56.254 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:56.254 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:56.254 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:56.254 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:56.254 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:56.254 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:56.255 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:56.255 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:56.255 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:10:56.255 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:56.255 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:10:56.255 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:10:56.255 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:10:56.255 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:10:56.255 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:10:56.256 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:10:56.256 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:10:56.256 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 13.6555ms
2024-01-10 12:10:56.256 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:10:56.256 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 14.5093 ms
2024-01-10 12:10:56.256 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 353 application/json;+charset=utf-8 15.1176ms
2024-01-10 12:10:59.163 +02:00 [DBG] Connection id "0HN0HNRNRJMMR" received FIN.
2024-01-10 12:10:59.163 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:10:59.167 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:10:59.168 +02:00 [DBG] Socket closed.
2024-01-10 12:10:59.172 +02:00 [DBG] Removing connection 6Yx94yEQaxVwTAsFUPOE9A from the list of connections.
2024-01-10 12:10:59.173 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:10:59.173 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 79967.3377 ms
2024-01-10 12:10:59.187 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 79968.1253ms
2024-01-10 12:10:59.188 +02:00 [DBG] Connection id "0HN0HNRNRJMMR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:10:59.188 +02:00 [DBG] Connection id "0HN0HNRNRJMMR" disconnecting.
2024-01-10 12:10:59.188 +02:00 [DBG] Connection id "0HN0HNRNRJMMR" stopped.
2024-01-10 12:10:59.398 +02:00 [DBG] Connection id "0HN0HNRNRJMMV" accepted.
2024-01-10 12:10:59.398 +02:00 [DBG] Connection id "0HN0HNRNRJMMV" started.
2024-01-10 12:10:59.399 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:10:59.400 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:10:59.400 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:10:59.400 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:10:59.400 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:10:59.400 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:10:59.400 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:10:59.400 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:10:59.400 +02:00 [DBG] New connection 4zsMkM0W_Mszb9X_qn5GiA created.
2024-01-10 12:10:59.400 +02:00 [DBG] Establishing new connection.
2024-01-10 12:10:59.400 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:10:59.400 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:10:59.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:10:59.421 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:10:59.421 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:10:59.421 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:10:59.421 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:10:59.421 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:10:59.421 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:10:59.421 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:10:59.421 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:10:59.421 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:10:59.421 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:10:59.421 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:10:59.421 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:10:59.421 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:10:59.421 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:10:59.422 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:10:59.422 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:10:59.422 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:10:59.422 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:10:59.422 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:10:59.422 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:10:59.422 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:10:59.422 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:10:59.422 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:10:59.422 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:10:59.422 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:10:59.422 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:10:59.423 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:10:59.423 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:10:59.423 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:10:59.423 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:10:59.423 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:10:59.423 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:10:59.423 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:10:59.423 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:10:59.423 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:10:59.423 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:10:59.423 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:10:59.423 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:10:59.423 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:10:59.423 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:10:59.424 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:10:59.424 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:10:59.425 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:10:59.425 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:10:59.425 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:10:59.425 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:59.426 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:59.426 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:10:59.427 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:10:59.428 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:59.428 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:10:59.428 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:59.428 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:10:59.430 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:10:59.430 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:10:59.430 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:10:59.430 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:59.430 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:59.430 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:10:59.434 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:10:59.434 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:59.434 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:59.434 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:59.435 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:59.435 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:59.435 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:59.435 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:10:59.435 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:59.435 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:10:59.435 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:59.435 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:10:59.435 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:10:59.435 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:10:59.435 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:10:59.435 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:10:59.435 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:10:59.435 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:10:59.435 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 13.7784ms
2024-01-10 12:10:59.435 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:10:59.435 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 14.6123 ms
2024-01-10 12:10:59.436 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 353 application/json;+charset=utf-8 15.3071ms
2024-01-10 12:10:59.476 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:10:59.477 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:10:59.478 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:10:59.478 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:10:59.478 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:10:59.478 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:10:59.479 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:59.479 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:59.479 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:10:59.482 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:10:59.482 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:59.482 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:10:59.482 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:10:59.482 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:11:03.690 +02:00 [DBG] Connection id "0HN0HNRNRJMMU" received FIN.
2024-01-10 12:11:03.690 +02:00 [DBG] Connection id "0HN0HNRNRJMMU" is closed. The last processed stream ID was 5.
2024-01-10 12:11:03.690 +02:00 [DBG] Connection id "0HN0HNRNRJMMU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:11:03.704 +02:00 [DBG] Connection id "0HN0HNRNRJMMU" stopped.
2024-01-10 12:12:06.886 +02:00 [DBG] Connection id "0HN0HNRNRJMMV" received FIN.
2024-01-10 12:12:06.886 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:12:06.887 +02:00 [DBG] Connection id "0HN0HNRNRJMMV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:12:06.887 +02:00 [DBG] Connection id "0HN0HNRNRJMMV" disconnecting.
2024-01-10 12:12:06.888 +02:00 [DBG] Socket closed.
2024-01-10 12:12:06.888 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:12:06.918 +02:00 [DBG] Removing connection 4zsMkM0W_Mszb9X_qn5GiA from the list of connections.
2024-01-10 12:12:06.918 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:12:06.918 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 67522.0660 ms
2024-01-10 12:12:06.919 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 67522.6861ms
2024-01-10 12:12:06.919 +02:00 [DBG] Connection id "0HN0HNRNRJMMV" stopped.
2024-01-10 12:12:07.157 +02:00 [DBG] Connection id "0HN0HNRNRJMN0" accepted.
2024-01-10 12:12:07.157 +02:00 [DBG] Connection id "0HN0HNRNRJMN0" started.
2024-01-10 12:12:07.162 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:12:07.162 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:07.162 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:07.162 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:12:07.162 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:12:07.162 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:12:07.162 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:12:07.162 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:12:07.162 +02:00 [DBG] New connection IcMX70wszKHkp3gFFsjTzw created.
2024-01-10 12:12:07.162 +02:00 [DBG] Establishing new connection.
2024-01-10 12:12:07.162 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:12:07.162 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:12:07.184 +02:00 [DBG] Connection id "0HN0HNRNRJMN1" accepted.
2024-01-10 12:12:07.184 +02:00 [DBG] Connection id "0HN0HNRNRJMN1" started.
2024-01-10 12:12:07.190 +02:00 [DBG] Connection 0HN0HNRNRJMN1 established using the following protocol: "Tls12"
2024-01-10 12:12:07.191 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:12:07.191 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:07.191 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:07.191 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:12:07.192 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 1.0624ms
2024-01-10 12:12:07.193 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:12:07.193 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:07.193 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:07.194 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:12:07.194 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:12:07.194 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:12:07.194 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:12:07.194 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:12:07.194 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:12:07.194 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:12:07.194 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:12:07.194 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:12:07.194 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:12:07.194 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:12:07.194 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:12:07.194 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:12:07.194 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:12:07.194 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:12:07.194 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:12:07.194 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:12:07.194 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:12:07.194 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:12:07.194 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:12:07.194 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:12:07.194 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:12:07.194 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:12:07.195 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:12:07.195 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:12:07.195 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:12:07.195 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:12:07.195 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:12:07.195 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:12:07.195 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:12:07.195 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:12:07.195 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:12:07.195 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:12:07.195 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:12:07.195 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:12:07.195 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:12:07.195 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:12:07.195 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:12:07.195 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:12:07.195 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:12:07.197 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:07.197 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:07.197 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:07.197 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:07.197 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:07.198 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:12:07.199 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:12:07.199 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:07.199 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:12:07.199 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:07.199 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:07.201 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:07.201 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:07.201 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:07.201 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:07.201 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:07.201 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:12:07.204 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:12:07.204 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:07.204 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:07.204 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:07.204 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:07.204 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:07.204 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:07.204 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:07.205 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:07.205 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:12:07.205 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:07.205 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:07.205 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:12:07.205 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:12:07.205 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:12:07.205 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:12:07.205 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:12:07.205 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:12:07.205 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 11.2702ms
2024-01-10 12:12:07.205 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:12:07.205 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 11.8495 ms
2024-01-10 12:12:07.206 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 353 application/json;+charset=utf-8 12.3311ms
2024-01-10 12:12:07.242 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:12:07.242 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:12:07.244 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:12:07.244 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:07.244 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:07.245 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:07.245 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:07.245 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:07.245 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:12:07.247 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:12:07.247 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:07.247 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:12:07.247 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:07.247 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:30.211 +02:00 [DBG] Connection id "0HN0HNRNRJMN0" received FIN.
2024-01-10 12:12:30.211 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:12:30.211 +02:00 [DBG] Connection id "0HN0HNRNRJMN0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:12:30.212 +02:00 [DBG] Connection id "0HN0HNRNRJMN0" disconnecting.
2024-01-10 12:12:30.212 +02:00 [DBG] Socket closed.
2024-01-10 12:12:30.213 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:12:30.218 +02:00 [DBG] Removing connection IcMX70wszKHkp3gFFsjTzw from the list of connections.
2024-01-10 12:12:30.219 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:12:30.219 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 23058.0143 ms
2024-01-10 12:12:30.219 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 23058.5710ms
2024-01-10 12:12:30.220 +02:00 [DBG] Connection id "0HN0HNRNRJMN0" stopped.
2024-01-10 12:12:30.447 +02:00 [DBG] Connection id "0HN0HNRNRJMN2" accepted.
2024-01-10 12:12:30.448 +02:00 [DBG] Connection id "0HN0HNRNRJMN2" started.
2024-01-10 12:12:30.448 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:12:30.448 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:30.448 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:30.449 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:12:30.449 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:12:30.449 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:12:30.449 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:12:30.449 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:12:30.449 +02:00 [DBG] New connection xcSAswwagLCoKTV4tOm6gw created.
2024-01-10 12:12:30.449 +02:00 [DBG] Establishing new connection.
2024-01-10 12:12:30.450 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:12:30.450 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:12:30.474 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:12:30.474 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:30.474 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:30.474 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:12:30.474 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.5981ms
2024-01-10 12:12:30.476 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:12:30.476 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:30.476 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:30.477 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:12:30.477 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:12:30.477 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:12:30.477 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:12:30.477 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:12:30.477 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:12:30.477 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:12:30.477 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:12:30.477 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:12:30.477 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:12:30.477 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:12:30.477 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:12:30.477 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:12:30.477 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:12:30.477 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:12:30.478 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:12:30.478 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:12:30.478 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:12:30.478 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:12:30.478 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:12:30.478 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:12:30.478 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:12:30.478 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:12:30.478 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:12:30.478 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:12:30.478 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:12:30.478 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:12:30.478 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:12:30.479 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:12:30.479 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:12:30.479 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:12:30.479 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:12:30.479 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:12:30.479 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:12:30.479 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:12:30.479 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:12:30.479 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:12:30.479 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:12:30.479 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:12:30.479 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:12:30.482 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:30.482 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:30.482 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:30.482 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:30.482 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:30.482 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:12:30.484 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:12:30.484 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:30.484 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:12:30.484 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:30.484 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:30.486 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:30.486 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:30.486 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:30.486 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:30.486 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:30.486 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:12:30.487 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:12:30.488 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:30.488 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:30.489 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:30.489 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:30.489 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:30.489 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:30.489 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:30.489 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:30.489 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:12:30.489 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:30.489 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:30.489 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:12:30.489 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:12:30.489 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:12:30.489 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:12:30.489 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:12:30.489 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:12:30.490 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 12.1888ms
2024-01-10 12:12:30.490 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:12:30.490 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 13.1398 ms
2024-01-10 12:12:30.490 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 353 application/json;+charset=utf-8 13.9799ms
2024-01-10 12:12:30.540 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:12:30.540 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:12:30.549 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:12:30.550 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:30.550 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:30.550 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:30.551 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:30.551 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:30.551 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:12:30.552 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:12:30.552 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:30.552 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:12:30.552 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:30.552 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:44.630 +02:00 [DBG] Connection id "0HN0HNRNRJMN2" received FIN.
2024-01-10 12:12:44.630 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:12:44.630 +02:00 [DBG] Connection id "0HN0HNRNRJMN2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:12:44.630 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:12:44.631 +02:00 [DBG] Connection id "0HN0HNRNRJMN2" disconnecting.
2024-01-10 12:12:44.631 +02:00 [DBG] Socket closed.
2024-01-10 12:12:44.631 +02:00 [DBG] Removing connection xcSAswwagLCoKTV4tOm6gw from the list of connections.
2024-01-10 12:12:44.631 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:12:44.631 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 14183.1162 ms
2024-01-10 12:12:44.631 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 14183.6466ms
2024-01-10 12:12:44.631 +02:00 [DBG] Connection id "0HN0HNRNRJMN2" stopped.
2024-01-10 12:12:44.861 +02:00 [DBG] Connection id "0HN0HNRNRJMN3" accepted.
2024-01-10 12:12:44.861 +02:00 [DBG] Connection id "0HN0HNRNRJMN3" started.
2024-01-10 12:12:44.862 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:12:44.862 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:44.862 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:44.862 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:12:44.862 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:12:44.862 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:12:44.862 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:12:44.862 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:12:44.862 +02:00 [DBG] New connection ImhKvJYDWxJxyMUcUprchQ created.
2024-01-10 12:12:44.862 +02:00 [DBG] Establishing new connection.
2024-01-10 12:12:44.862 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:12:44.862 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:12:44.877 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:12:44.878 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:44.878 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:44.878 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:12:44.878 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.3882ms
2024-01-10 12:12:44.880 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:12:44.880 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:44.880 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:44.880 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:12:44.880 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:12:44.880 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:12:44.880 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:12:44.880 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:12:44.880 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:12:44.880 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:12:44.880 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:12:44.880 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:12:44.880 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:12:44.880 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:12:44.880 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:12:44.880 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:12:44.880 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:12:44.880 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:12:44.880 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:12:44.880 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:12:44.881 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:12:44.881 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:12:44.881 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:12:44.881 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:12:44.881 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:12:44.881 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:12:44.881 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:12:44.881 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:12:44.881 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:12:44.881 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:12:44.881 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:12:44.881 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:12:44.881 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:12:44.881 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:12:44.881 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:12:44.881 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:12:44.881 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:12:44.881 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:12:44.881 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:12:44.881 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:12:44.881 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:12:44.881 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:12:44.881 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:12:44.883 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:44.883 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:44.883 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:44.883 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:44.883 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:44.883 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:12:44.883 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:12:44.883 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:44.883 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:12:44.884 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:44.884 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:44.885 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:44.885 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:44.885 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:44.885 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:44.885 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:44.885 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:12:44.886 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:12:44.887 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:44.887 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:44.887 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:44.887 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:44.887 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:44.887 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:44.887 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:44.887 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:44.887 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:12:44.887 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:44.887 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:44.888 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:12:44.888 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:12:44.888 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:12:44.888 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:12:44.888 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:12:44.888 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:12:44.888 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 7.6816ms
2024-01-10 12:12:44.888 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:12:44.888 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 8.3093 ms
2024-01-10 12:12:44.888 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 353 application/json;+charset=utf-8 8.8958ms
2024-01-10 12:12:44.936 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:12:44.937 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:12:44.938 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:12:44.938 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:44.938 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:44.938 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:44.938 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:44.939 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:44.939 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:12:44.940 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:12:44.940 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:44.940 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:12:44.940 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:44.940 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:48.610 +02:00 [DBG] Connection id "0HN0HNRNRJMN3" received FIN.
2024-01-10 12:12:48.610 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:12:48.612 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:12:48.614 +02:00 [DBG] Connection id "0HN0HNRNRJMN3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:12:48.615 +02:00 [DBG] Connection id "0HN0HNRNRJMN3" disconnecting.
2024-01-10 12:12:48.615 +02:00 [DBG] Socket closed.
2024-01-10 12:12:48.653 +02:00 [DBG] Removing connection ImhKvJYDWxJxyMUcUprchQ from the list of connections.
2024-01-10 12:12:48.653 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:12:48.653 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 3791.5492 ms
2024-01-10 12:12:48.654 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 3791.9909ms
2024-01-10 12:12:48.654 +02:00 [DBG] Connection id "0HN0HNRNRJMN3" stopped.
2024-01-10 12:12:48.803 +02:00 [DBG] Connection id "0HN0HNRNRJMN4" accepted.
2024-01-10 12:12:48.803 +02:00 [DBG] Connection id "0HN0HNRNRJMN4" started.
2024-01-10 12:12:48.804 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:12:48.804 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:48.804 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:48.804 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:12:48.804 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:12:48.804 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:12:48.804 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:12:48.804 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:12:48.804 +02:00 [DBG] New connection P98F54oKlX20HvcjV9OIhQ created.
2024-01-10 12:12:48.804 +02:00 [DBG] Establishing new connection.
2024-01-10 12:12:48.804 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:12:48.804 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:12:48.825 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:12:48.825 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:48.825 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:48.825 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:12:48.825 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:12:48.825 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:12:48.825 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:12:48.825 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:12:48.825 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:12:48.825 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:12:48.825 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:12:48.826 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:12:48.826 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:12:48.826 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:12:48.826 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:12:48.826 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:12:48.826 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:12:48.826 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:12:48.826 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:12:48.826 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:12:48.826 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:12:48.826 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:12:48.826 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:12:48.827 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:12:48.827 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:12:48.827 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:12:48.827 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:12:48.827 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:12:48.827 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:12:48.827 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:12:48.827 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:12:48.827 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:12:48.827 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:12:48.827 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:12:48.828 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:12:48.828 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:12:48.828 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:12:48.828 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:12:48.828 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:12:48.828 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:12:48.828 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:12:48.829 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:12:48.829 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:12:48.830 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:48.830 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:48.830 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:48.830 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:48.831 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:48.831 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:12:48.831 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:12:48.831 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:48.831 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:12:48.831 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:48.831 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:48.834 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:48.834 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:48.834 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:48.834 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:48.834 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:48.835 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:12:48.836 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:12:48.836 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:48.837 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:48.837 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:48.837 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:48.837 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:48.837 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:48.837 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:48.837 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:48.837 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:12:48.837 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:48.837 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:48.837 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:12:48.837 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:12:48.837 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:12:48.837 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:12:48.837 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:12:48.838 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:12:48.838 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 11.847ms
2024-01-10 12:12:48.838 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:12:48.838 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 12.6878 ms
2024-01-10 12:12:48.838 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 353 application/json;+charset=utf-8 13.2642ms
2024-01-10 12:12:48.887 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:12:48.887 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:12:48.889 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:12:48.890 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:48.890 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:48.890 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:48.890 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:48.890 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:48.890 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:12:48.893 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:12:48.893 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:48.893 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:12:48.893 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:48.893 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:50.677 +02:00 [DBG] Connection id "0HN0HNRNRJMN4" received FIN.
2024-01-10 12:12:50.677 +02:00 [DBG] Connection id "0HN0HNRNRJMN4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:12:50.677 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:12:50.678 +02:00 [DBG] Connection id "0HN0HNRNRJMN4" disconnecting.
2024-01-10 12:12:50.678 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:12:50.678 +02:00 [DBG] Socket closed.
2024-01-10 12:12:50.679 +02:00 [DBG] Removing connection P98F54oKlX20HvcjV9OIhQ from the list of connections.
2024-01-10 12:12:50.679 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:12:50.679 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 1875.2985 ms
2024-01-10 12:12:50.679 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 1875.9477ms
2024-01-10 12:12:50.680 +02:00 [DBG] Connection id "0HN0HNRNRJMN4" stopped.
2024-01-10 12:12:50.916 +02:00 [DBG] Connection id "0HN0HNRNRJMN5" accepted.
2024-01-10 12:12:50.916 +02:00 [DBG] Connection id "0HN0HNRNRJMN5" started.
2024-01-10 12:12:50.917 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:12:50.917 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:50.917 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:50.917 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:12:50.917 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:12:50.917 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:12:50.917 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:12:50.917 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:12:50.917 +02:00 [DBG] New connection pHBMi-NKQGLEuWwST4ss9Q created.
2024-01-10 12:12:50.917 +02:00 [DBG] Establishing new connection.
2024-01-10 12:12:50.917 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:12:50.917 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:12:50.943 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:12:50.943 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:12:50.945 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:12:50.946 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:50.947 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:50.947 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:50.947 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:50.947 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:50.947 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:12:50.949 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:12:50.949 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:50.949 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:12:50.949 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:50.949 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:51.976 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 12:12:51.976 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:51.977 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:51.977 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/:id - -
2024-01-10 12:12:51.977 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:12:51.977 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:51.977 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:51.977 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:12:51.977 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.7221ms
2024-01-10 12:12:51.977 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/:id - - - 204 - - 0.3075ms
2024-01-10 12:12:51.979 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:12:51.980 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:51.980 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/:id application/json -
2024-01-10 12:12:51.980 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:51.980 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:12:51.980 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:12:51.980 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:12:51.980 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:12:51.980 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:12:51.980 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:12:51.980 +02:00 [DBG] The request path /api/User/:id does not match a supported file type
2024-01-10 12:12:51.980 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:12:51.980 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/:id'
2024-01-10 12:12:51.980 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:12:51.980 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/:id'
2024-01-10 12:12:51.980 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:12:51.980 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:12:51.980 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:12:51.980 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:12:51.980 +02:00 [INF] Route matched with {action = "GetUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:12:51.980 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:12:51.980 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:12:51.980 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:12:51.980 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:12:51.980 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:12:51.980 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:12:51.980 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:12:51.980 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:12:51.980 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:12:51.980 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:12:51.980 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:12:51.980 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:12:51.980 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:12:51.981 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:12:51.981 +02:00 [INF] GetAllRoles
2024-01-10 12:12:51.981 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 12:12:51.981 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:12:51.981 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 12:12:51.981 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:51.981 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:12:51.981 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:51.981 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:51.981 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:12:51.981 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:12:51.981 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 12:12:51.981 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 12:12:51.981 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:12:51.982 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:12:51.983 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:12:51.983 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:12:51.983 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:12:51.984 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:51.984 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:12:51.984 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:12:51.984 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:51.984 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:12:51.984 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:51.984 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:12:51.984 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:51.984 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetUserByIdAsync (WebApi) in 3.5098ms
2024-01-10 12:12:51.984 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:12:51.984 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:12:51.984 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:12:51.984 +02:00 [INF] HTTP GET /api/User/:id responded 400 in 4.1490 ms
2024-01-10 12:12:51.984 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:12:51.984 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/:id application/json - - 400 241 application/problem+json;+charset=utf-8 4.7186ms
2024-01-10 12:12:51.984 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:12:51.984 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:12:51.984 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:12:51.985 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:12:51.985 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:12:51.985 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:12:51.985 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 4.3831ms
2024-01-10 12:12:51.985 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:12:51.985 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 5.1872 ms
2024-01-10 12:12:51.986 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 6.3098ms
2024-01-10 12:13:05.374 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - -
2024-01-10 12:13:05.374 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:13:05.374 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:13:05.374 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:13:05.374 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - - - 204 - - 0.4950ms
2024-01-10 12:13:05.377 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126
2024-01-10 12:13:05.377 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:13:05.377 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:13:05.377 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:13:05.377 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:13:05.377 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/updateUser'
2024-01-10 12:13:05.377 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)' with route pattern 'api/User/updateUser' is valid for the request path '/api/User/updateUser'
2024-01-10 12:13:05.377 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:13:05.377 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:13:05.377 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:13:05.377 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:13:05.377 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:13:05.377 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:13:05.377 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:13:05.378 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:13:05.378 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:13:05.378 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:13:05.378 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:13:05.378 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 12:13:05.378 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 12:13:05.378 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 12:13:05.378 +02:00 [DBG] Connection id "0HN0HNRNRJMN1", Request id "0HN0HNRNRJMN1:00000019": started reading request body.
2024-01-10 12:13:05.378 +02:00 [DBG] Connection id "0HN0HNRNRJMN1", Request id "0HN0HNRNRJMN1:00000019": done reading request body.
2024-01-10 12:13:05.378 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonReaderException: Could not convert string to integer: :id. Path 'userId', line 1, position 15.
   at Newtonsoft.Json.JsonReader.ReadInt32String(String s)
   at Newtonsoft.Json.JsonTextReader.FinishReadQuotedNumber(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadNumberValue(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadAsInt32()
   at Newtonsoft.Json.JsonReader.ReadForType(JsonContract contract, Boolean hasConverter)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-01-10 12:13:05.378 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:13:05.378 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:13:05.378 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:13:05.378 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:13:05.378 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:13:05.378 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:13:05.379 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:13:05.379 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:13:05.379 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:13:05.379 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:13:05.379 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:13:05.379 +02:00 [INF] Executed action WebApi.Controllers.UserController.UpdateUserAsync (WebApi) in 1.2612ms
2024-01-10 12:13:05.379 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:13:05.379 +02:00 [INF] HTTP PUT /api/User/updateUser responded 400 in 1.7148 ms
2024-01-10 12:13:05.379 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126 - 400 338 application/problem+json;+charset=utf-8 2.1668ms
2024-01-10 12:14:59.706 +02:00 [DBG] Connection id "0HN0HNRNRJMN5" received FIN.
2024-01-10 12:14:59.706 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:14:59.707 +02:00 [DBG] Connection id "0HN0HNRNRJMN5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:14:59.709 +02:00 [DBG] Connection id "0HN0HNRNRJMN5" disconnecting.
2024-01-10 12:14:59.711 +02:00 [DBG] Socket closed.
2024-01-10 12:14:59.709 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:14:59.794 +02:00 [DBG] Removing connection pHBMi-NKQGLEuWwST4ss9Q from the list of connections.
2024-01-10 12:14:59.794 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:14:59.794 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 128883.6190 ms
2024-01-10 12:14:59.795 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 128884.1950ms
2024-01-10 12:14:59.795 +02:00 [DBG] Connection id "0HN0HNRNRJMN5" stopped.
2024-01-10 12:15:00.126 +02:00 [DBG] Connection id "0HN0HNRNRJMN6" accepted.
2024-01-10 12:15:00.127 +02:00 [DBG] Connection id "0HN0HNRNRJMN6" started.
2024-01-10 12:15:00.127 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:15:00.127 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:15:00.127 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:15:00.127 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:15:00.127 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:15:00.127 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:15:00.127 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:15:00.127 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:15:00.127 +02:00 [DBG] New connection DnaVKvaheEiWI0kTahI_sQ created.
2024-01-10 12:15:00.127 +02:00 [DBG] Establishing new connection.
2024-01-10 12:15:00.128 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:15:00.128 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:15:00.167 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 12:15:00.167 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/:id - -
2024-01-10 12:15:00.167 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:15:00.167 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:15:00.167 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:15:00.167 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:15:00.167 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:15:00.167 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:15:00.167 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.7720ms
2024-01-10 12:15:00.167 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/:id - - - 204 - - 0.5490ms
2024-01-10 12:15:00.170 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:15:00.170 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/:id application/json -
2024-01-10 12:15:00.170 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:15:00.170 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:15:00.170 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:15:00.170 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:15:00.170 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:15:00.170 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:15:00.170 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:15:00.170 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:15:00.170 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:15:00.170 +02:00 [DBG] The request path /api/User/:id does not match a supported file type
2024-01-10 12:15:00.171 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:15:00.171 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/:id'
2024-01-10 12:15:00.171 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:15:00.171 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/:id'
2024-01-10 12:15:00.171 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:15:00.171 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:15:00.171 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:15:00.171 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:15:00.171 +02:00 [INF] Route matched with {action = "GetUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:15:00.171 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:15:00.171 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:15:00.171 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:15:00.171 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:15:00.171 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:15:00.171 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:15:00.171 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:15:00.171 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:15:00.171 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:15:00.171 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:15:00.171 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:15:00.171 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:15:00.171 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:15:00.171 +02:00 [INF] GetAllRoles
2024-01-10 12:15:00.171 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 12:15:00.172 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 12:15:00.172 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:15:00.172 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:15:00.172 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:15:00.172 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:15:00.172 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:15:00.172 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 12:15:00.172 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:15:00.172 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 12:15:00.172 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:15:00.172 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:15:00.172 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:15:00.173 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:15:00.173 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:15:00.174 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:15:00.174 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:15:00.175 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:15:00.175 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:15:00.175 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:15:00.175 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetUserByIdAsync (WebApi) in 3.6752ms
2024-01-10 12:15:00.175 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:15:00.175 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:15:00.175 +02:00 [INF] HTTP GET /api/User/:id responded 400 in 4.5071 ms
2024-01-10 12:15:00.175 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:15:00.175 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:15:00.175 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/:id application/json - - 400 241 application/problem+json;+charset=utf-8 5.5270ms
2024-01-10 12:15:00.175 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:15:00.175 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:15:00.175 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:15:00.175 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:15:00.176 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:15:00.176 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:15:00.176 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:15:00.176 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:15:00.176 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:15:00.176 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:15:00.177 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 5.6224ms
2024-01-10 12:15:00.177 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:15:00.177 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 6.5926 ms
2024-01-10 12:15:00.177 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 7.5173ms
2024-01-10 12:15:00.223 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:15:00.223 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:15:00.227 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:15:00.227 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:15:00.228 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:15:00.228 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:15:00.228 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:15:00.229 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:15:00.229 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:15:00.231 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:15:00.232 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:15:00.232 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:15:00.232 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:15:00.232 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:15:12.652 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - -
2024-01-10 12:15:12.652 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:15:12.652 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:15:12.652 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:15:12.652 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - - - 204 - - 0.6512ms
2024-01-10 12:15:12.654 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126
2024-01-10 12:15:12.654 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:15:12.654 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:15:12.654 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:15:12.655 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:15:12.655 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/updateUser'
2024-01-10 12:15:12.655 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)' with route pattern 'api/User/updateUser' is valid for the request path '/api/User/updateUser'
2024-01-10 12:15:12.655 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:15:12.655 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:15:12.656 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:15:12.656 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:15:12.656 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:15:12.656 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:15:12.656 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:15:12.656 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:15:12.656 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:15:12.656 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:15:12.656 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:15:12.656 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 12:15:12.656 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 12:15:12.656 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 12:15:12.657 +02:00 [DBG] Connection id "0HN0HNRNRJMN1", Request id "0HN0HNRNRJMN1:00000025": started reading request body.
2024-01-10 12:15:12.657 +02:00 [DBG] Connection id "0HN0HNRNRJMN1", Request id "0HN0HNRNRJMN1:00000025": done reading request body.
2024-01-10 12:15:12.657 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonReaderException: Could not convert string to integer: :id. Path 'userId', line 1, position 15.
   at Newtonsoft.Json.JsonReader.ReadInt32String(String s)
   at Newtonsoft.Json.JsonTextReader.FinishReadQuotedNumber(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadNumberValue(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadAsInt32()
   at Newtonsoft.Json.JsonReader.ReadForType(JsonContract contract, Boolean hasConverter)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-01-10 12:15:12.657 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:15:12.657 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:15:12.657 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:15:12.657 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:15:12.657 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:15:12.657 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:15:12.657 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:15:12.657 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:15:12.657 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:15:12.657 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:15:12.657 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:15:12.658 +02:00 [INF] Executed action WebApi.Controllers.UserController.UpdateUserAsync (WebApi) in 1.5759ms
2024-01-10 12:15:12.658 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:15:12.658 +02:00 [INF] HTTP PUT /api/User/updateUser responded 400 in 2.6489 ms
2024-01-10 12:15:12.658 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126 - 400 338 application/problem+json;+charset=utf-8 4.0834ms
2024-01-10 12:15:24.897 +02:00 [DBG] Connection id "0HN0HNRNRJMN7" accepted.
2024-01-10 12:15:24.897 +02:00 [DBG] Connection id "0HN0HNRNRJMN7" started.
2024-01-10 12:15:24.903 +02:00 [DBG] Connection 0HN0HNRNRJMN7 established using the following protocol: "Tls12"
2024-01-10 12:15:24.904 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/:id - -
2024-01-10 12:15:24.909 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:15:24.909 +02:00 [DBG] The request path /api/User/:id does not match a supported file type
2024-01-10 12:15:24.909 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/:id'
2024-01-10 12:15:24.909 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/:id'
2024-01-10 12:15:24.909 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:15:24.909 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:15:24.909 +02:00 [INF] Route matched with {action = "GetUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:15:24.909 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:15:24.909 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:15:24.909 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:15:24.909 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:15:24.910 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:15:24.910 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:15:24.910 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:15:24.910 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 12:15:24.910 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 12:15:24.910 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:15:24.910 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 12:15:24.910 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 12:15:24.910 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:15:24.910 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:15:24.910 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:15:24.913 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:15:24.913 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:15:24.913 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:15:24.913 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:15:24.916 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetUserByIdAsync (WebApi) in 5.9077ms
2024-01-10 12:15:24.916 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:15:24.916 +02:00 [INF] HTTP GET /api/User/:id responded 400 in 6.9588 ms
2024-01-10 12:15:24.916 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/:id - - - 400 241 application/problem+json;+charset=utf-8 12.3222ms
2024-01-10 12:15:24.947 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/favicon.ico - -
2024-01-10 12:15:24.947 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:15:24.952 +02:00 [DBG] The request path /favicon.ico does not match an existing file
2024-01-10 12:15:24.953 +02:00 [DBG] No candidates found for the request path '/favicon.ico'
2024-01-10 12:15:24.955 +02:00 [DBG] Request did not match any endpoints
2024-01-10 12:15:24.955 +02:00 [INF] HTTP GET /favicon.ico responded 404 in 2.8430 ms
2024-01-10 12:15:24.956 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/favicon.ico - - - 404 0 - 9.1444ms
2024-01-10 12:17:15.284 +02:00 [DBG] Connection id "0HN0HNRNRJMN6" received FIN.
2024-01-10 12:17:15.284 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:17:15.285 +02:00 [DBG] Connection id "0HN0HNRNRJMN6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:17:15.285 +02:00 [DBG] Connection id "0HN0HNRNRJMN6" disconnecting.
2024-01-10 12:17:15.285 +02:00 [DBG] Socket closed.
2024-01-10 12:17:15.301 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:17:15.338 +02:00 [DBG] Removing connection DnaVKvaheEiWI0kTahI_sQ from the list of connections.
2024-01-10 12:17:15.345 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:17:15.346 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 135224.6457 ms
2024-01-10 12:17:15.348 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 135226.7560ms
2024-01-10 12:17:15.348 +02:00 [DBG] Connection id "0HN0HNRNRJMN6" stopped.
2024-01-10 12:17:36.775 +02:00 [INF] Application starting up
2024-01-10 12:17:37.504 +02:00 [DBG] Hosting starting
2024-01-10 12:17:37.549 +02:00 [INF] User profile is available. Using 'C:\Users\ghica\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-10 12:17:37.586 +02:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2024-01-10 12:17:37.586 +02:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2024-01-10 12:17:37.592 +02:00 [INF] Creating key {c61aaa37-bb13-4e71-8300-123fd3559598} with creation date 2024-01-10 10:17:37Z, activation date 2024-01-10 10:17:37Z, and expiration date 2024-04-09 10:17:37Z.
2024-01-10 12:17:37.600 +02:00 [DBG] Descriptor deserializer type for key {c61aaa37-bb13-4e71-8300-123fd3559598} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2024-01-10 12:17:37.605 +02:00 [DBG] No key escrow sink found. Not writing key {c61aaa37-bb13-4e71-8300-123fd3559598} to escrow.
2024-01-10 12:17:37.606 +02:00 [DBG] Encrypting to Windows DPAPI for local machine account.
2024-01-10 12:17:37.611 +02:00 [ERR] An error occurred while encrypting to Windows DPAPI.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
2024-01-10 12:17:37.645 +02:00 [ERR] An error occurred while reading the key ring.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.EncryptIfNecessary(IXmlEncryptor encryptor, XElement element)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.CreateNewKey(Guid keyId, DateTimeOffset creationDate, DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.CreateNewKey(DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
2024-01-10 12:17:37.646 +02:00 [INF] Key ring failed to load during application startup.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.EncryptIfNecessary(IXmlEncryptor encryptor, XElement element)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.CreateNewKey(Guid keyId, DateTimeOffset creationDate, DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.CreateNewKey(DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService.StartAsync(CancellationToken token)
2024-01-10 12:17:37.886 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 12:17:38.556 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 12:17:38.819 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-10 12:17:38.827 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 12:17:38.827 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 12:17:38.827 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 12:17:38.827 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 12:17:38.827 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 12:17:39.049 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 12:17:39.058 +02:00 [DBG] Creating DbConnection.
2024-01-10 12:17:39.064 +02:00 [DBG] Created DbConnection. (3ms).
2024-01-10 12:17:39.066 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.073 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.164 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.171 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 12:17:39.178 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-10 12:17:39.180 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-01-10 12:17:39.189 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 12:17:39.237 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 12:17:39.241 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.255 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (8ms).
2024-01-10 12:17:39.262 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 12:17:39.263 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 12:17:39.263 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 12:17:39.263 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.264 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.265 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 12:17:39.292 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 12:17:39.292 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.293 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:17:39.294 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.298 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.298 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 12:17:39.298 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 12:17:39.298 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 12:17:39.298 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 12:17:39.300 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 12:17:39.300 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.300 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:17:39.300 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 12:17:39.300 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 12:17:39.300 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 12:17:39.300 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.300 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.301 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 12:17:39.301 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 12:17:39.301 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.301 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:17:39.325 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:17:39.325 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:17:39.325 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:17:39.325 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.325 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.326 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 12:17:39.373 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 12:17:39.378 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.381 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-01-10 12:17:39.381 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:17:39.381 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:17:39.420 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 12:17:39.651 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 12:17:39.948 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 12:17:40.072 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 12:17:40.184 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 12:17:40.184 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 12:17:40.184 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 12:17:40.184 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 12:17:40.184 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 12:17:40.186 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 12:17:40.187 +02:00 [INF] Hosting environment: Development
2024-01-10 12:17:40.187 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 12:17:40.187 +02:00 [DBG] Hosting started
2024-01-10 12:17:40.253 +02:00 [DBG] Connection id "0HN0HOLG5JU9J" accepted.
2024-01-10 12:17:40.255 +02:00 [DBG] Connection id "0HN0HOLG5JU9J" started.
2024-01-10 12:17:40.270 +02:00 [DBG] Connection id "0HN0HOLG5JU9K" received FIN.
2024-01-10 12:17:40.272 +02:00 [DBG] Connection id "0HN0HOLG5JU9K" accepted.
2024-01-10 12:17:40.272 +02:00 [DBG] Connection id "0HN0HOLG5JU9K" started.
2024-01-10 12:17:40.273 +02:00 [DBG] Connection id "0HN0HOLG5JU9J" received FIN.
2024-01-10 12:17:40.281 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 12:17:40.286 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 12:17:40.296 +02:00 [DBG] Connection id "0HN0HOLG5JU9K" stopped.
2024-01-10 12:17:40.296 +02:00 [DBG] Connection id "0HN0HOLG5JU9J" stopped.
2024-01-10 12:17:40.299 +02:00 [DBG] Connection id "0HN0HOLG5JU9J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:17:40.299 +02:00 [DBG] Connection id "0HN0HOLG5JU9K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:17:40.832 +02:00 [DBG] Connection id "0HN0HOLG5JU9L" accepted.
2024-01-10 12:17:40.833 +02:00 [DBG] Connection id "0HN0HOLG5JU9L" started.
2024-01-10 12:17:40.896 +02:00 [DBG] Connection 0HN0HOLG5JU9L established using the following protocol: "Tls12"
2024-01-10 12:17:40.994 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 12:17:41.043 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 12:17:41.292 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 12:17:41.450 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 12:17:41.456 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 12:17:41.457 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 12:17:41.461 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 473.5303ms
2024-01-10 12:17:41.475 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 19.4900ms
2024-01-10 12:17:41.489 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.1100ms
2024-01-10 12:17:41.558 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 12:17:41.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 195.1831ms
2024-01-10 12:18:29.252 +02:00 [DBG] Connection id "0HN0HOLG5JU9L" received FIN.
2024-01-10 12:18:29.254 +02:00 [DBG] Connection id "0HN0HOLG5JU9L" is closed. The last processed stream ID was 7.
2024-01-10 12:18:29.280 +02:00 [DBG] Connection id "0HN0HOLG5JU9L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:18:29.285 +02:00 [DBG] Connection id "0HN0HOLG5JU9L" stopped.
2024-01-10 12:18:33.070 +02:00 [DBG] Connection id "0HN0HOLG5JU9M" accepted.
2024-01-10 12:18:33.070 +02:00 [DBG] Connection id "0HN0HOLG5JU9M" started.
2024-01-10 12:18:33.084 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:18:33.086 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:18:33.087 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:18:33.090 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:18:33.095 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:18:33.141 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:18:33.141 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:18:33.142 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:18:33.164 +02:00 [DBG] New connection 6XIc5xiUfpUDUHTKPlkQ3w created.
2024-01-10 12:18:33.170 +02:00 [DBG] Establishing new connection.
2024-01-10 12:18:33.175 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:18:33.186 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:18:33.206 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:18:33.214 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:18:33.252 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:18:33.384 +02:00 [DBG] Compiling query expression: 
'DbSet<DeviceReading>()
    .Where(d => !(d.IsAlertRead) && d.AlertType != null)
    .Count()'
2024-01-10 12:18:33.789 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM DeviceReadings AS d
            WHERE Not(d.IsAlertRead) && (d.AlertType != NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccessLayer.InternshipContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-10 12:18:33.860 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:18:33.860 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:18:33.860 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:18:33.868 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:18:33.869 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:18:33.870 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:18:33.909 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:18:33.943 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:18:33.944 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 34ms reading results.
2024-01-10 12:18:33.950 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:18:33.951 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:18:35.136 +02:00 [DBG] Connection id "0HN0HOLG5JU9N" accepted.
2024-01-10 12:18:35.136 +02:00 [DBG] Connection id "0HN0HOLG5JU9N" started.
2024-01-10 12:18:35.149 +02:00 [DBG] Connection 0HN0HOLG5JU9N established using the following protocol: "Tls12"
2024-01-10 12:18:35.151 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 12:18:35.151 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:18:35.151 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:18:35.153 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:18:35.153 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/:id - -
2024-01-10 12:18:35.156 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:18:35.156 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:18:35.156 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:18:35.206 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 54.8914ms
2024-01-10 12:18:35.206 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/:id - - - 204 - - 52.8107ms
2024-01-10 12:18:35.212 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/:id application/json -
2024-01-10 12:18:35.212 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:18:35.212 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:18:35.212 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:18:35.212 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:18:35.212 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:18:35.212 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:18:35.212 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:18:35.212 +02:00 [DBG] The request path /api/User/:id does not match a supported file type
2024-01-10 12:18:35.212 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:18:35.213 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:18:35.213 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/:id'
2024-01-10 12:18:35.214 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/:id'
2024-01-10 12:18:35.214 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:18:35.214 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:18:35.214 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:18:35.214 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:18:35.214 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:18:35.234 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:18:35.234 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:18:35.235 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:18:35.235 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:18:35.235 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:18:35.235 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:18:35.236 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:18:35.237 +02:00 [INF] Route matched with {action = "GetUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:18:35.237 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:18:35.237 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:18:35.237 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:18:35.237 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:18:35.237 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:18:35.237 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:18:35.238 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:18:35.238 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:18:35.241 +02:00 [INF] GetAllRoles
2024-01-10 12:18:35.244 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 12:18:35.245 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 12:18:35.247 +02:00 [DBG] Compiling query expression: 
'DbSet<Role>()'
2024-01-10 12:18:35.251 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:18:35.251 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 12:18:35.253 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 12:18:35.255 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:18:35.257 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:18:35.258 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:18:35.261 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:18:35.261 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:18:35.262 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:18:35.262 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:18:35.300 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Role>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.RoleType (string) Required, 1] }
        SELECT r.Id, r.RoleType
        FROM Roles AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 12:18:35.307 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:18:35.308 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:18:35.308 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:18:35.308 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:18:35.308 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:18:35.308 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:18:35.312 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:18:35.343 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:18:35.360 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:18:35.360 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:18:35.360 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:18:35.361 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:18:35.361 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 48ms reading results.
2024-01-10 12:18:35.361 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:18:35.361 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:18:35.365 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:18:35.366 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:18:35.366 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:18:35.366 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:18:35.366 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:18:35.366 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:18:35.418 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 178.6389ms
2024-01-10 12:18:35.418 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetUserByIdAsync (WebApi) in 176.206ms
2024-01-10 12:18:35.419 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:18:35.419 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:18:35.421 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 207.8735 ms
2024-01-10 12:18:35.421 +02:00 [INF] HTTP GET /api/User/:id responded 400 in 206.4835 ms
2024-01-10 12:18:35.422 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/:id application/json - - 400 241 application/problem+json;+charset=utf-8 210.1775ms
2024-01-10 12:18:35.422 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 210.4015ms
2024-01-10 12:18:39.278 +02:00 [DBG] Connection id "0HN0HOLG5JU9N" received FIN.
2024-01-10 12:18:39.278 +02:00 [DBG] Connection id "0HN0HOLG5JU9N" is closed. The last processed stream ID was 7.
2024-01-10 12:18:39.278 +02:00 [DBG] Connection id "0HN0HOLG5JU9N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:18:39.287 +02:00 [DBG] Connection id "0HN0HOLG5JU9N" stopped.
2024-01-10 12:18:45.554 +02:00 [DBG] Connection id "0HN0HOLG5JU9O" accepted.
2024-01-10 12:18:45.554 +02:00 [DBG] Connection id "0HN0HOLG5JU9O" started.
2024-01-10 12:18:45.556 +02:00 [DBG] Connection 0HN0HOLG5JU9O established using the following protocol: "Tls12"
2024-01-10 12:18:45.557 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - -
2024-01-10 12:18:45.557 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:18:45.557 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:18:45.558 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:18:45.558 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - - - 204 - - 0.8451ms
2024-01-10 12:18:45.559 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126
2024-01-10 12:18:45.559 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:18:45.559 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:18:45.559 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:18:45.560 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:18:45.562 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/updateUser'
2024-01-10 12:18:45.562 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)' with route pattern 'api/User/updateUser' is valid for the request path '/api/User/updateUser'
2024-01-10 12:18:45.562 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:18:45.562 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:18:45.565 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:18:45.565 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:18:45.565 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:18:45.565 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:18:45.565 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:18:45.565 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:18:45.565 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:18:45.565 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:18:45.565 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:18:45.566 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 12:18:45.567 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 12:18:45.567 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 12:18:45.576 +02:00 [DBG] Connection id "0HN0HOLG5JU9O", Request id "0HN0HOLG5JU9O:00000003": started reading request body.
2024-01-10 12:18:45.576 +02:00 [DBG] Connection id "0HN0HOLG5JU9O", Request id "0HN0HOLG5JU9O:00000003": done reading request body.
2024-01-10 12:18:45.625 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonReaderException: Could not convert string to integer: :id. Path 'userId', line 1, position 15.
   at Newtonsoft.Json.JsonReader.ReadInt32String(String s)
   at Newtonsoft.Json.JsonTextReader.FinishReadQuotedNumber(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadNumberValue(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadAsInt32()
   at Newtonsoft.Json.JsonReader.ReadForType(JsonContract contract, Boolean hasConverter)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-01-10 12:18:45.656 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:18:45.656 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:18:45.656 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:18:45.667 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:18:45.668 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:18:45.668 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:18:45.668 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:18:45.668 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:18:45.668 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:18:45.668 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:18:45.668 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:18:45.668 +02:00 [INF] Executed action WebApi.Controllers.UserController.UpdateUserAsync (WebApi) in 103.2554ms
2024-01-10 12:18:45.668 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:18:45.669 +02:00 [INF] HTTP PUT /api/User/updateUser responded 400 in 108.9914 ms
2024-01-10 12:18:45.669 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126 - 400 338 application/problem+json;+charset=utf-8 109.7403ms
2024-01-10 12:18:49.281 +02:00 [DBG] Connection id "0HN0HOLG5JU9O" received FIN.
2024-01-10 12:18:49.281 +02:00 [DBG] Connection id "0HN0HOLG5JU9O" is closed. The last processed stream ID was 3.
2024-01-10 12:18:49.281 +02:00 [DBG] Connection id "0HN0HOLG5JU9O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:18:49.281 +02:00 [DBG] Connection id "0HN0HOLG5JU9O" stopped.
2024-01-10 12:18:58.438 +02:00 [DBG] Connection id "0HN0HOLG5JU9P" accepted.
2024-01-10 12:18:58.438 +02:00 [DBG] Connection id "0HN0HOLG5JU9P" started.
2024-01-10 12:18:58.440 +02:00 [DBG] Connection 0HN0HOLG5JU9P established using the following protocol: "Tls12"
2024-01-10 12:18:58.443 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - -
2024-01-10 12:18:58.443 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:18:58.443 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:18:58.443 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:18:58.443 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - - - 204 - - 0.3983ms
2024-01-10 12:18:58.445 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126
2024-01-10 12:18:58.445 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:18:58.445 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:18:58.445 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:18:58.445 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:18:58.445 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/updateUser'
2024-01-10 12:18:58.445 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)' with route pattern 'api/User/updateUser' is valid for the request path '/api/User/updateUser'
2024-01-10 12:18:58.445 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:18:58.445 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:18:58.446 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:18:58.446 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:18:58.446 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:18:58.446 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:18:58.446 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:18:58.446 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:18:58.446 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:18:58.450 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:18:58.450 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:18:58.450 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 12:18:58.450 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 12:18:58.450 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 12:18:58.450 +02:00 [DBG] Connection id "0HN0HOLG5JU9P", Request id "0HN0HOLG5JU9P:00000003": started reading request body.
2024-01-10 12:18:58.450 +02:00 [DBG] Connection id "0HN0HOLG5JU9P", Request id "0HN0HOLG5JU9P:00000003": done reading request body.
2024-01-10 12:18:58.451 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonReaderException: Could not convert string to integer: :id. Path 'userId', line 1, position 15.
   at Newtonsoft.Json.JsonReader.ReadInt32String(String s)
   at Newtonsoft.Json.JsonTextReader.FinishReadQuotedNumber(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadNumberValue(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadAsInt32()
   at Newtonsoft.Json.JsonReader.ReadForType(JsonContract contract, Boolean hasConverter)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-01-10 12:18:58.451 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:18:58.451 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:18:58.451 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:18:58.451 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:18:58.451 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:18:58.451 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:18:58.451 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:18:58.451 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:18:58.451 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:18:58.451 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:18:58.451 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:18:58.452 +02:00 [INF] Executed action WebApi.Controllers.UserController.UpdateUserAsync (WebApi) in 5.556ms
2024-01-10 12:18:58.452 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:18:58.452 +02:00 [INF] HTTP PUT /api/User/updateUser responded 400 in 6.5477 ms
2024-01-10 12:18:58.452 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126 - 400 338 application/problem+json;+charset=utf-8 7.2798ms
2024-01-10 12:18:59.295 +02:00 [DBG] Connection id "0HN0HOLG5JU9P" received FIN.
2024-01-10 12:18:59.295 +02:00 [DBG] Connection id "0HN0HOLG5JU9P" is closed. The last processed stream ID was 3.
2024-01-10 12:18:59.295 +02:00 [DBG] Connection id "0HN0HOLG5JU9P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:18:59.296 +02:00 [DBG] Connection id "0HN0HOLG5JU9P" stopped.
2024-01-10 12:19:29.083 +02:00 [DBG] Connection id "0HN0HOLG5JU9M" received FIN.
2024-01-10 12:19:29.084 +02:00 [DBG] Connection id "0HN0HOLG5JU9M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:19:29.084 +02:00 [DBG] Connection id "0HN0HOLG5JU9M" disconnecting.
2024-01-10 12:19:29.086 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:19:29.091 +02:00 [DBG] Socket closed.
2024-01-10 12:19:29.110 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:19:29.120 +02:00 [DBG] Removing connection 6XIc5xiUfpUDUHTKPlkQ3w from the list of connections.
2024-01-10 12:19:29.124 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:19:29.124 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 56026.3385 ms
2024-01-10 12:19:29.125 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 56042.2256ms
2024-01-10 12:19:29.125 +02:00 [DBG] Connection id "0HN0HOLG5JU9M" stopped.
2024-01-10 12:19:29.626 +02:00 [DBG] Connection id "0HN0HOLG5JU9Q" accepted.
2024-01-10 12:19:29.626 +02:00 [DBG] Connection id "0HN0HOLG5JU9Q" started.
2024-01-10 12:19:29.629 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:19:29.629 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:19:29.629 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:19:29.630 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:19:29.630 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:19:29.630 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:19:29.630 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:19:29.630 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:19:29.631 +02:00 [DBG] New connection ThoinHywbqVEIhrjGdctXQ created.
2024-01-10 12:19:29.631 +02:00 [DBG] Establishing new connection.
2024-01-10 12:19:29.632 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:19:29.633 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:19:29.717 +02:00 [DBG] Connection id "0HN0HOLG5JU9R" accepted.
2024-01-10 12:19:29.717 +02:00 [DBG] Connection id "0HN0HOLG5JU9R" started.
2024-01-10 12:19:29.718 +02:00 [DBG] Connection 0HN0HOLG5JU9R established using the following protocol: "Tls12"
2024-01-10 12:19:29.730 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 12:19:29.730 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/:id - -
2024-01-10 12:19:29.731 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:19:29.731 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:19:29.731 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:19:29.731 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:19:29.731 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:19:29.731 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:19:29.731 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.7964ms
2024-01-10 12:19:29.731 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/:id - - - 204 - - 0.7461ms
2024-01-10 12:19:29.739 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/:id application/json -
2024-01-10 12:19:29.739 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:19:29.740 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:19:29.740 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:19:29.740 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:19:29.740 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:19:29.740 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:19:29.740 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:19:29.740 +02:00 [DBG] The request path /api/User/:id does not match a supported file type
2024-01-10 12:19:29.740 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:19:29.740 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:19:29.740 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/:id'
2024-01-10 12:19:29.740 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:19:29.740 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:19:29.740 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/:id'
2024-01-10 12:19:29.740 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:19:29.740 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:19:29.740 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:19:29.740 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:19:29.740 +02:00 [INF] Route matched with {action = "GetUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:19:29.740 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:19:29.740 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:19:29.741 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:19:29.741 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:19:29.741 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:19:29.741 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:19:29.741 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:19:29.741 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:19:29.741 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:19:29.741 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:19:29.741 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:19:29.741 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:19:29.741 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:19:29.741 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:19:29.741 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 12:19:29.741 +02:00 [INF] GetAllRoles
2024-01-10 12:19:29.742 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 12:19:29.743 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:19:29.743 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 12:19:29.743 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 12:19:29.743 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:19:29.743 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:19:29.743 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:19:29.743 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:19:29.743 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:19:29.744 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:19:29.744 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:19:29.750 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetUserByIdAsync (WebApi) in 5.349ms
2024-01-10 12:19:29.756 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:19:29.767 +02:00 [INF] HTTP GET /api/User/:id responded 400 in 27.1650 ms
2024-01-10 12:19:29.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/:id application/json - - 400 241 application/problem+json;+charset=utf-8 29.9536ms
2024-01-10 12:19:29.771 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 12:19:29.771 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:19:29.771 +02:00 [DBG] Creating DbConnection.
2024-01-10 12:19:29.772 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-10 12:19:29.772 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:19:29.772 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:19:29.772 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:19:29.772 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:19:29.772 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:19:29.776 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:19:29.776 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:19:29.776 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:19:29.776 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:19:29.777 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:19:29.777 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:19:29.777 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:19:29.777 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:19:29.777 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:19:29.777 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:19:29.777 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:19:29.778 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:19:29.778 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:19:29.778 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:19:29.778 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:19:29.778 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 37.1855ms
2024-01-10 12:19:29.778 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:19:29.778 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 38.3322 ms
2024-01-10 12:19:29.779 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 39.4533ms
2024-01-10 12:19:29.849 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:19:29.849 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:19:29.882 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:19:29.888 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:19:29.888 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:19:29.888 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:19:29.888 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:19:29.888 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:19:29.888 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:19:29.893 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:19:29.893 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:19:29.893 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:19:29.893 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:19:29.893 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:19:39.342 +02:00 [DBG] Connection id "0HN0HOLG5JU9R" received FIN.
2024-01-10 12:19:39.342 +02:00 [DBG] Connection id "0HN0HOLG5JU9R" is closed. The last processed stream ID was 7.
2024-01-10 12:19:39.342 +02:00 [DBG] Connection id "0HN0HOLG5JU9R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:19:39.345 +02:00 [DBG] Connection id "0HN0HOLG5JU9R" stopped.
2024-01-10 12:19:53.750 +02:00 [DBG] Connection id "0HN0HOLG5JU9S" accepted.
2024-01-10 12:19:53.750 +02:00 [DBG] Connection id "0HN0HOLG5JU9S" started.
2024-01-10 12:19:53.751 +02:00 [DBG] Connection 0HN0HOLG5JU9S established using the following protocol: "Tls12"
2024-01-10 12:19:53.752 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - -
2024-01-10 12:19:53.753 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:19:53.753 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:19:53.753 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:19:53.753 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - - - 204 - - 0.7156ms
2024-01-10 12:19:53.754 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126
2024-01-10 12:19:53.754 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:19:53.754 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:19:53.754 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:19:53.754 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:19:53.754 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/updateUser'
2024-01-10 12:19:53.754 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)' with route pattern 'api/User/updateUser' is valid for the request path '/api/User/updateUser'
2024-01-10 12:19:53.754 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:19:53.754 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:19:53.754 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:19:53.754 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:19:53.754 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:19:53.754 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:19:53.754 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:19:53.754 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:19:53.754 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:19:53.754 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:19:53.754 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:19:53.755 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 12:19:53.755 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 12:19:53.755 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 12:19:53.755 +02:00 [DBG] Connection id "0HN0HOLG5JU9S", Request id "0HN0HOLG5JU9S:00000003": started reading request body.
2024-01-10 12:19:53.755 +02:00 [DBG] Connection id "0HN0HOLG5JU9S", Request id "0HN0HOLG5JU9S:00000003": done reading request body.
2024-01-10 12:19:53.755 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonReaderException: Could not convert string to integer: :id. Path 'userId', line 1, position 15.
   at Newtonsoft.Json.JsonReader.ReadInt32String(String s)
   at Newtonsoft.Json.JsonTextReader.FinishReadQuotedNumber(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadNumberValue(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadAsInt32()
   at Newtonsoft.Json.JsonReader.ReadForType(JsonContract contract, Boolean hasConverter)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-01-10 12:19:53.755 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:19:53.755 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:19:53.755 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:19:53.755 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:19:53.755 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:19:53.755 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:19:53.755 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:19:53.755 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:19:53.755 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:19:53.755 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:19:53.755 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:19:53.756 +02:00 [INF] Executed action WebApi.Controllers.UserController.UpdateUserAsync (WebApi) in 1.252ms
2024-01-10 12:19:53.756 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:19:53.756 +02:00 [INF] HTTP PUT /api/User/updateUser responded 400 in 1.7421 ms
2024-01-10 12:19:53.756 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126 - 400 338 application/problem+json;+charset=utf-8 2.2184ms
2024-01-10 12:19:59.356 +02:00 [DBG] Connection id "0HN0HOLG5JU9S" received FIN.
2024-01-10 12:19:59.356 +02:00 [DBG] Connection id "0HN0HOLG5JU9S" is closed. The last processed stream ID was 3.
2024-01-10 12:19:59.356 +02:00 [DBG] Connection id "0HN0HOLG5JU9S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:19:59.366 +02:00 [DBG] Connection id "0HN0HOLG5JU9S" stopped.
2024-01-10 12:20:07.630 +02:00 [DBG] Connection id "0HN0HOLG5JU9Q" received FIN.
2024-01-10 12:20:07.630 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:20:07.630 +02:00 [DBG] Connection id "0HN0HOLG5JU9Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:20:07.630 +02:00 [DBG] Connection id "0HN0HOLG5JU9Q" disconnecting.
2024-01-10 12:20:07.630 +02:00 [DBG] Socket closed.
2024-01-10 12:20:07.631 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:20:07.632 +02:00 [DBG] Removing connection ThoinHywbqVEIhrjGdctXQ from the list of connections.
2024-01-10 12:20:07.635 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:20:07.636 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 38007.7022 ms
2024-01-10 12:20:07.638 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 38009.8320ms
2024-01-10 12:20:07.638 +02:00 [DBG] Connection id "0HN0HOLG5JU9Q" stopped.
2024-01-10 12:20:08.046 +02:00 [DBG] Connection id "0HN0HOLG5JU9T" accepted.
2024-01-10 12:20:08.046 +02:00 [DBG] Connection id "0HN0HOLG5JU9T" started.
2024-01-10 12:20:08.047 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:20:08.047 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:20:08.047 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:20:08.047 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:20:08.047 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:20:08.047 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:20:08.047 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:20:08.047 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:20:08.047 +02:00 [DBG] New connection KIu5YotWUmWGIjR1u6HF4A created.
2024-01-10 12:20:08.047 +02:00 [DBG] Establishing new connection.
2024-01-10 12:20:08.047 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:20:08.048 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:20:08.116 +02:00 [DBG] Connection id "0HN0HOLG5JU9U" accepted.
2024-01-10 12:20:08.116 +02:00 [DBG] Connection id "0HN0HOLG5JU9U" started.
2024-01-10 12:20:08.126 +02:00 [DBG] Connection 0HN0HOLG5JU9U established using the following protocol: "Tls12"
2024-01-10 12:20:08.127 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 12:20:08.127 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:20:08.127 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:20:08.128 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:20:08.128 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/:id - -
2024-01-10 12:20:08.128 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:20:08.128 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 1.1443ms
2024-01-10 12:20:08.128 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:20:08.128 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:20:08.128 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/:id - - - 204 - - 0.6276ms
2024-01-10 12:20:08.131 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:20:08.131 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/:id application/json -
2024-01-10 12:20:08.131 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:20:08.131 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:20:08.131 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:20:08.131 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:20:08.131 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:20:08.131 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:20:08.131 +02:00 [DBG] The request path /api/User/:id does not match a supported file type
2024-01-10 12:20:08.131 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:20:08.131 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/:id'
2024-01-10 12:20:08.131 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:20:08.131 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/:id'
2024-01-10 12:20:08.131 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:20:08.131 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:20:08.131 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:20:08.132 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:20:08.132 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:20:08.132 +02:00 [INF] Route matched with {action = "GetUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:20:08.132 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:20:08.132 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:20:08.132 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:20:08.132 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:20:08.132 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:20:08.132 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:20:08.132 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:20:08.132 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:20:08.132 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:20:08.132 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:20:08.132 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:20:08.132 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:20:08.132 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:20:08.132 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:20:08.132 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:20:08.132 +02:00 [INF] GetAllRoles
2024-01-10 12:20:08.132 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 12:20:08.132 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:20:08.132 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 12:20:08.132 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:20:08.132 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:20:08.133 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:20:08.133 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:20:08.133 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 12:20:08.133 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 12:20:08.133 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:20:08.133 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:20:08.133 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:20:08.133 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:20:08.133 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:20:08.133 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:20:08.133 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:20:08.134 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:20:08.135 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:20:08.135 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetUserByIdAsync (WebApi) in 3.3555ms
2024-01-10 12:20:08.136 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)'
2024-01-10 12:20:08.136 +02:00 [INF] HTTP GET /api/User/:id responded 400 in 4.2263 ms
2024-01-10 12:20:08.136 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/:id application/json - - 400 241 application/problem+json;+charset=utf-8 5.1391ms
2024-01-10 12:20:08.141 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:20:08.142 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:20:08.142 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:20:08.142 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:20:08.142 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:20:08.143 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:20:08.143 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:20:08.143 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:20:08.143 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:20:08.143 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:20:08.143 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:20:08.143 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:20:08.143 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:20:08.143 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:20:08.143 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:20:08.144 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 11.6607ms
2024-01-10 12:20:08.144 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:20:08.144 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 12.4135 ms
2024-01-10 12:20:08.144 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 13.3342ms
2024-01-10 12:20:08.189 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:20:08.190 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:20:08.197 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:20:08.197 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:20:08.197 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:20:08.197 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:20:08.197 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:20:08.198 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:20:08.198 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:20:08.202 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:20:08.202 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:20:08.202 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:20:08.202 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:20:08.202 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:20:09.356 +02:00 [DBG] Connection id "0HN0HOLG5JU9U" received FIN.
2024-01-10 12:20:09.356 +02:00 [DBG] Connection id "0HN0HOLG5JU9U" is closed. The last processed stream ID was 7.
2024-01-10 12:20:09.357 +02:00 [DBG] Connection id "0HN0HOLG5JU9U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:20:09.357 +02:00 [DBG] Connection id "0HN0HOLG5JU9U" stopped.
2024-01-10 12:20:26.790 +02:00 [DBG] Connection id "0HN0HOLG5JU9V" accepted.
2024-01-10 12:20:26.790 +02:00 [DBG] Connection id "0HN0HOLG5JU9V" started.
2024-01-10 12:20:26.795 +02:00 [DBG] Connection 0HN0HOLG5JU9V established using the following protocol: "Tls12"
2024-01-10 12:20:26.796 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - -
2024-01-10 12:20:26.797 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:20:26.797 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:20:26.797 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:20:26.797 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/updateUser - - - 204 - - 0.7737ms
2024-01-10 12:20:26.798 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126
2024-01-10 12:20:26.798 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:20:26.798 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:20:26.799 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:20:26.799 +02:00 [DBG] PUT requests are not supported
2024-01-10 12:20:26.799 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/updateUser'
2024-01-10 12:20:26.799 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)' with route pattern 'api/User/updateUser' is valid for the request path '/api/User/updateUser'
2024-01-10 12:20:26.799 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:20:26.799 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:20:26.799 +02:00 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:20:26.799 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:20:26.799 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:20:26.799 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:20:26.799 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:20:26.800 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:20:26.800 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:20:26.800 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:20:26.800 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:20:26.800 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 12:20:26.800 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 12:20:26.800 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 12:20:26.800 +02:00 [DBG] Connection id "0HN0HOLG5JU9V", Request id "0HN0HOLG5JU9V:00000003": started reading request body.
2024-01-10 12:20:26.800 +02:00 [DBG] Connection id "0HN0HOLG5JU9V", Request id "0HN0HOLG5JU9V:00000003": done reading request body.
2024-01-10 12:20:26.801 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonReaderException: Could not convert string to integer: :id. Path 'userId', line 1, position 15.
   at Newtonsoft.Json.JsonReader.ReadInt32String(String s)
   at Newtonsoft.Json.JsonTextReader.FinishReadQuotedNumber(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadNumberValue(ReadType readType)
   at Newtonsoft.Json.JsonTextReader.ReadAsInt32()
   at Newtonsoft.Json.JsonReader.ReadForType(JsonContract contract, Boolean hasConverter)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-01-10 12:20:26.801 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:20:26.801 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:20:26.801 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:20:26.801 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:20:26.801 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 12:20:26.801 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 12:20:26.801 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:20:26.801 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:20:26.801 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 12:20:26.801 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 12:20:26.801 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 12:20:26.802 +02:00 [INF] Executed action WebApi.Controllers.UserController.UpdateUserAsync (WebApi) in 1.9219ms
2024-01-10 12:20:26.802 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.UpdateUserAsync (WebApi)'
2024-01-10 12:20:26.802 +02:00 [INF] HTTP PUT /api/User/updateUser responded 400 in 2.9623 ms
2024-01-10 12:20:26.802 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7137/api/User/updateUser application/json 126 - 400 338 application/problem+json;+charset=utf-8 3.6374ms
2024-01-10 12:20:29.372 +02:00 [DBG] Connection id "0HN0HOLG5JU9V" received FIN.
2024-01-10 12:20:29.372 +02:00 [DBG] Connection id "0HN0HOLG5JU9V" is closed. The last processed stream ID was 3.
2024-01-10 12:20:29.372 +02:00 [DBG] Connection id "0HN0HOLG5JU9V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:20:29.381 +02:00 [DBG] Connection id "0HN0HOLG5JU9V" stopped.
2024-01-10 12:20:34.057 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:20:34.057 +02:00 [DBG] Connection id "0HN0HOLG5JU9T" received FIN.
2024-01-10 12:20:34.057 +02:00 [DBG] Connection id "0HN0HOLG5JU9T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:20:34.058 +02:00 [DBG] Connection id "0HN0HOLG5JU9T" disconnecting.
2024-01-10 12:20:34.058 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:20:34.059 +02:00 [DBG] Socket closed.
2024-01-10 12:20:34.069 +02:00 [DBG] Removing connection KIu5YotWUmWGIjR1u6HF4A from the list of connections.
2024-01-10 12:20:34.071 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:20:34.071 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 26024.4722 ms
2024-01-10 12:20:34.071 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 26024.8704ms
2024-01-10 12:20:34.071 +02:00 [DBG] Connection id "0HN0HOLG5JU9T" stopped.
2024-01-10 12:20:58.468 +02:00 [DBG] Connection id "0HN0HOLG5JUA0" accepted.
2024-01-10 12:20:58.468 +02:00 [DBG] Connection id "0HN0HOLG5JUA0" started.
2024-01-10 12:20:58.468 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:20:58.468 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:20:58.468 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:20:58.469 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:20:58.469 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:20:58.469 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:20:58.469 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:20:58.469 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:20:58.469 +02:00 [DBG] New connection cyhjmAPFq7h0_vPqtq1fmA created.
2024-01-10 12:20:58.469 +02:00 [DBG] Establishing new connection.
2024-01-10 12:20:58.469 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:20:58.469 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:20:58.505 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:20:58.505 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:20:58.513 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:20:58.513 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:20:58.513 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:20:58.513 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:20:58.513 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:20:58.513 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:20:58.514 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:20:58.522 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:20:58.522 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:20:58.522 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:20:58.522 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:20:58.522 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:21:02.021 +02:00 [DBG] Connection id "0HN0HOLG5JUA1" accepted.
2024-01-10 12:21:02.021 +02:00 [DBG] Connection id "0HN0HOLG5JUA1" started.
2024-01-10 12:21:02.023 +02:00 [DBG] Connection 0HN0HOLG5JUA1 established using the following protocol: "Tls12"
2024-01-10 12:21:02.025 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:21:02.025 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:21:02.026 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:21:02.026 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:21:02.027 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 2.0364ms
2024-01-10 12:21:02.063 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:21:02.063 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:21:02.063 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:21:02.063 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:21:02.063 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:21:02.063 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:21:02.063 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:21:02.063 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:21:02.063 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:21:02.064 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:21:02.071 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:21:02.071 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:21:02.071 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:21:02.071 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:21:02.071 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:21:02.071 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:21:02.071 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:21:02.071 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:21:02.077 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:21:02.078 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:21:02.086 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:21:02.087 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:21:02.087 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:21:02.088 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:21:02.088 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:21:02.089 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:21:02.089 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:21:02.089 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:21:02.089 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:21:02.090 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:21:02.090 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:21:02.091 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:21:02.091 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:21:02.091 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:21:02.092 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:21:02.092 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:21:02.092 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:21:02.093 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:21:02.093 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:21:02.093 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:21:02.094 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:21:02.097 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:21:02.103 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:21:02.118 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Count()'
2024-01-10 12:21:02.130 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Users AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 12:21:02.134 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:21:02.134 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:02.134 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:02.134 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:02.134 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:02.134 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:21:02.143 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:21:02.144 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:02.144 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:21:02.144 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:02.145 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:21:02.147 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .OrderBy(d => d.Username)
    .Skip(__p_0)
    .Take(__p_1)'
2024-01-10 12:21:02.165 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-10 12:21:02.261 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.FirstName (string) Required, 2], [Property: User.IsActive (bool) Required ValueGenerated.OnAdd, 3], [Property: User.LastName (string) Required, 4], [Property: User.Password (string) Required, 5], [Property: User.RoleId (int) Required FK Index, 6], [Property: User.Username (string) Required Index, 7] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Role.RoleType (string) Required, 9] }
        SELECT t.Id, t.Email, t.FirstName, t.IsActive, t.LastName, t.Password, t.RoleId, t.Username, r.Id, r.RoleType
        FROM 
        (
            SELECT u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RoleId, u.Username
            FROM Users AS u
            ORDER BY u.Username ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Roles AS r ON t.RoleId == r.Id
        ORDER BY t.Username ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 12:21:02.266 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:21:02.266 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:02.269 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-10 12:21:02.270 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:02.270 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:02.278 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:21:02.322 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:21:02.327 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:02.354 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:02.361 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:02.362 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:02.362 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:02.362 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:02.363 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:02.363 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:02.364 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 41ms reading results.
2024-01-10 12:21:02.364 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:02.364 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:21:02.365 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:21:02.365 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:21:02.365 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:21:02.365 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:21:02.366 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:21:02.366 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:21:02.372 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 300.9547ms
2024-01-10 12:21:02.372 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:21:02.373 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 309.1651 ms
2024-01-10 12:21:02.373 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 353 application/json;+charset=utf-8 309.8064ms
2024-01-10 12:21:04.281 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 12:21:04.281 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:21:04.281 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:21:04.281 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:21:04.281 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.4980ms
2024-01-10 12:21:04.283 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:21:04.284 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:21:04.284 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:21:04.284 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:21:04.284 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:21:04.284 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:21:04.284 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:21:04.284 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:21:04.284 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:21:04.284 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:21:04.284 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:21:04.284 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:21:04.284 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:21:04.284 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:21:04.284 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:21:04.284 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:21:04.284 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:21:04.284 +02:00 [INF] GetAllRoles
2024-01-10 12:21:04.284 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:21:04.284 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:04.284 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:04.284 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:04.285 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:04.285 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:21:04.292 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:21:04.292 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:04.292 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:04.292 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:04.292 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:04.292 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:04.292 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:21:04.292 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:04.293 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:21:04.293 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:21:04.293 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:21:04.293 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:21:04.293 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:21:04.293 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:21:04.293 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:21:04.293 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 8.932ms
2024-01-10 12:21:04.293 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:21:04.293 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 9.4595 ms
2024-01-10 12:21:04.293 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 9.9275ms
2024-01-10 12:21:09.433 +02:00 [DBG] Connection id "0HN0HOLG5JUA1" received FIN.
2024-01-10 12:21:09.433 +02:00 [DBG] Connection id "0HN0HOLG5JUA1" is closed. The last processed stream ID was 7.
2024-01-10 12:21:09.433 +02:00 [DBG] Connection id "0HN0HOLG5JUA1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:21:09.448 +02:00 [DBG] Connection id "0HN0HOLG5JUA1" stopped.
2024-01-10 12:21:36.451 +02:00 [DBG] Connection id "0HN0HOLG5JUA0" received FIN.
2024-01-10 12:21:36.451 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:21:36.451 +02:00 [DBG] Connection id "0HN0HOLG5JUA0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:21:36.451 +02:00 [DBG] Connection id "0HN0HOLG5JUA0" disconnecting.
2024-01-10 12:21:36.451 +02:00 [DBG] Socket closed.
2024-01-10 12:21:36.452 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:21:36.452 +02:00 [DBG] Removing connection cyhjmAPFq7h0_vPqtq1fmA from the list of connections.
2024-01-10 12:21:36.483 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:21:36.485 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 38017.1495 ms
2024-01-10 12:21:36.488 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 38021.1578ms
2024-01-10 12:21:36.491 +02:00 [DBG] Connection id "0HN0HOLG5JUA0" stopped.
2024-01-10 12:21:36.843 +02:00 [DBG] Connection id "0HN0HOLG5JUA2" accepted.
2024-01-10 12:21:36.843 +02:00 [DBG] Connection id "0HN0HOLG5JUA2" started.
2024-01-10 12:21:36.844 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:21:36.844 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:21:36.844 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:21:36.844 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:21:36.844 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:21:36.844 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:21:36.844 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:21:36.844 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:21:36.844 +02:00 [DBG] New connection 0aDvcBtUnX3hm7O5mrMjwg created.
2024-01-10 12:21:36.845 +02:00 [DBG] Establishing new connection.
2024-01-10 12:21:36.845 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:21:36.845 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:21:36.921 +02:00 [DBG] Connection id "0HN0HOLG5JUA3" accepted.
2024-01-10 12:21:36.921 +02:00 [DBG] Connection id "0HN0HOLG5JUA3" started.
2024-01-10 12:21:36.922 +02:00 [DBG] Connection 0HN0HOLG5JUA3 established using the following protocol: "Tls12"
2024-01-10 12:21:36.923 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 12:21:36.924 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:21:36.924 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:21:36.924 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:21:36.924 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.8123ms
2024-01-10 12:21:36.926 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:21:36.926 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:21:36.926 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:21:36.926 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:21:36.926 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:21:36.927 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:21:36.927 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:21:36.927 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:21:36.927 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:21:36.927 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:21:36.927 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:21:36.927 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:21:36.927 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:21:36.927 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:21:36.927 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:21:36.927 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:21:36.927 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:21:36.927 +02:00 [INF] GetAllRoles
2024-01-10 12:21:36.928 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:21:36.928 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:36.928 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:36.928 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:36.928 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:36.928 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:21:36.937 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:21:36.937 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:36.937 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:36.937 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:36.937 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:36.937 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:36.937 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:21:36.938 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:36.938 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:21:36.938 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:21:36.938 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:21:36.938 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:21:36.938 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:21:36.938 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:21:36.938 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:21:36.938 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 11.1912ms
2024-01-10 12:21:36.939 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:21:36.939 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 12.1385 ms
2024-01-10 12:21:36.939 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 12.8773ms
2024-01-10 12:21:36.988 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:21:36.988 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:21:36.992 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:21:36.992 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:21:36.993 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:36.993 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:36.993 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:36.993 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:36.993 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:21:36.996 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:21:36.996 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:36.996 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:21:36.996 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:36.997 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:21:43.236 +02:00 [DBG] Connection id "0HN0HOLG5JUA2" received FIN.
2024-01-10 12:21:43.236 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:21:43.236 +02:00 [DBG] Connection id "0HN0HOLG5JUA2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:21:43.236 +02:00 [DBG] Connection id "0HN0HOLG5JUA2" disconnecting.
2024-01-10 12:21:43.236 +02:00 [DBG] Socket closed.
2024-01-10 12:21:43.236 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:21:43.237 +02:00 [DBG] Removing connection 0aDvcBtUnX3hm7O5mrMjwg from the list of connections.
2024-01-10 12:21:43.237 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:21:43.237 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 6393.1755 ms
2024-01-10 12:21:43.237 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 6393.6789ms
2024-01-10 12:21:43.238 +02:00 [DBG] Connection id "0HN0HOLG5JUA2" stopped.
2024-01-10 12:21:43.464 +02:00 [DBG] Connection id "0HN0HOLG5JUA4" accepted.
2024-01-10 12:21:43.464 +02:00 [DBG] Connection id "0HN0HOLG5JUA4" started.
2024-01-10 12:21:43.464 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:21:43.464 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:21:43.465 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:21:43.465 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:21:43.465 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:21:43.465 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:21:43.465 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:21:43.465 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:21:43.465 +02:00 [DBG] New connection SdsalW6OmCpMdcdtfuK0pg created.
2024-01-10 12:21:43.465 +02:00 [DBG] Establishing new connection.
2024-01-10 12:21:43.465 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:21:43.465 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:21:43.502 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 12:21:43.503 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:21:43.503 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:21:43.503 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:21:43.503 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.5445ms
2024-01-10 12:21:43.505 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:21:43.506 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:21:43.506 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:21:43.506 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:21:43.506 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:21:43.506 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:21:43.506 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:21:43.506 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:21:43.506 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:21:43.506 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:21:43.506 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:21:43.506 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:21:43.506 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:21:43.507 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:21:43.507 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:21:43.507 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:21:43.507 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:21:43.507 +02:00 [INF] GetAllRoles
2024-01-10 12:21:43.507 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:21:43.507 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:43.507 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:43.507 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:43.507 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:43.507 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:21:43.508 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:21:43.509 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:43.509 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:43.509 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:43.509 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:43.509 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:43.510 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:21:43.510 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:43.510 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:21:43.510 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:21:43.510 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:21:43.510 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:21:43.510 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:21:43.510 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:21:43.510 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:21:43.510 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 3.454ms
2024-01-10 12:21:43.510 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:21:43.510 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 4.0919 ms
2024-01-10 12:21:43.510 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 5.1683ms
2024-01-10 12:21:43.529 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:21:43.529 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:21:43.530 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:21:43.531 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:21:43.531 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:43.531 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:43.531 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:43.531 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:43.531 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:21:43.533 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:21:43.533 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:43.533 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:21:43.533 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:43.533 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:21:47.086 +02:00 [DBG] Connection id "0HN0HOLG5JUA4" received FIN.
2024-01-10 12:21:47.086 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:21:47.086 +02:00 [DBG] Connection id "0HN0HOLG5JUA4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:21:47.087 +02:00 [DBG] Connection id "0HN0HOLG5JUA4" disconnecting.
2024-01-10 12:21:47.088 +02:00 [DBG] Socket closed.
2024-01-10 12:21:47.088 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:21:47.103 +02:00 [DBG] Removing connection SdsalW6OmCpMdcdtfuK0pg from the list of connections.
2024-01-10 12:21:47.103 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:21:47.103 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 3638.9438 ms
2024-01-10 12:21:47.104 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 3639.3368ms
2024-01-10 12:21:47.104 +02:00 [DBG] Connection id "0HN0HOLG5JUA4" stopped.
2024-01-10 12:21:47.181 +02:00 [DBG] Connection id "0HN0HOLG5JUA5" accepted.
2024-01-10 12:21:47.181 +02:00 [DBG] Connection id "0HN0HOLG5JUA5" started.
2024-01-10 12:21:47.181 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:21:47.182 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:21:47.182 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:21:47.182 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:21:47.182 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:21:47.182 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:21:47.182 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:21:47.182 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:21:47.182 +02:00 [DBG] New connection AJyOgNstP0VLyb5m14bzRQ created.
2024-01-10 12:21:47.182 +02:00 [DBG] Establishing new connection.
2024-01-10 12:21:47.182 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:21:47.182 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:21:47.209 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:21:47.209 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:21:47.213 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:21:47.214 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:21:47.214 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:47.214 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:47.214 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:47.215 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:47.215 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:21:47.221 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:21:47.221 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:47.221 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:21:47.221 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:47.222 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:21:48.088 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:21:48.089 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:21:48.089 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:21:48.089 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:21:48.089 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:21:48.089 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:21:48.089 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:21:48.089 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:21:48.089 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:21:48.089 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:21:48.089 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:21:48.089 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:21:48.089 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:21:48.089 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:21:48.089 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:21:48.089 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:21:48.090 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:21:48.090 +02:00 [INF] GetAllRoles
2024-01-10 12:21:48.090 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:21:48.090 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:48.090 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:21:48.090 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:48.090 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:48.090 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:21:48.097 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:21:48.097 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:48.098 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:48.098 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:48.098 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:21:48.098 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:48.098 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:21:48.098 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:21:48.098 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:21:48.098 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:21:48.098 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:21:48.098 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:21:48.098 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:21:48.098 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:21:48.098 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:21:48.098 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 8.8144ms
2024-01-10 12:21:48.098 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:21:48.098 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 9.3931 ms
2024-01-10 12:21:48.099 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 10.0999ms
2024-01-10 12:22:01.373 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - -
2024-01-10 12:22:01.373 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:22:01.373 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:22:01.373 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:22:01.373 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - - - 204 - - 0.7438ms
2024-01-10 12:22:01.375 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json 122
2024-01-10 12:22:01.375 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:22:01.375 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:22:01.375 +02:00 [DBG] POST requests are not supported
2024-01-10 12:22:01.375 +02:00 [DBG] POST requests are not supported
2024-01-10 12:22:01.375 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-10 12:22:01.375 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-10 12:22:01.376 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 12:22:01.376 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 12:22:01.378 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:22:01.378 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:22:01.378 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:22:01.378 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:22:01.378 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:22:01.378 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:22:01.378 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:22:01.378 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:22:01.378 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:22:01.378 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 12:22:01.378 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 12:22:01.379 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 12:22:01.379 +02:00 [DBG] Connection id "0HN0HOLG5JUA3", Request id "0HN0HOLG5JUA3:0000000D": started reading request body.
2024-01-10 12:22:01.379 +02:00 [DBG] Connection id "0HN0HOLG5JUA3", Request id "0HN0HOLG5JUA3:0000000D": done reading request body.
2024-01-10 12:22:01.379 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:22:01.379 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:22:01.379 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:22:01.380 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:22:01.383 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "l",
  "LastName": "l",
  "Email": "l@gmail.com",
  "Username": "l",
  "Password": "l",
  "IsActive": true,
  "RoleId": 2
}
2024-01-10 12:22:01.390 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(l => l.Id != __id_0 && l.Username == __name_1)'
2024-01-10 12:22:01.397 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE (u.Id != @__id_0) && (u.Username == @__name_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 12:22:01.412 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:22:01.412 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:01.413 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-10 12:22:01.413 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.413 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.413 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 12:22:01.423 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 12:22:01.424 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.424 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:22:01.424 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.424 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:22:01.472 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:01.480 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:01.489 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 12:22:01.492 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 12:22:01.504 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 12:22:01.594 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.594 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.600 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:22:01.600 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:01.600 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:01.600 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 12:22:01.604 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 12:22:01.633 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 12:22:01.644 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.645 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 40ms reading results.
2024-01-10 12:22:01.647 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.647 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:22:01.661 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:01.665 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 12:22:01.665 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-10 12:22:01.665 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 287.0564ms
2024-01-10 12:22:01.665 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 12:22:01.665 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 289.9344 ms
2024-01-10 12:22:01.666 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json 122 - 200 0 - 290.5345ms
2024-01-10 12:22:01.683 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:22:01.684 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:22:01.684 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:22:01.684 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:22:01.684 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.4949ms
2024-01-10 12:22:01.686 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:22:01.686 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:22:01.686 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:22:01.686 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:22:01.686 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:22:01.686 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:22:01.686 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:22:01.687 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:22:01.687 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:22:01.687 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:22:01.687 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:22:01.687 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:22:01.687 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:22:01.687 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:22:01.687 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:22:01.687 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:22:01.687 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:22:01.687 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:22:01.687 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:22:01.687 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:22:01.687 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:22:01.687 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:22:01.687 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:22:01.687 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:22:01.687 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:22:01.687 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:22:01.687 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:22:01.688 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:22:01.688 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:22:01.688 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:22:01.688 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:22:01.688 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:22:01.688 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:22:01.688 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:22:01.688 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:22:01.688 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:22:01.688 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:22:01.688 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:22:01.688 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:22:01.688 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:22:01.688 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:22:01.688 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:22:01.688 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:22:01.689 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:22:01.690 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:01.690 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:01.690 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.690 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.690 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:22:01.691 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:22:01.691 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.691 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:22:01.691 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.691 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:22:01.693 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:22:01.693 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:01.693 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:01.693 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.693 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.693 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:22:01.696 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:22:01.696 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:01.696 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:01.696 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:01.696 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:01.696 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:01.696 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:01.696 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:01.696 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:01.696 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.696 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:22:01.696 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:01.696 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:22:01.696 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:22:01.697 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:22:01.697 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:22:01.697 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:22:01.697 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:22:01.697 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:22:01.697 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 9.9438ms
2024-01-10 12:22:01.697 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:22:01.697 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 10.5222 ms
2024-01-10 12:22:01.697 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 432 application/json;+charset=utf-8 11.1735ms
2024-01-10 12:22:14.165 +02:00 [DBG] Connection id "0HN0HOLG5JUA5" received FIN.
2024-01-10 12:22:14.165 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:22:14.166 +02:00 [DBG] Connection id "0HN0HOLG5JUA5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:22:14.166 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:22:14.166 +02:00 [DBG] Connection id "0HN0HOLG5JUA5" disconnecting.
2024-01-10 12:22:14.166 +02:00 [DBG] Socket closed.
2024-01-10 12:22:14.167 +02:00 [DBG] Removing connection AJyOgNstP0VLyb5m14bzRQ from the list of connections.
2024-01-10 12:22:14.167 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:22:14.167 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 26986.0781 ms
2024-01-10 12:22:14.167 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 26986.4719ms
2024-01-10 12:22:14.167 +02:00 [DBG] Connection id "0HN0HOLG5JUA5" stopped.
2024-01-10 12:22:14.356 +02:00 [DBG] Connection id "0HN0HOLG5JUA6" accepted.
2024-01-10 12:22:14.356 +02:00 [DBG] Connection id "0HN0HOLG5JUA6" started.
2024-01-10 12:22:14.356 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:22:14.356 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:22:14.356 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:22:14.356 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:22:14.356 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:22:14.356 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:22:14.356 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:22:14.356 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:22:14.356 +02:00 [DBG] New connection s7tHUAjxJhAmRW7RMwj9ZQ created.
2024-01-10 12:22:14.356 +02:00 [DBG] Establishing new connection.
2024-01-10 12:22:14.356 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:22:14.356 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:22:14.379 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 12:22:14.379 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:22:14.379 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:22:14.379 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:22:14.380 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.5334ms
2024-01-10 12:22:14.383 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:22:14.383 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:22:14.383 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:22:14.383 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:22:14.383 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:22:14.383 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:22:14.383 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:22:14.383 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:22:14.383 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:22:14.383 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:22:14.383 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:22:14.383 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:22:14.383 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:22:14.383 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:22:14.383 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:22:14.383 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:22:14.383 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:22:14.383 +02:00 [INF] GetAllRoles
2024-01-10 12:22:14.384 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:22:14.384 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:14.384 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:14.384 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:14.384 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:14.384 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:22:14.386 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:22:14.386 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:14.386 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:14.386 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:14.386 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:14.387 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:14.387 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:22:14.387 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:14.387 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:22:14.387 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:22:14.387 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:22:14.387 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:22:14.387 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:22:14.387 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:22:14.387 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:22:14.387 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 4.0778ms
2024-01-10 12:22:14.387 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:22:14.388 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 4.6214 ms
2024-01-10 12:22:14.388 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 5.3776ms
2024-01-10 12:22:14.413 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:22:14.414 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:22:14.417 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:22:14.418 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:22:14.418 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:14.418 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:14.418 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:14.418 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:14.419 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:22:14.422 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:22:14.423 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:14.423 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:22:14.423 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:14.423 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:22:16.904 +02:00 [DBG] Connection id "0HN0HOLG5JUA6" received FIN.
2024-01-10 12:22:16.904 +02:00 [DBG] Connection id "0HN0HOLG5JUA6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:22:16.904 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:22:16.904 +02:00 [DBG] Connection id "0HN0HOLG5JUA6" disconnecting.
2024-01-10 12:22:16.904 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:22:16.905 +02:00 [DBG] Socket closed.
2024-01-10 12:22:16.905 +02:00 [DBG] Removing connection s7tHUAjxJhAmRW7RMwj9ZQ from the list of connections.
2024-01-10 12:22:16.905 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:22:16.905 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 2548.7983 ms
2024-01-10 12:22:16.905 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 2549.2243ms
2024-01-10 12:22:16.905 +02:00 [DBG] Connection id "0HN0HOLG5JUA6" stopped.
2024-01-10 12:22:17.061 +02:00 [DBG] Connection id "0HN0HOLG5JUA7" accepted.
2024-01-10 12:22:17.061 +02:00 [DBG] Connection id "0HN0HOLG5JUA7" started.
2024-01-10 12:22:17.062 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:22:17.062 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:22:17.062 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:22:17.062 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:22:17.062 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:22:17.062 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:22:17.062 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:22:17.062 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:22:17.062 +02:00 [DBG] New connection QimOZhH_zEhsvLPUXuuoEg created.
2024-01-10 12:22:17.062 +02:00 [DBG] Establishing new connection.
2024-01-10 12:22:17.062 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:22:17.062 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:22:17.082 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:22:17.083 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:22:17.084 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:22:17.085 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:22:17.085 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:17.085 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:17.085 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:17.086 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:17.086 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:22:17.087 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:22:17.087 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:17.088 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:22:17.088 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:17.088 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:22:38.122 +02:00 [DBG] Connection id "0HN0HOLG5JUA7" received FIN.
2024-01-10 12:22:38.122 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:22:38.125 +02:00 [DBG] Socket closed.
2024-01-10 12:22:38.128 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:22:38.133 +02:00 [DBG] Removing connection QimOZhH_zEhsvLPUXuuoEg from the list of connections.
2024-01-10 12:22:38.143 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:22:38.143 +02:00 [DBG] Connection id "0HN0HOLG5JUA7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:22:38.145 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 21083.5486 ms
2024-01-10 12:22:38.154 +02:00 [DBG] Connection id "0HN0HOLG5JUA7" disconnecting.
2024-01-10 12:22:38.156 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 21094.8809ms
2024-01-10 12:22:38.158 +02:00 [DBG] Connection id "0HN0HOLG5JUA7" stopped.
2024-01-10 12:22:38.281 +02:00 [DBG] Connection id "0HN0HOLG5JUA8" accepted.
2024-01-10 12:22:38.281 +02:00 [DBG] Connection id "0HN0HOLG5JUA8" started.
2024-01-10 12:22:38.282 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:22:38.282 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:22:38.282 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:22:38.282 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:22:38.282 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:22:38.282 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:22:38.282 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:22:38.282 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:22:38.282 +02:00 [DBG] New connection agi1n98BmvcsIqjKPtVZZg created.
2024-01-10 12:22:38.282 +02:00 [DBG] Establishing new connection.
2024-01-10 12:22:38.283 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:22:38.283 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:22:38.286 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:22:38.286 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:22:38.288 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:22:38.288 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:22:38.288 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:38.288 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:38.288 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:38.288 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:38.288 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:22:38.289 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:22:38.289 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:38.290 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:22:38.290 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:38.290 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:22:42.276 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 12:22:42.276 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:22:42.276 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:22:42.276 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:22:42.276 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.4158ms
2024-01-10 12:22:42.278 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:22:42.278 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:22:42.278 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:22:42.278 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:22:42.278 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:22:42.278 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:22:42.278 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:22:42.278 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:22:42.278 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:22:42.278 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:22:42.278 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:22:42.278 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:22:42.279 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:22:42.279 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:22:42.279 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:22:42.279 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:22:42.279 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:22:42.279 +02:00 [INF] GetAllRoles
2024-01-10 12:22:42.279 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:22:42.279 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:42.279 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:22:42.279 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:42.279 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:42.279 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:22:42.280 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:22:42.281 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:42.281 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:42.281 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:42.282 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:22:42.282 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:42.282 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:22:42.282 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:22:42.282 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:22:42.282 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:22:42.282 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:22:42.282 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:22:42.282 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:22:42.282 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:22:42.282 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:22:42.282 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 3.5602ms
2024-01-10 12:22:42.282 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:22:42.282 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 4.0951 ms
2024-01-10 12:22:42.282 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 4.7516ms
2024-01-10 12:23:06.286 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - -
2024-01-10 12:23:06.286 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:23:06.286 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:23:06.286 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:23:06.287 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - - - 204 - - 1.0735ms
2024-01-10 12:23:06.293 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json 132
2024-01-10 12:23:06.293 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:23:06.293 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:23:06.293 +02:00 [DBG] POST requests are not supported
2024-01-10 12:23:06.294 +02:00 [DBG] POST requests are not supported
2024-01-10 12:23:06.294 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-10 12:23:06.294 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-10 12:23:06.294 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 12:23:06.294 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 12:23:06.294 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:23:06.294 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:23:06.294 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:23:06.294 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:23:06.294 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:23:06.294 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:23:06.294 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:23:06.294 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:23:06.294 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:23:06.294 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 12:23:06.294 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 12:23:06.294 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 12:23:06.294 +02:00 [DBG] Connection id "0HN0HOLG5JUA3", Request id "0HN0HOLG5JUA3:0000001D": started reading request body.
2024-01-10 12:23:06.294 +02:00 [DBG] Connection id "0HN0HOLG5JUA3", Request id "0HN0HOLG5JUA3:0000001D": done reading request body.
2024-01-10 12:23:06.294 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:23:06.294 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:23:06.294 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:23:06.294 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:23:06.295 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "good",
  "LastName": "good",
  "Email": "gg@gmail.com",
  "Username": "good",
  "Password": "g",
  "IsActive": true,
  "RoleId": 2
}
2024-01-10 12:23:06.295 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:23:06.295 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:06.295 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:06.295 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.295 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.295 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 12:23:06.303 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 12:23:06.304 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.304 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:23:06.304 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.304 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:23:06.304 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:06.304 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:06.304 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 12:23:06.304 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 12:23:06.304 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 12:23:06.305 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.305 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.305 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:23:06.305 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:06.305 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:06.305 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 12:23:06.310 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 12:23:06.310 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 12:23:06.310 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.310 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:23:06.310 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.310 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:23:06.311 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:06.311 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 12:23:06.311 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-10 12:23:06.311 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 16.9533ms
2024-01-10 12:23:06.311 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 12:23:06.311 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 17.4390 ms
2024-01-10 12:23:06.311 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json 132 - 200 0 - 17.8618ms
2024-01-10 12:23:06.330 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:23:06.330 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:23:06.330 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:23:06.330 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:23:06.330 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.3403ms
2024-01-10 12:23:06.332 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:23:06.332 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:23:06.332 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:23:06.332 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:23:06.332 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:23:06.332 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:23:06.332 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:23:06.332 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:23:06.332 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:23:06.332 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:23:06.332 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:23:06.332 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:23:06.333 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:23:06.333 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:23:06.333 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:23:06.333 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:23:06.333 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:23:06.333 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:23:06.333 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:23:06.333 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:23:06.333 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:23:06.333 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:23:06.333 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:23:06.333 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:23:06.333 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:23:06.333 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:23:06.333 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:23:06.333 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:23:06.333 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:23:06.334 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:23:06.334 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:23:06.334 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:23:06.334 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:23:06.334 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:23:06.334 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:23:06.334 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:23:06.334 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:23:06.334 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:23:06.334 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:23:06.334 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:23:06.334 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:23:06.334 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:23:06.334 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:23:06.336 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:23:06.336 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:06.336 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:06.336 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.336 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.336 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:23:06.337 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:23:06.337 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.337 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:23:06.337 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.337 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:23:06.338 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:23:06.339 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:06.339 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:06.339 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.339 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.339 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:23:06.342 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:23:06.342 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:06.343 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:06.343 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:06.343 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:06.343 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:06.343 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:06.343 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:06.343 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:06.343 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:06.343 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.343 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:23:06.343 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:06.343 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:23:06.343 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:23:06.343 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:23:06.343 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:23:06.344 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:23:06.344 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:23:06.344 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:23:06.344 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 11.0924ms
2024-01-10 12:23:06.344 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:23:06.344 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 11.6147 ms
2024-01-10 12:23:06.344 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 514 application/json;+charset=utf-8 12.2702ms
2024-01-10 12:23:38.721 +02:00 [DBG] Connection id "0HN0HOLG5JUA8" received FIN.
2024-01-10 12:23:38.721 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:23:38.721 +02:00 [DBG] Connection id "0HN0HOLG5JUA8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:23:38.721 +02:00 [DBG] Connection id "0HN0HOLG5JUA8" disconnecting.
2024-01-10 12:23:38.722 +02:00 [DBG] Socket closed.
2024-01-10 12:23:38.724 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:23:38.729 +02:00 [DBG] Removing connection agi1n98BmvcsIqjKPtVZZg from the list of connections.
2024-01-10 12:23:38.735 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:23:38.735 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 60455.1120 ms
2024-01-10 12:23:38.738 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 60457.6455ms
2024-01-10 12:23:38.750 +02:00 [DBG] Connection id "0HN0HOLG5JUA8" stopped.
2024-01-10 12:23:38.994 +02:00 [DBG] Connection id "0HN0HOLG5JUA9" accepted.
2024-01-10 12:23:38.994 +02:00 [DBG] Connection id "0HN0HOLG5JUA9" started.
2024-01-10 12:23:38.994 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:23:38.994 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:23:38.994 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:23:38.994 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:23:38.994 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:23:38.994 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:23:38.994 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:23:38.995 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:23:38.995 +02:00 [DBG] New connection NJYfzKzguJHMULkETkcXYQ created.
2024-01-10 12:23:38.995 +02:00 [DBG] Establishing new connection.
2024-01-10 12:23:38.995 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:23:38.995 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:23:39.011 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:23:39.011 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:23:39.011 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:23:39.011 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:23:39.011 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.4863ms
2024-01-10 12:23:39.018 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:23:39.018 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:23:39.018 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:23:39.018 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:23:39.018 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:23:39.018 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:23:39.018 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:23:39.018 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:23:39.018 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:23:39.018 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:23:39.018 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:23:39.018 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:23:39.018 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:23:39.018 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:23:39.019 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:23:39.019 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:23:39.019 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:23:39.019 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:23:39.019 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:23:39.019 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:23:39.019 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:23:39.019 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:23:39.019 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:23:39.019 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:23:39.019 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:23:39.019 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:23:39.019 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:23:39.019 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:23:39.019 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:23:39.019 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:23:39.019 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:23:39.019 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:23:39.019 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:23:39.019 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:23:39.020 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:23:39.020 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:23:39.020 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:23:39.020 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:23:39.020 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:23:39.020 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:23:39.020 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:23:39.020 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:23:39.020 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:23:39.021 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:23:39.021 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:39.021 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:39.021 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:39.021 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:39.021 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:23:39.022 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:23:39.023 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:39.023 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:23:39.023 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:39.023 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:23:39.024 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:23:39.024 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:39.024 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:39.024 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:39.024 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:39.024 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:23:39.031 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:23:39.031 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:39.031 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:39.031 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:39.031 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:39.031 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:39.031 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:39.031 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:39.031 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:39.031 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:39.031 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:39.032 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:23:39.032 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:39.032 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:23:39.032 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:23:39.032 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:23:39.032 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:23:39.032 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:23:39.032 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:23:39.032 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:23:39.032 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 13.4476ms
2024-01-10 12:23:39.032 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:23:39.032 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 14.1654 ms
2024-01-10 12:23:39.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 514 application/json;+charset=utf-8 14.8013ms
2024-01-10 12:23:39.070 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:23:39.070 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:23:39.072 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:23:39.072 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:23:39.072 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:39.072 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:39.072 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:39.072 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:39.072 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:23:39.075 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:23:39.075 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:39.075 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:23:39.075 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:39.075 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:23:43.297 +02:00 [DBG] Connection id "0HN0HOLG5JUA9" received FIN.
2024-01-10 12:23:43.297 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:23:43.297 +02:00 [DBG] Connection id "0HN0HOLG5JUA9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:23:43.298 +02:00 [DBG] Connection id "0HN0HOLG5JUA9" disconnecting.
2024-01-10 12:23:43.298 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:23:43.298 +02:00 [DBG] Socket closed.
2024-01-10 12:23:43.298 +02:00 [DBG] Removing connection NJYfzKzguJHMULkETkcXYQ from the list of connections.
2024-01-10 12:23:43.298 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:23:43.298 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 4303.7844 ms
2024-01-10 12:23:43.298 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 4304.1653ms
2024-01-10 12:23:43.298 +02:00 [DBG] Connection id "0HN0HOLG5JUA9" stopped.
2024-01-10 12:23:43.366 +02:00 [DBG] Connection id "0HN0HOLG5JUAA" accepted.
2024-01-10 12:23:43.366 +02:00 [DBG] Connection id "0HN0HOLG5JUAA" started.
2024-01-10 12:23:43.367 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:23:43.368 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:23:43.368 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:23:43.368 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:23:43.369 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:23:43.369 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:23:43.369 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:23:43.369 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:23:43.369 +02:00 [DBG] New connection yenfMlkz5IT1tik4PFtd2w created.
2024-01-10 12:23:43.369 +02:00 [DBG] Establishing new connection.
2024-01-10 12:23:43.370 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:23:43.370 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:23:43.393 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:23:43.394 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:23:43.400 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:23:43.401 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:23:43.401 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:43.401 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:43.401 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:43.401 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:43.401 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:23:43.403 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:23:43.403 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:43.404 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:23:43.404 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:43.404 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:23:44.320 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 12:23:44.320 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:23:44.320 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:23:44.320 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:23:44.320 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.2858ms
2024-01-10 12:23:44.322 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 12:23:44.322 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:23:44.322 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:23:44.322 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:23:44.322 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 12:23:44.322 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 12:23:44.322 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 12:23:44.322 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:23:44.322 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:23:44.322 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 12:23:44.322 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:23:44.323 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:23:44.323 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:23:44.323 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:23:44.323 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:23:44.323 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:23:44.323 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 12:23:44.323 +02:00 [INF] GetAllRoles
2024-01-10 12:23:44.323 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:23:44.323 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:44.323 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:44.323 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:44.323 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:44.323 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:23:44.325 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 12:23:44.325 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:44.325 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:44.325 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:44.325 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:44.325 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:44.325 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:23:44.325 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:44.325 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:23:44.326 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:23:44.326 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:23:44.326 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:23:44.326 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:23:44.326 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:23:44.326 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:23:44.326 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 3.2815ms
2024-01-10 12:23:44.326 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 12:23:44.326 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 3.7749 ms
2024-01-10 12:23:44.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 4.3021ms
2024-01-10 12:23:57.157 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - -
2024-01-10 12:23:57.157 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:23:57.157 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:23:57.157 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:23:57.158 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - - - 204 - - 0.9077ms
2024-01-10 12:23:57.160 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json 114
2024-01-10 12:23:57.160 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:23:57.160 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:23:57.160 +02:00 [DBG] POST requests are not supported
2024-01-10 12:23:57.160 +02:00 [DBG] POST requests are not supported
2024-01-10 12:23:57.160 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-10 12:23:57.160 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-10 12:23:57.160 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 12:23:57.160 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 12:23:57.160 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:23:57.160 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:23:57.160 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:23:57.160 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:23:57.160 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:23:57.160 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:23:57.160 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:23:57.160 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:23:57.160 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:23:57.161 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 12:23:57.161 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 12:23:57.161 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 12:23:57.161 +02:00 [DBG] Connection id "0HN0HOLG5JUA3", Request id "0HN0HOLG5JUA3:0000002D": started reading request body.
2024-01-10 12:23:57.161 +02:00 [DBG] Connection id "0HN0HOLG5JUA3", Request id "0HN0HOLG5JUA3:0000002D": done reading request body.
2024-01-10 12:23:57.161 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:23:57.161 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:23:57.161 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 12:23:57.161 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 12:23:57.161 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "y",
  "LastName": "y",
  "Email": "y@g",
  "Username": "y",
  "Password": "y",
  "IsActive": true,
  "RoleId": 2
}
2024-01-10 12:23:57.161 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:23:57.161 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:57.161 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:57.161 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:57.161 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:57.161 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 12:23:57.163 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 12:23:57.163 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:57.163 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:23:57.163 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:57.163 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:23:57.163 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:57.163 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:57.163 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 12:23:57.163 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 12:23:57.163 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 12:23:57.163 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:57.163 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:57.164 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:23:57.164 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:57.164 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:23:57.164 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 12:23:57.166 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-10 12:23:57.166 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 12:23:57.166 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:57.166 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:23:57.166 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:23:57.166 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:23:57.166 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:23:57.167 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 12:23:57.167 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-10 12:23:57.167 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 6.4077ms
2024-01-10 12:23:57.167 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 12:23:57.167 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 6.9090 ms
2024-01-10 12:23:57.167 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json 114 - 200 0 - 7.6592ms
2024-01-10 12:24:16.783 +02:00 [DBG] Connection id "0HN0HOLG5JUAA" received FIN.
2024-01-10 12:24:16.783 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:24:16.783 +02:00 [DBG] Connection id "0HN0HOLG5JUAA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:24:16.783 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:24:16.784 +02:00 [DBG] Connection id "0HN0HOLG5JUAA" disconnecting.
2024-01-10 12:24:16.784 +02:00 [DBG] Socket closed.
2024-01-10 12:24:16.784 +02:00 [DBG] Removing connection yenfMlkz5IT1tik4PFtd2w from the list of connections.
2024-01-10 12:24:16.784 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:24:16.784 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 33416.8454 ms
2024-01-10 12:24:16.785 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 33418.3505ms
2024-01-10 12:24:16.785 +02:00 [DBG] Connection id "0HN0HOLG5JUAA" stopped.
2024-01-10 12:24:16.974 +02:00 [DBG] Connection id "0HN0HOLG5JUAB" accepted.
2024-01-10 12:24:16.974 +02:00 [DBG] Connection id "0HN0HOLG5JUAB" started.
2024-01-10 12:24:16.976 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:24:16.976 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:16.976 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:16.977 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:16.977 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:24:16.977 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:24:16.977 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:24:16.977 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:24:16.977 +02:00 [DBG] New connection hXYLgPpz7V65cd9ODegqeg created.
2024-01-10 12:24:16.977 +02:00 [DBG] Establishing new connection.
2024-01-10 12:24:16.977 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:24:16.977 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:24:16.999 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:24:16.999 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:16.999 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:16.999 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:16.999 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.4483ms
2024-01-10 12:24:17.001 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:17.001 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:17.001 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:17.001 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:17.001 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:17.001 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:17.001 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:17.001 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:17.001 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:17.001 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:17.001 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:17.001 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:17.001 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:17.001 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:17.001 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:17.001 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:17.002 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:17.002 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:17.002 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:17.002 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:17.002 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:17.002 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:17.002 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:17.002 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:17.002 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:17.002 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:17.002 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:17.002 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:17.002 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:17.002 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:17.002 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:17.002 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:17.002 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:17.002 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:17.002 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:17.002 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:17.002 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:17.002 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:17.002 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:17.003 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:17.003 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:17.003 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:17.003 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:24:17.004 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:17.004 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:17.004 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:17.004 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:17.004 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:17.004 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:17.010 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:17.010 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:17.010 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:17.010 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:17.010 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:17.011 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:17.011 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:17.011 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:17.011 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:17.012 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:17.012 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:17.018 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:17.018 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:17.018 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:17.018 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:17.018 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:17.018 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:17.018 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:17.018 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:17.018 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:17.018 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:17.019 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:17.019 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:17.019 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:17.019 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:17.019 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:17.019 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:17.019 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:17.019 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:17.019 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:17.019 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:17.019 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 17.6848ms
2024-01-10 12:24:17.019 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:17.019 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 18.2157 ms
2024-01-10 12:24:17.019 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 513 application/json;+charset=utf-8 18.8141ms
2024-01-10 12:24:17.088 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:24:17.089 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:24:17.092 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:24:17.093 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:17.093 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:17.093 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:17.093 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:17.094 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:17.094 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:24:17.097 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:24:17.097 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:17.098 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:17.098 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:17.098 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:21.530 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=1&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:24:21.530 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:21.530 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:21.531 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:21.531 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=1&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.4700ms
2024-01-10 12:24:21.533 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=1&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:21.534 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:21.534 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:21.534 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:21.534 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:21.534 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:21.534 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:21.534 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:21.534 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:21.534 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:21.534 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:21.534 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:21.534 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:21.534 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:21.534 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:21.534 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:21.534 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:21.534 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:21.534 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:21.534 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:21.534 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:21.535 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:21.535 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:21.535 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:21.535 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:21.535 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:21.535 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:21.535 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:21.535 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:21.535 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:21.535 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:21.535 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:21.535 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:21.535 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:21.535 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:21.535 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:21.535 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:21.535 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:21.535 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:21.535 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:21.535 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:21.535 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:21.536 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 1,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:24:21.537 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:21.537 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:21.537 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:21.537 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:21.537 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:21.537 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:21.538 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:21.538 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:21.538 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:21.538 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:21.538 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:21.540 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .OrderBy(d => d.Username)
    .Skip(__p_0)
    .Take(__p_0)'
2024-01-10 12:24:21.540 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-10 12:24:21.544 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.FirstName (string) Required, 2], [Property: User.IsActive (bool) Required ValueGenerated.OnAdd, 3], [Property: User.LastName (string) Required, 4], [Property: User.Password (string) Required, 5], [Property: User.RoleId (int) Required FK Index, 6], [Property: User.Username (string) Required Index, 7] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Role.RoleType (string) Required, 9] }
        SELECT t.Id, t.Email, t.FirstName, t.IsActive, t.LastName, t.Password, t.RoleId, t.Username, r.Id, r.RoleType
        FROM 
        (
            SELECT u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RoleId, u.Username
            FROM Users AS u
            ORDER BY u.Username ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
        ) AS t
        INNER JOIN Roles AS r ON t.RoleId == r.Id
        ORDER BY t.Username ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 12:24:21.544 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:21.544 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:21.544 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:21.544 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:21.544 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:21.544 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:21.547 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:21.548 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:21.548 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:21.548 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:21.548 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:21.548 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:21.548 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:21.548 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:21.548 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:21.548 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:21.548 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:21.548 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:21.548 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:21.548 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:21.549 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 14.9387ms
2024-01-10 12:24:21.549 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:21.550 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 15.7685 ms
2024-01-10 12:24:21.550 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=1&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 182 application/json;+charset=utf-8 16.3341ms
2024-01-10 12:24:23.066 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:24:23.066 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:23.066 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:23.066 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:23.067 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.8382ms
2024-01-10 12:24:23.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:23.069 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:23.069 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:23.069 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:23.069 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:23.069 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:23.069 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:23.069 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:23.069 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:23.069 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:23.069 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:23.069 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:23.069 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:23.069 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:23.069 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:23.069 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:23.070 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:23.070 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:23.070 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:23.070 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:23.070 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:23.070 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:23.070 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:23.070 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:23.070 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:23.070 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:23.070 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:23.070 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:23.070 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:23.070 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:23.070 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:23.070 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:23.070 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:23.070 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:23.070 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:23.070 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:23.070 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:23.070 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:23.071 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:23.071 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:23.071 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:23.071 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:23.071 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:24:23.072 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:23.072 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:23.072 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:23.072 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:23.072 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:23.072 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:23.073 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:23.073 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:23.073 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:23.073 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:23.073 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:23.074 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:23.074 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:23.074 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:23.074 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:23.074 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:23.074 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:23.076 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:23.076 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:23.077 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:23.077 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:23.077 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:23.077 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:23.077 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:23.077 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:23.077 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:23.077 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:23.077 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:23.077 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:24:23.077 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:23.077 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:23.077 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:23.077 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:23.077 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:23.077 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:23.078 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:23.078 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:23.078 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 8.2456ms
2024-01-10 12:24:23.078 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:23.078 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 8.7848 ms
2024-01-10 12:24:23.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 513 application/json;+charset=utf-8 9.4452ms
2024-01-10 12:24:25.072 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:24:25.072 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:25.072 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:25.072 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:25.072 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.5785ms
2024-01-10 12:24:25.074 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:25.074 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:25.074 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:25.074 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:25.074 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:25.074 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:25.074 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:25.074 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:25.074 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:25.074 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:25.074 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:25.074 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:25.074 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:25.074 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:25.074 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:25.074 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:25.075 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:25.075 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:25.075 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:25.075 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:25.075 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:25.075 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:25.075 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:25.075 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:25.075 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:25.075 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:25.075 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:25.075 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:25.075 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:25.075 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:25.075 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:25.076 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:25.076 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:25.076 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:25.076 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:25.076 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:25.076 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:25.076 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:25.076 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:25.076 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:25.076 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:25.076 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:25.076 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 10
  }
}
2024-01-10 12:24:25.077 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:25.078 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:25.078 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:25.078 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:25.078 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:25.078 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:25.078 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:25.078 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:25.078 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:25.078 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:25.078 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:25.080 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:25.080 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:25.080 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:25.080 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:25.080 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:25.080 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:25.082 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:25.082 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:25.082 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:25.082 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:25.083 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:25.083 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:25.083 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:25.083 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:25.083 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:25.083 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:25.083 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:25.083 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:25.083 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:24:25.083 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:25.083 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:25.083 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:25.083 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:25.083 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:25.083 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:25.083 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:25.083 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:25.084 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 9.0118ms
2024-01-10 12:24:25.084 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:25.084 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 9.5290 ms
2024-01-10 12:24:25.084 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 594 application/json;+charset=utf-8 9.9511ms
2024-01-10 12:24:28.464 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:24:28.464 +02:00 [DBG] Connection id "0HN0HOLG5JUAB" received FIN.
2024-01-10 12:24:28.465 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:24:28.465 +02:00 [DBG] Socket closed.
2024-01-10 12:24:28.465 +02:00 [DBG] Connection id "0HN0HOLG5JUAB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:24:28.465 +02:00 [DBG] Removing connection hXYLgPpz7V65cd9ODegqeg from the list of connections.
2024-01-10 12:24:28.465 +02:00 [DBG] Connection id "0HN0HOLG5JUAB" disconnecting.
2024-01-10 12:24:28.465 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:24:28.465 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 11488.6405 ms
2024-01-10 12:24:28.465 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 11489.3771ms
2024-01-10 12:24:28.465 +02:00 [DBG] Connection id "0HN0HOLG5JUAB" stopped.
2024-01-10 12:24:28.471 +02:00 [DBG] Connection id "0HN0HOLG5JUAB" reset.
2024-01-10 12:24:28.633 +02:00 [DBG] Connection id "0HN0HOLG5JUAC" accepted.
2024-01-10 12:24:28.633 +02:00 [DBG] Connection id "0HN0HOLG5JUAC" started.
2024-01-10 12:24:28.634 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:24:28.634 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:28.634 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:28.634 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:28.634 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:24:28.634 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:24:28.634 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:24:28.634 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:24:28.634 +02:00 [DBG] New connection DKhM3wfodRAkblLnopp3Qg created.
2024-01-10 12:24:28.634 +02:00 [DBG] Establishing new connection.
2024-01-10 12:24:28.635 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:24:28.635 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:24:28.650 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:24:28.650 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:28.650 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:28.650 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:28.651 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.7038ms
2024-01-10 12:24:28.653 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:28.654 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:28.654 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:28.654 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:28.654 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:28.654 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:28.654 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:28.654 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:28.654 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:28.654 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:28.654 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:28.654 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:28.654 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:28.654 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:28.654 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:28.654 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:28.654 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:28.654 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:28.655 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:28.655 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:28.655 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:28.655 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:28.655 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:28.655 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:28.655 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:28.655 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:28.655 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:28.655 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:28.655 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:28.655 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:28.655 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:28.655 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:28.655 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:28.655 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:28.655 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:28.655 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:28.655 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:28.655 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:28.655 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:28.655 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:28.655 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:28.655 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:28.655 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 12:24:28.657 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:28.657 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:28.657 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:28.657 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:28.657 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:28.657 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:28.657 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:28.657 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:28.657 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:28.658 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:28.658 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:28.659 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:28.659 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:28.659 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:28.659 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:28.659 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:28.659 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:28.660 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:28.661 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:28.661 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:28.662 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:28.662 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:28.662 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:28.662 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:28.662 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:28.662 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:28.662 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:28.662 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:28.662 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:24:28.662 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:28.662 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:28.662 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:28.662 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:28.662 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:28.662 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:28.662 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:28.662 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:28.663 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 8.2521ms
2024-01-10 12:24:28.663 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:28.663 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 8.7912 ms
2024-01-10 12:24:28.663 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 513 application/json;+charset=utf-8 10.4368ms
2024-01-10 12:24:28.699 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:24:28.700 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:24:28.705 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:24:28.706 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:28.706 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:28.706 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:28.706 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:28.706 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:28.706 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:24:28.707 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:24:28.708 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:28.708 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:28.708 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:28.708 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:31.102 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:24:31.102 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:31.102 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:31.102 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:31.102 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.6479ms
2024-01-10 12:24:31.104 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:31.104 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:31.104 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:31.104 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:31.104 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:31.104 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:31.104 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:31.104 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:31.104 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:31.104 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:31.104 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:31.104 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:31.104 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:31.104 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:31.104 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:31.104 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:31.104 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:31.104 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:31.105 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:31.105 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:31.105 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:31.105 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:31.105 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:31.105 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:31.105 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:31.105 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:31.105 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:31.105 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:31.105 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:31.105 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:31.105 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:31.105 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:31.105 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:31.105 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:31.105 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:31.105 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:31.105 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:31.105 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:31.105 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:31.105 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:31.105 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:31.105 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:31.106 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 10
  }
}
2024-01-10 12:24:31.107 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:31.107 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:31.107 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:31.107 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:31.107 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:31.107 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:31.107 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:31.107 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:31.107 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:31.108 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:31.108 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:31.109 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:31.109 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:31.109 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:31.109 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:31.109 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:31.109 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:31.111 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:31.111 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:31.111 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:31.111 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:31.111 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:31.111 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:31.111 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:31.111 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:31.111 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:31.111 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:31.112 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:31.112 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:31.112 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:31.112 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:31.112 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:31.112 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:31.112 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:31.112 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:31.112 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:31.112 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:31.112 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:31.112 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 7.7236ms
2024-01-10 12:24:31.112 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:31.112 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 8.2446 ms
2024-01-10 12:24:31.112 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 594 application/json;+charset=utf-8 8.8846ms
2024-01-10 12:24:33.125 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=25&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:24:33.126 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:33.126 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:33.126 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:33.126 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=25&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.5483ms
2024-01-10 12:24:33.128 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=25&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:33.128 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:33.128 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:33.128 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:33.128 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:33.129 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:33.129 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:33.129 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:33.129 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:33.129 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:33.129 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:33.129 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:33.129 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:33.129 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:33.129 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:33.129 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:33.129 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:33.129 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:33.129 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:33.129 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:33.129 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:33.129 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:33.129 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:33.129 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:33.130 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:33.130 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:33.130 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:33.130 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:33.130 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:33.130 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:33.130 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:33.130 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:33.130 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:33.130 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:33.130 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:33.130 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:33.130 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:33.130 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:33.130 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:33.130 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:33.130 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:33.130 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:33.130 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 25
  }
}
2024-01-10 12:24:33.132 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:33.132 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:33.132 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:33.132 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:33.132 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:33.132 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:33.133 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:33.133 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:33.133 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:33.133 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:33.133 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:33.135 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:33.135 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:33.135 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:33.135 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:33.135 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:33.135 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:33.137 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:33.137 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:33.137 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:33.137 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:33.137 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:33.138 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:33.138 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:33.138 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:33.138 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:33.138 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:33.138 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:33.138 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:33.138 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:24:33.138 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:33.138 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:33.138 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:33.138 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:33.138 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:33.138 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:33.138 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:33.138 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:33.138 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 9.3144ms
2024-01-10 12:24:33.138 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:33.139 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 10.0525 ms
2024-01-10 12:24:33.139 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=25&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 594 application/json;+charset=utf-8 10.8629ms
2024-01-10 12:24:34.412 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:34.412 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:34.412 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:34.412 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:34.412 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:34.412 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:34.413 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:34.413 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:34.413 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:34.413 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:34.413 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:34.413 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:34.413 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:34.413 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:34.413 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:34.413 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:34.413 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:34.413 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:34.413 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:34.413 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:34.414 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:34.414 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:34.414 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:34.414 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:34.414 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:34.414 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:34.414 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:34.414 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:34.414 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:34.414 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:34.414 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:34.414 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:34.414 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:34.414 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:34.414 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:34.414 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:34.414 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:34.414 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:34.414 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:34.414 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:34.414 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:34.414 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:34.414 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 10
  }
}
2024-01-10 12:24:34.416 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:34.416 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:34.416 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:34.416 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:34.416 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:34.416 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:34.416 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:34.416 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:34.416 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:34.416 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:34.416 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:34.417 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:34.417 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:34.417 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:34.417 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:34.417 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:34.418 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:34.419 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:34.420 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:34.420 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:34.420 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:34.420 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:34.420 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:34.420 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:34.420 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:34.420 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:34.420 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:34.420 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:34.420 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:34.420 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:24:34.420 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:34.420 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:34.421 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:34.421 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:34.421 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:34.421 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:34.421 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:34.421 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:34.421 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 7.738ms
2024-01-10 12:24:34.421 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:34.421 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 8.5798 ms
2024-01-10 12:24:34.421 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 594 application/json;+charset=utf-8 9.2297ms
2024-01-10 12:24:37.491 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/14 - -
2024-01-10 12:24:37.491 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:37.491 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:37.491 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:37.491 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/14 - - - 204 - - 0.5560ms
2024-01-10 12:24:37.493 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7137/api/User/14 text/plain;+charset=utf-8 -
2024-01-10 12:24:37.493 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:37.493 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:37.493 +02:00 [DBG] DELETE requests are not supported
2024-01-10 12:24:37.493 +02:00 [DBG] DELETE requests are not supported
2024-01-10 12:24:37.493 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/14'
2024-01-10 12:24:37.493 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/14'
2024-01-10 12:24:37.493 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:37.493 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:37.499 +02:00 [INF] Route matched with {action = "DeleteUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:37.499 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:37.499 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:37.499 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:37.499 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:37.499 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:37.499 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:37.499 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:37.499 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 12:24:37.499 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 12:24:37.499 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:37.499 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:37.500 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 12:24:37.500 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:37.500 +02:00 [INF] DeleteUserById by user id: 14
2024-01-10 12:24:37.504 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .FirstOrDefault(d => d.Id == __userId_0)'
2024-01-10 12:24:37.505 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-10 12:24:37.510 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.FirstName (string) Required, 2], [Property: User.IsActive (bool) Required ValueGenerated.OnAdd, 3], [Property: User.LastName (string) Required, 4], [Property: User.Password (string) Required, 5], [Property: User.RoleId (int) Required FK Index, 6], [Property: User.Username (string) Required Index, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Role.RoleType (string) Required, 9] }
            SELECT TOP(1) u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RoleId, u.Username, r.Id, r.RoleType
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.Id == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        DataAccessLayer.InternshipContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-10 12:24:37.514 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:37.514 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:37.514 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:37.514 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.514 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.514 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 12:24:37.520 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 12:24:37.520 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.520 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.521 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.522 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.522 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-01-10 12:24:37.522 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.522 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:37.524 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.527 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 12:24:37.527 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 12:24:37.531 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 12:24:37.545 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.545 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.545 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:37.545 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:37.545 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:37.545 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 12:24:37.549 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 12:24:37.552 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.552 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-01-10 12:24:37.552 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.552 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:37.559 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.559 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 12:24:37.559 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:37.559 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:37.559 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:37.559 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:37.559 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 12:24:37.559 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 12:24:37.559 +02:00 [INF] Executed action WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi) in 60.3699ms
2024-01-10 12:24:37.560 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:37.560 +02:00 [INF] HTTP DELETE /api/User/14 responded 200 in 66.5077 ms
2024-01-10 12:24:37.560 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7137/api/User/14 text/plain;+charset=utf-8 - - 200 - text/plain;+charset=utf-8 67.3150ms
2024-01-10 12:24:37.563 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:24:37.563 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:37.563 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:37.563 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:37.563 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.4496ms
2024-01-10 12:24:37.565 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:37.565 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:37.565 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:37.565 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:37.565 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:37.565 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:37.565 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:37.565 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:37.565 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:37.566 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:37.566 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:37.566 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:37.566 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:37.566 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:37.566 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:37.566 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:37.566 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:37.566 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:37.566 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:37.566 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:37.566 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:37.566 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:37.566 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:37.566 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:37.566 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:37.566 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:37.566 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:37.566 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:37.566 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:37.566 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:37.566 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:37.567 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:37.567 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:37.567 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:37.567 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:37.567 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:37.567 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:37.567 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:37.567 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:37.567 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:37.567 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:37.567 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:37.567 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 10
  }
}
2024-01-10 12:24:37.568 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:37.568 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:37.568 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:37.568 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.568 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.568 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:37.569 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:37.569 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.569 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:37.569 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.569 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:37.570 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:37.571 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:37.571 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:37.571 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.571 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.571 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:37.572 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:37.573 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.573 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.573 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.573 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.573 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.573 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.574 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.574 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.574 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:37.574 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.574 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:37.574 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:37.574 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:37.574 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:37.574 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:37.574 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:37.574 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:37.574 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:37.574 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:37.574 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 8.5868ms
2024-01-10 12:24:37.574 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:37.575 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 9.1568 ms
2024-01-10 12:24:37.575 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 512 application/json;+charset=utf-8 9.9287ms
2024-01-10 12:24:39.270 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/13 - -
2024-01-10 12:24:39.270 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:39.270 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:39.270 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:39.271 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/13 - - - 204 - - 0.3878ms
2024-01-10 12:24:39.273 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7137/api/User/13 text/plain;+charset=utf-8 -
2024-01-10 12:24:39.273 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:39.273 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:39.273 +02:00 [DBG] DELETE requests are not supported
2024-01-10 12:24:39.274 +02:00 [DBG] DELETE requests are not supported
2024-01-10 12:24:39.274 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/13'
2024-01-10 12:24:39.274 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/13'
2024-01-10 12:24:39.274 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:39.274 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:39.274 +02:00 [INF] Route matched with {action = "DeleteUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:39.274 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:39.274 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:39.274 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:39.274 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:39.274 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:39.274 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:39.274 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:39.274 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 12:24:39.274 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 12:24:39.274 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:39.274 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:39.274 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 12:24:39.274 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:39.274 +02:00 [INF] DeleteUserById by user id: 13
2024-01-10 12:24:39.275 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:39.275 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:39.275 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:39.275 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.275 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.275 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 12:24:39.276 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 12:24:39.277 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.278 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.278 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.278 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.278 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:24:39.278 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.279 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:39.279 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.279 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 12:24:39.279 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 12:24:39.279 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 12:24:39.279 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.279 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.279 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:39.279 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:39.279 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:39.279 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 12:24:39.283 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 12:24:39.283 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.283 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:39.283 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.284 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:39.284 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.285 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 12:24:39.285 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:39.285 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:39.285 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:39.285 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:39.285 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 12:24:39.285 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 12:24:39.285 +02:00 [INF] Executed action WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi) in 11.1851ms
2024-01-10 12:24:39.285 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:39.286 +02:00 [INF] HTTP DELETE /api/User/13 responded 200 in 12.2413 ms
2024-01-10 12:24:39.286 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7137/api/User/13 text/plain;+charset=utf-8 - - 200 - text/plain;+charset=utf-8 13.1195ms
2024-01-10 12:24:39.291 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:39.291 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:39.291 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:39.291 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:39.291 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:39.291 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:39.292 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:39.292 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:39.292 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:39.292 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:39.292 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:39.292 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:39.292 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:39.292 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:39.292 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:39.292 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:39.292 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:39.292 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:39.292 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:39.292 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:39.292 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:39.292 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:39.292 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:39.292 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:39.292 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:39.293 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:39.293 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:39.293 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:39.293 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:39.293 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:39.293 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:39.293 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:39.293 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:39.293 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:39.293 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:39.293 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:39.293 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:39.293 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:39.293 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:39.293 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:39.293 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:39.293 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:39.293 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 10
  }
}
2024-01-10 12:24:39.294 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:39.294 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:39.294 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:39.294 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.295 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.295 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:39.295 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:39.295 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.295 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:39.295 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.295 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:39.296 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:39.296 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:39.296 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:39.296 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.296 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.297 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:39.299 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:39.299 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.299 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.299 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.299 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.299 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.299 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.299 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.299 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:39.299 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.300 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:39.300 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:39.300 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:39.300 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:39.300 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:39.300 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:39.300 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:39.300 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:39.300 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:39.301 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 8.6074ms
2024-01-10 12:24:39.301 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:39.301 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 9.3505 ms
2024-01-10 12:24:39.301 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 433 application/json;+charset=utf-8 10.2048ms
2024-01-10 12:24:41.700 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/12 - -
2024-01-10 12:24:41.700 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:41.700 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:41.700 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:41.700 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/12 - - - 204 - - 0.5421ms
2024-01-10 12:24:41.705 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7137/api/User/12 text/plain;+charset=utf-8 -
2024-01-10 12:24:41.705 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:41.705 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:41.705 +02:00 [DBG] DELETE requests are not supported
2024-01-10 12:24:41.705 +02:00 [DBG] DELETE requests are not supported
2024-01-10 12:24:41.705 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/12'
2024-01-10 12:24:41.705 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/12'
2024-01-10 12:24:41.706 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:41.706 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:41.706 +02:00 [INF] Route matched with {action = "DeleteUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:41.706 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:41.706 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:41.706 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:41.706 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:41.706 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:41.706 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:41.706 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:41.706 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 12:24:41.706 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 12:24:41.707 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:41.707 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:41.707 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 12:24:41.707 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:41.707 +02:00 [INF] DeleteUserById by user id: 12
2024-01-10 12:24:41.707 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:41.707 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:41.707 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:41.707 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.707 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.707 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 12:24:41.709 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 12:24:41.709 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:41.710 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:41.710 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:41.710 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.710 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:24:41.710 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.710 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:41.710 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:41.710 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 12:24:41.710 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 12:24:41.710 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 12:24:41.710 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.711 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.711 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:41.711 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:41.711 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:41.711 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 12:24:41.714 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 12:24:41.714 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.714 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:41.714 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.714 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:41.714 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:41.714 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 12:24:41.714 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:41.714 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:41.714 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:41.714 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:41.714 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 12:24:41.714 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 12:24:41.715 +02:00 [INF] Executed action WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi) in 8.606ms
2024-01-10 12:24:41.715 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:41.715 +02:00 [INF] HTTP DELETE /api/User/12 responded 200 in 9.1792 ms
2024-01-10 12:24:41.715 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7137/api/User/12 text/plain;+charset=utf-8 - - 200 - text/plain;+charset=utf-8 9.9659ms
2024-01-10 12:24:41.719 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:41.719 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:41.719 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:41.719 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:41.719 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:41.719 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:41.719 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:41.719 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:41.719 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:41.719 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:41.719 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:41.719 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:41.719 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:41.719 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:41.719 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:41.719 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:41.719 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:41.720 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:41.720 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:41.720 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:41.720 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:41.720 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:41.720 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:41.720 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:41.720 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:41.720 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:41.720 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:41.720 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:41.720 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:41.720 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:41.720 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:41.720 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:41.720 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:41.720 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:41.720 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:41.720 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:41.720 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:41.720 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:41.720 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:41.720 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:41.720 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:41.721 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:41.721 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 10
  }
}
2024-01-10 12:24:41.722 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:41.722 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:41.722 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:41.722 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.722 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.722 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:41.722 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:41.722 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.722 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:41.722 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.722 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:41.723 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:41.723 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:41.724 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:41.724 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.724 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.724 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:41.725 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:41.726 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:41.726 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:41.726 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:41.726 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:41.726 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:41.726 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:41.726 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:41.726 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.726 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 12:24:41.726 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:41.727 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:41.727 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:41.727 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:41.727 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:41.727 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:41.727 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:41.727 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:41.727 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 7.5ms
2024-01-10 12:24:41.727 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:41.727 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 8.0199 ms
2024-01-10 12:24:41.727 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 354 application/json;+charset=utf-8 8.6703ms
2024-01-10 12:24:43.795 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/11 - -
2024-01-10 12:24:43.796 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:43.796 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:43.796 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:43.796 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/11 - - - 204 - - 0.4997ms
2024-01-10 12:24:43.800 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7137/api/User/11 text/plain;+charset=utf-8 -
2024-01-10 12:24:43.800 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:43.800 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:43.800 +02:00 [DBG] DELETE requests are not supported
2024-01-10 12:24:43.800 +02:00 [DBG] DELETE requests are not supported
2024-01-10 12:24:43.800 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/11'
2024-01-10 12:24:43.800 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/11'
2024-01-10 12:24:43.800 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:43.801 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:43.801 +02:00 [INF] Route matched with {action = "DeleteUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:43.801 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:43.801 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:43.801 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:43.801 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:43.801 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:43.801 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:43.801 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:43.801 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 12:24:43.801 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 12:24:43.801 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:43.801 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:43.801 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 12:24:43.801 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:43.801 +02:00 [INF] DeleteUserById by user id: 11
2024-01-10 12:24:43.801 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:43.801 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:43.801 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:43.802 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.802 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.802 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 12:24:43.803 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 12:24:43.803 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:43.804 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:43.804 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:43.804 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.804 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:43.804 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.804 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:43.804 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:43.804 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 12:24:43.804 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 12:24:43.804 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 12:24:43.805 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.805 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.805 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:43.805 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:43.805 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:43.805 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 12:24:43.807 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 12:24:43.808 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.808 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:43.808 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.808 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:43.808 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:43.808 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 12:24:43.808 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:43.808 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:43.808 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:43.808 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:43.808 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 12:24:43.808 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 12:24:43.809 +02:00 [INF] Executed action WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi) in 7.8231ms
2024-01-10 12:24:43.809 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:43.809 +02:00 [INF] HTTP DELETE /api/User/11 responded 200 in 8.6638 ms
2024-01-10 12:24:43.809 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7137/api/User/11 text/plain;+charset=utf-8 - - 200 - text/plain;+charset=utf-8 9.4988ms
2024-01-10 12:24:43.813 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 12:24:43.813 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:43.813 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:43.813 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:43.814 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 1.0354ms
2024-01-10 12:24:43.815 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:43.816 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:43.816 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:43.816 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:43.816 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:43.816 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:43.816 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:43.816 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:43.816 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:43.816 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:43.816 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:43.816 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:43.816 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:43.816 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:43.816 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:43.816 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:43.816 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:43.816 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:43.816 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:43.816 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:43.816 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:43.816 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:43.816 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:43.817 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:43.817 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:43.817 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:43.817 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:43.817 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:43.817 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:43.817 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:43.817 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:43.817 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:43.817 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:43.817 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:43.817 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:43.817 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:43.817 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:43.817 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:43.817 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:43.817 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:43.817 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:43.817 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:43.817 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 10
  }
}
2024-01-10 12:24:43.818 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:43.818 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:43.818 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:43.818 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.819 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.819 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:43.819 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:43.819 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.819 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:43.819 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.819 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:43.820 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:43.820 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:43.820 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:43.820 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.820 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.820 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:43.822 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:43.822 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:43.823 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:43.823 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:43.823 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:43.823 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:43.823 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:43.823 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.823 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:43.823 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:43.823 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:43.823 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:43.823 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:43.823 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:43.823 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:43.823 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:43.823 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:43.824 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 7.4446ms
2024-01-10 12:24:43.824 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:43.824 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 7.9819 ms
2024-01-10 12:24:43.824 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 275 application/json;+charset=utf-8 8.4863ms
2024-01-10 12:24:45.476 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/15 - -
2024-01-10 12:24:45.476 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:45.476 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:45.476 +02:00 [DBG] The request is a preflight request.
2024-01-10 12:24:45.476 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/15 - - - 204 - - 0.5257ms
2024-01-10 12:24:45.478 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7137/api/User/15 text/plain;+charset=utf-8 -
2024-01-10 12:24:45.478 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:45.478 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:45.478 +02:00 [DBG] DELETE requests are not supported
2024-01-10 12:24:45.478 +02:00 [DBG] DELETE requests are not supported
2024-01-10 12:24:45.478 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/15'
2024-01-10 12:24:45.478 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/15'
2024-01-10 12:24:45.478 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:45.478 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:45.478 +02:00 [INF] Route matched with {action = "DeleteUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:45.478 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:45.478 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:45.478 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:45.478 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:45.478 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:45.478 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:45.478 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:45.478 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-10 12:24:45.478 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-10 12:24:45.478 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:45.478 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:45.478 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-10 12:24:45.479 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-10 12:24:45.479 +02:00 [INF] DeleteUserById by user id: 15
2024-01-10 12:24:45.479 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:45.479 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:45.479 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:45.479 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.479 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.479 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 12:24:45.480 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-10 12:24:45.481 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:45.481 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:45.481 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:45.481 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.481 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:45.481 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.481 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:45.481 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:45.482 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 12:24:45.482 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 12:24:45.482 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 12:24:45.482 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.482 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.482 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:45.482 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:45.482 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:45.482 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 12:24:45.485 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-10 12:24:45.485 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.485 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:45.485 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.485 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:45.485 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:45.485 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 12:24:45.485 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:45.485 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:45.485 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:45.485 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:45.485 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 12:24:45.485 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 12:24:45.485 +02:00 [INF] Executed action WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi) in 7.2578ms
2024-01-10 12:24:45.486 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-10 12:24:45.486 +02:00 [INF] HTTP DELETE /api/User/15 responded 200 in 7.7429 ms
2024-01-10 12:24:45.486 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7137/api/User/15 text/plain;+charset=utf-8 - - 200 - text/plain;+charset=utf-8 8.2751ms
2024-01-10 12:24:45.489 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 12:24:45.489 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:45.489 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:45.489 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:45.489 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 12:24:45.489 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:45.489 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:45.489 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 12:24:45.490 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:45.490 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:45.490 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 12:24:45.490 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 12:24:45.490 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 12:24:45.490 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 12:24:45.490 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 12:24:45.490 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 12:24:45.490 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:45.491 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 12:24:45.491 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:45.491 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 12:24:45.491 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 12:24:45.491 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 12:24:45.491 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 12:24:45.491 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:45.491 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 12:24:45.491 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 12:24:45.491 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:45.491 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 12:24:45.491 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 12:24:45.491 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 12:24:45.491 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 12:24:45.491 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 12:24:45.491 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 12:24:45.491 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 12:24:45.491 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 12:24:45.491 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 12:24:45.491 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 12:24:45.492 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 12:24:45.492 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:45.492 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:45.492 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 12:24:45.492 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 12:24:45.492 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 10
  }
}
2024-01-10 12:24:45.493 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:45.493 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:45.493 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:45.493 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.493 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.493 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:45.494 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 12:24:45.494 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.494 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:45.494 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.494 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:45.495 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:45.495 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:45.495 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:45.495 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.495 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.495 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:45.497 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 12:24:45.497 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:45.497 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:45.497 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 12:24:45.497 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.498 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:45.498 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:45.498 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:24:45.498 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 12:24:45.498 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 12:24:45.498 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 12:24:45.498 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 12:24:45.498 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 12:24:45.498 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 12:24:45.498 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 7.7842ms
2024-01-10 12:24:45.498 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 12:24:45.498 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 9.1088 ms
2024-01-10 12:24:45.498 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=10&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 196 application/json;+charset=utf-8 10.0071ms
2024-01-10 12:24:51.071 +02:00 [DBG] Connection id "0HN0HOLG5JUAC" received FIN.
2024-01-10 12:24:51.071 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 12:24:51.071 +02:00 [DBG] Connection id "0HN0HOLG5JUAC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:24:51.072 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 12:24:51.073 +02:00 [DBG] Connection id "0HN0HOLG5JUAC" disconnecting.
2024-01-10 12:24:51.073 +02:00 [DBG] Socket closed.
2024-01-10 12:24:51.073 +02:00 [DBG] Removing connection DKhM3wfodRAkblLnopp3Qg from the list of connections.
2024-01-10 12:24:51.073 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 12:24:51.073 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 22440.0351 ms
2024-01-10 12:24:51.073 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 22440.4731ms
2024-01-10 12:24:51.073 +02:00 [DBG] Connection id "0HN0HOLG5JUAC" stopped.
2024-01-10 12:24:51.183 +02:00 [DBG] Connection id "0HN0HOLG5JUAD" accepted.
2024-01-10 12:24:51.183 +02:00 [DBG] Connection id "0HN0HOLG5JUAD" started.
2024-01-10 12:24:51.184 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 12:24:51.184 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 12:24:51.184 +02:00 [INF] CORS policy execution successful.
2024-01-10 12:24:51.184 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 12:24:51.184 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 12:24:51.184 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 12:24:51.184 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 12:24:51.184 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 12:24:51.184 +02:00 [DBG] New connection qQgjzDw2YhpBoL6I46e6ug created.
2024-01-10 12:24:51.184 +02:00 [DBG] Establishing new connection.
2024-01-10 12:24:51.184 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 12:24:51.184 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 12:24:51.206 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 12:24:51.207 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 12:24:51.210 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 12:24:51.210 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 12:24:51.210 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:51.210 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 12:24:51.210 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:51.211 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:51.211 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:24:51.212 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 12:24:51.212 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:51.212 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 12:24:51.212 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 12:24:51.213 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 12:32:30.266 +02:00 [DBG] Connection id "0HN0HOLG5JUA3" received FIN.
2024-01-10 12:32:30.267 +02:00 [DBG] Connection id "0HN0HOLG5JUA3" is closed. The last processed stream ID was 109.
2024-01-10 12:32:30.268 +02:00 [DBG] Connection id "0HN0HOLG5JUA3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 12:32:30.282 +02:00 [DBG] Connection id "0HN0HOLG5JUA3" stopped.
2024-01-10 13:03:03.378 +02:00 [DBG] Connection id "0HN0HOLG5JUAD" received FIN.
2024-01-10 13:03:03.379 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 13:03:03.385 +02:00 [DBG] Connection id "0HN0HOLG5JUAD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 13:03:03.385 +02:00 [DBG] Connection id "0HN0HOLG5JUAD" disconnecting.
2024-01-10 13:03:03.386 +02:00 [DBG] Socket closed.
2024-01-10 13:03:03.462 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 13:03:03.500 +02:00 [DBG] Removing connection qQgjzDw2YhpBoL6I46e6ug from the list of connections.
2024-01-10 13:03:03.501 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 13:03:03.502 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 2292376.0748 ms
2024-01-10 13:03:03.506 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 2292377.6752ms
2024-01-10 13:03:03.507 +02:00 [DBG] Connection id "0HN0HOLG5JUAD" stopped.
2024-01-10 13:03:03.935 +02:00 [DBG] Connection id "0HN0HOLG5JUAE" accepted.
2024-01-10 13:03:03.935 +02:00 [DBG] Connection id "0HN0HOLG5JUAE" started.
2024-01-10 13:03:03.936 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 13:03:03.936 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:03:03.936 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:03:03.936 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 13:03:03.936 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 13:03:03.936 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 13:03:03.936 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 13:03:03.936 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 13:03:03.936 +02:00 [DBG] New connection 7qkhzTl7izAO4U_OYtPGqw created.
2024-01-10 13:03:03.936 +02:00 [DBG] Establishing new connection.
2024-01-10 13:03:03.937 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 13:03:03.937 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 13:03:03.960 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 13:03:03.960 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 13:03:03.962 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 13:03:03.963 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:03:03.963 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:03:03.963 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:03:03.963 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:03:05.359 +02:00 [DBG] Connection id "0HN0HOLG5JUAF" accepted.
2024-01-10 13:03:05.359 +02:00 [DBG] Connection id "0HN0HOLG5JUAF" started.
2024-01-10 13:03:05.363 +02:00 [DBG] Connection 0HN0HOLG5JUAF established using the following protocol: "Tls12"
2024-01-10 13:03:05.370 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 13:03:05.370 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:03:05.370 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:03:05.370 +02:00 [DBG] The request is a preflight request.
2024-01-10 13:03:05.371 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.9631ms
2024-01-10 13:03:05.377 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 13:03:05.377 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:03:05.377 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:03:05.378 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 13:03:05.378 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 13:03:05.378 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 13:03:05.378 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 13:03:05.378 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 13:03:05.378 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 13:03:05.379 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 13:03:05.379 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 13:03:05.379 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 13:03:05.379 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 13:03:05.379 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 13:03:05.379 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 13:03:05.379 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 13:03:05.379 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 13:03:05.380 +02:00 [INF] GetAllRoles
2024-01-10 13:03:05.380 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:03:05.383 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-10 13:03:05.384 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-10 13:03:05.384 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:03:06.042 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:03:06.044 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:03:06.052 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:03:06.052 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:03:06.052 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:03:06.052 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:03:06.052 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:03:06.054 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:03:06.057 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 13:03:06.060 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 13:03:06.061 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:03:06.061 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:03:06.061 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:03:06.061 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:03:06.061 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:03:06.061 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:03:06.061 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:03:06.061 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:03:06.061 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 13:03:06.062 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 13:03:06.062 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 13:03:06.062 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 13:03:06.062 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 13:03:06.062 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 13:03:06.062 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 682.669ms
2024-01-10 13:03:06.062 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 13:03:06.062 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 683.9013 ms
2024-01-10 13:03:06.062 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 685.2238ms
2024-01-10 13:03:12.990 +02:00 [DBG] Connection id "0HN0HOLG5JUAF" received FIN.
2024-01-10 13:03:12.991 +02:00 [DBG] Connection id "0HN0HOLG5JUAF" is closed. The last processed stream ID was 3.
2024-01-10 13:03:12.991 +02:00 [DBG] Connection id "0HN0HOLG5JUAF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 13:03:12.999 +02:00 [DBG] Connection id "0HN0HOLG5JUAF" stopped.
2024-01-10 13:04:44.889 +02:00 [DBG] Connection id "0HN0HOLG5JUAE" received FIN.
2024-01-10 13:04:44.889 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 13:04:44.890 +02:00 [DBG] Socket closed.
2024-01-10 13:04:44.891 +02:00 [DBG] Connection id "0HN0HOLG5JUAE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 13:04:44.891 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 13:04:44.893 +02:00 [DBG] Connection id "0HN0HOLG5JUAE" disconnecting.
2024-01-10 13:04:44.893 +02:00 [DBG] Removing connection 7qkhzTl7izAO4U_OYtPGqw from the list of connections.
2024-01-10 13:04:44.894 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 13:04:44.897 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 100962.7296 ms
2024-01-10 13:04:44.901 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 100963.2887ms
2024-01-10 13:04:44.901 +02:00 [DBG] Connection id "0HN0HOLG5JUAE" stopped.
2024-01-10 13:04:44.914 +02:00 [DBG] Connection id "0HN0HOLG5JUAE" reset.
2024-01-10 13:04:45.169 +02:00 [DBG] Connection id "0HN0HOLG5JUAG" accepted.
2024-01-10 13:04:45.169 +02:00 [DBG] Connection id "0HN0HOLG5JUAG" started.
2024-01-10 13:04:45.173 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 13:04:45.174 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:04:45.174 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:04:45.174 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 13:04:45.174 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 13:04:45.174 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 13:04:45.174 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 13:04:45.174 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 13:04:45.174 +02:00 [DBG] New connection E5VG13lDNyjOe3dIrA1gfQ created.
2024-01-10 13:04:45.174 +02:00 [DBG] Establishing new connection.
2024-01-10 13:04:45.174 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 13:04:45.174 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 13:04:45.177 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 13:04:45.177 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 13:04:45.179 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 13:04:45.180 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:04:45.180 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:04:45.180 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:04:45.180 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:04:45.180 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:04:45.180 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:04:45.185 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:04:45.185 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:04:45.185 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:04:45.185 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:04:45.185 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:06:21.831 +02:00 [DBG] Connection id "0HN0HOLG5JUAG" received FIN.
2024-01-10 13:06:21.831 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 13:06:21.833 +02:00 [DBG] Socket closed.
2024-01-10 13:06:21.835 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 13:06:21.846 +02:00 [DBG] Connection id "0HN0HOLG5JUAG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 13:06:21.854 +02:00 [DBG] Connection id "0HN0HOLG5JUAG" disconnecting.
2024-01-10 13:06:21.868 +02:00 [DBG] Removing connection E5VG13lDNyjOe3dIrA1gfQ from the list of connections.
2024-01-10 13:06:21.868 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 13:06:21.869 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 96696.5825 ms
2024-01-10 13:06:21.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 96697.1434ms
2024-01-10 13:06:21.869 +02:00 [DBG] Connection id "0HN0HOLG5JUAG" stopped.
2024-01-10 13:06:22.118 +02:00 [DBG] Connection id "0HN0HOLG5JUAH" accepted.
2024-01-10 13:06:22.118 +02:00 [DBG] Connection id "0HN0HOLG5JUAH" started.
2024-01-10 13:06:22.123 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 13:06:22.123 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:06:22.123 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:06:22.123 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 13:06:22.123 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 13:06:22.123 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 13:06:22.123 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 13:06:22.123 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 13:06:22.124 +02:00 [DBG] New connection yugzOqZKje7Alqn_mQ2VYw created.
2024-01-10 13:06:22.124 +02:00 [DBG] Establishing new connection.
2024-01-10 13:06:22.124 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 13:06:22.124 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 13:06:22.126 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 13:06:22.126 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 13:06:22.128 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 13:06:22.128 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:06:22.128 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:06:22.128 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:06:22.128 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:06:22.128 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:06:22.128 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:06:22.132 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:06:22.132 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:06:22.133 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:06:22.133 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:06:22.133 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:06:26.313 +02:00 [DBG] Connection id "0HN0HOLG5JUAI" accepted.
2024-01-10 13:06:26.314 +02:00 [DBG] Connection id "0HN0HOLG5JUAI" started.
2024-01-10 13:06:26.316 +02:00 [DBG] Connection 0HN0HOLG5JUAI established using the following protocol: "Tls12"
2024-01-10 13:06:26.317 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 13:06:26.317 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:06:26.318 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:06:26.318 +02:00 [DBG] The request is a preflight request.
2024-01-10 13:06:26.318 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 1.0669ms
2024-01-10 13:06:26.320 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 13:06:26.321 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:06:26.321 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:06:26.321 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 13:06:26.321 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 13:06:26.321 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 13:06:26.321 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 13:06:26.321 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 13:06:26.321 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 13:06:26.321 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 13:06:26.321 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 13:06:26.321 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 13:06:26.321 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 13:06:26.321 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 13:06:26.321 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 13:06:26.322 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 13:06:26.322 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 13:06:26.322 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 13:06:26.322 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 13:06:26.323 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 13:06:26.323 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 13:06:26.323 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 13:06:26.323 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 13:06:26.323 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 13:06:26.323 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 13:06:26.323 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 13:06:26.323 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 13:06:26.323 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 13:06:26.323 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 13:06:26.324 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 13:06:26.324 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 13:06:26.324 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 13:06:26.324 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 13:06:26.324 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 13:06:26.324 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 13:06:26.324 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 13:06:26.324 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 13:06:26.324 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 13:06:26.324 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 13:06:26.324 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 13:06:26.324 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 13:06:26.324 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 13:06:26.324 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 13:06:26.327 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:06:26.328 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:06:26.328 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:06:26.328 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:06:26.328 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:06:26.328 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 13:06:26.330 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 13:06:26.330 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:06:26.330 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:06:26.330 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:06:26.330 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:06:26.332 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:06:26.332 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:06:26.332 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:06:26.332 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:06:26.332 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:06:26.332 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 13:06:26.336 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 13:06:26.336 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:06:26.337 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:06:26.337 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:06:26.337 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:06:26.337 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:06:26.337 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:06:26.337 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:06:26.337 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 13:06:26.337 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 13:06:26.337 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 13:06:26.337 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 13:06:26.337 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 13:06:26.337 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 13:06:26.338 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 15.8754ms
2024-01-10 13:06:26.338 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 13:06:26.338 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 16.8354 ms
2024-01-10 13:06:26.338 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 195 application/json;+charset=utf-8 17.5762ms
2024-01-10 13:06:33.287 +02:00 [DBG] Connection id "0HN0HOLG5JUAI" received FIN.
2024-01-10 13:06:33.287 +02:00 [DBG] Connection id "0HN0HOLG5JUAI" is closed. The last processed stream ID was 3.
2024-01-10 13:06:33.287 +02:00 [DBG] Connection id "0HN0HOLG5JUAI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 13:06:33.288 +02:00 [DBG] Connection id "0HN0HOLG5JUAI" stopped.
2024-01-10 13:07:26.997 +02:00 [DBG] Connection id "0HN0HOLG5JUAH" received FIN.
2024-01-10 13:07:26.997 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 13:07:26.997 +02:00 [DBG] Connection id "0HN0HOLG5JUAH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 13:07:26.997 +02:00 [DBG] Connection id "0HN0HOLG5JUAH" disconnecting.
2024-01-10 13:07:26.997 +02:00 [DBG] Socket closed.
2024-01-10 13:07:26.998 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 13:07:26.998 +02:00 [DBG] Removing connection yugzOqZKje7Alqn_mQ2VYw from the list of connections.
2024-01-10 13:07:26.999 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 13:07:27.000 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 64877.3021 ms
2024-01-10 13:07:27.040 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 64879.6386ms
2024-01-10 13:07:27.043 +02:00 [DBG] Connection id "0HN0HOLG5JUAH" stopped.
2024-01-10 13:07:27.348 +02:00 [DBG] Connection id "0HN0HOLG5JUAJ" accepted.
2024-01-10 13:07:27.349 +02:00 [DBG] Connection id "0HN0HOLG5JUAJ" started.
2024-01-10 13:07:27.349 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 13:07:27.349 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:07:27.349 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:07:27.349 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 13:07:27.349 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 13:07:27.349 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 13:07:27.349 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 13:07:27.349 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 13:07:27.349 +02:00 [DBG] New connection bn81EOez1EvqpBt27lLuig created.
2024-01-10 13:07:27.349 +02:00 [DBG] Establishing new connection.
2024-01-10 13:07:27.350 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 13:07:27.350 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 13:07:27.358 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 13:07:27.358 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 13:07:27.360 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 13:07:27.361 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:07:27.361 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:07:27.361 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:07:27.361 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:07:27.361 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:07:27.361 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:07:27.364 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:07:27.364 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:07:27.364 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:07:27.364 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:07:27.364 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:08:46.546 +02:00 [DBG] Connection id "0HN0HOLG5JUAK" accepted.
2024-01-10 13:08:46.547 +02:00 [DBG] Connection id "0HN0HOLG5JUAK" started.
2024-01-10 13:08:46.551 +02:00 [DBG] Connection 0HN0HOLG5JUAK established using the following protocol: "Tls12"
2024-01-10 13:08:46.552 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 13:08:46.553 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:08:46.553 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:08:46.553 +02:00 [DBG] The request is a preflight request.
2024-01-10 13:08:46.553 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.7241ms
2024-01-10 13:08:46.561 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 13:08:46.561 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:08:46.561 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:08:46.564 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 13:08:46.564 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 13:08:46.564 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 13:08:46.564 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 13:08:46.564 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 13:08:46.564 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 13:08:46.564 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 13:08:46.565 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 13:08:46.565 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 13:08:46.566 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 13:08:46.566 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 13:08:46.566 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 13:08:46.566 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 13:08:46.566 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 13:08:46.566 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 13:08:46.566 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 13:08:46.566 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 13:08:46.566 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 13:08:46.566 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 13:08:46.566 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 13:08:46.566 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 13:08:46.566 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 13:08:46.566 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 13:08:46.566 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 13:08:46.566 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 13:08:46.566 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 13:08:46.566 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 13:08:46.566 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 13:08:46.567 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 13:08:46.567 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 13:08:46.567 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 13:08:46.567 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 13:08:46.567 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 13:08:46.567 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 13:08:46.567 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 13:08:46.567 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 13:08:46.567 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 13:08:46.567 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 13:08:46.567 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 13:08:46.567 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 13:08:46.568 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:08:46.568 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:08:46.568 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:08:46.568 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:08:46.569 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:08:46.569 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 13:08:46.570 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 13:08:46.570 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:08:46.570 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:08:46.570 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:08:46.571 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:08:46.572 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:08:46.572 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:08:46.572 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:08:46.572 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:08:46.572 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:08:46.572 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 13:08:46.575 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 13:08:46.576 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:08:46.576 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:08:46.576 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:08:46.576 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:08:46.576 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:08:46.576 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:08:46.576 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:08:46.576 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 13:08:46.576 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 13:08:46.576 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 13:08:46.576 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 13:08:46.576 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 13:08:46.576 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 13:08:46.577 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 10.9ms
2024-01-10 13:08:46.577 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 13:08:46.577 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 12.9524 ms
2024-01-10 13:08:46.577 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 195 application/json;+charset=utf-8 18.7382ms
2024-01-10 13:09:52.934 +02:00 [DBG] Connection id "0HN0HOLG5JUAK" received FIN.
2024-01-10 13:09:52.934 +02:00 [DBG] Connection id "0HN0HOLG5JUAK" is closed. The last processed stream ID was 3.
2024-01-10 13:09:52.935 +02:00 [DBG] Connection id "0HN0HOLG5JUAK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 13:09:52.939 +02:00 [DBG] Connection id "0HN0HOLG5JUAK" stopped.
2024-01-10 13:10:09.108 +02:00 [DBG] Connection id "0HN0HOLG5JUAL" accepted.
2024-01-10 13:10:09.109 +02:00 [DBG] Connection id "0HN0HOLG5JUAL" started.
2024-01-10 13:10:09.115 +02:00 [DBG] Connection 0HN0HOLG5JUAL established using the following protocol: "Tls12"
2024-01-10 13:10:09.116 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 13:10:09.116 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:10:09.117 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:10:09.117 +02:00 [DBG] The request is a preflight request.
2024-01-10 13:10:09.117 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.7711ms
2024-01-10 13:10:09.119 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 13:10:09.119 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:10:09.119 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:10:09.119 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 13:10:09.119 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 13:10:09.119 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 13:10:09.119 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 13:10:09.119 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 13:10:09.119 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 13:10:09.120 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 13:10:09.120 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 13:10:09.120 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 13:10:09.120 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 13:10:09.120 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 13:10:09.120 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 13:10:09.120 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 13:10:09.120 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 13:10:09.120 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 13:10:09.120 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 13:10:09.120 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 13:10:09.121 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 13:10:09.121 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 13:10:09.121 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 13:10:09.121 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 13:10:09.121 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 13:10:09.121 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 13:10:09.121 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 13:10:09.121 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 13:10:09.121 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 13:10:09.122 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 13:10:09.122 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 13:10:09.122 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 13:10:09.122 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 13:10:09.122 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 13:10:09.122 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 13:10:09.123 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 13:10:09.123 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 13:10:09.123 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 13:10:09.123 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 13:10:09.123 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 13:10:09.123 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 13:10:09.123 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 13:10:09.123 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 13:10:09.126 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:10:09.126 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:10:09.126 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:10:09.126 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:10:09.127 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:10:09.127 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 13:10:09.128 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 13:10:09.128 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:10:09.128 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:10:09.128 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:10:09.128 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:10:09.130 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:10:09.130 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:10:09.130 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:10:09.131 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:10:09.131 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:10:09.131 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 13:10:09.133 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 13:10:09.133 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:10:09.134 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:10:09.134 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:10:09.134 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:10:09.134 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:10:09.134 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:10:09.134 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:10:09.134 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 13:10:09.134 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 13:10:09.134 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 13:10:09.134 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 13:10:09.134 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 13:10:09.134 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 13:10:09.135 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 14.3509ms
2024-01-10 13:10:09.135 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 13:10:09.135 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 15.4834 ms
2024-01-10 13:10:09.135 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 195 application/json;+charset=utf-8 16.2296ms
2024-01-10 13:10:13.252 +02:00 [DBG] Connection id "0HN0HOLG5JUAJ" received FIN.
2024-01-10 13:10:13.252 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 13:10:13.254 +02:00 [DBG] Socket closed.
2024-01-10 13:10:13.255 +02:00 [DBG] Connection id "0HN0HOLG5JUAJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 13:10:13.256 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 13:10:13.260 +02:00 [DBG] Connection id "0HN0HOLG5JUAJ" disconnecting.
2024-01-10 13:10:13.277 +02:00 [DBG] Removing connection bn81EOez1EvqpBt27lLuig from the list of connections.
2024-01-10 13:10:13.279 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 13:10:13.279 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 165932.5158 ms
2024-01-10 13:10:13.281 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 165934.1793ms
2024-01-10 13:10:13.281 +02:00 [DBG] Connection id "0HN0HOLG5JUAJ" stopped.
2024-01-10 13:10:53.654 +02:00 [DBG] Connection id "0HN0HOLG5JUAL" received FIN.
2024-01-10 13:10:53.668 +02:00 [DBG] Connection id "0HN0HOLG5JUAL" is closed. The last processed stream ID was 3.
2024-01-10 13:10:53.668 +02:00 [DBG] Connection id "0HN0HOLG5JUAL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 13:10:53.684 +02:00 [DBG] Connection id "0HN0HOLG5JUAL" stopped.
2024-01-10 13:12:04.383 +02:00 [DBG] Connection id "0HN0HOLG5JUAM" accepted.
2024-01-10 13:12:04.383 +02:00 [DBG] Connection id "0HN0HOLG5JUAM" started.
2024-01-10 13:12:04.384 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 13:12:04.384 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:12:04.384 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:12:04.384 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 13:12:04.384 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 13:12:04.384 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 13:12:04.384 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 13:12:04.384 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 13:12:04.384 +02:00 [DBG] New connection 7AGrZ8rB3JeiZPGtMvSWEw created.
2024-01-10 13:12:04.384 +02:00 [DBG] Establishing new connection.
2024-01-10 13:12:04.385 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 13:12:04.385 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 13:12:04.419 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 13:12:04.419 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 13:12:04.426 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 13:12:04.426 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:12:04.426 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:12:04.427 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:12:04.427 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:12:04.427 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:12:04.427 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:12:04.429 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:12:04.429 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:12:04.429 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:12:04.429 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:12:04.429 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:12:05.693 +02:00 [DBG] Connection id "0HN0HOLG5JUAN" accepted.
2024-01-10 13:12:05.693 +02:00 [DBG] Connection id "0HN0HOLG5JUAN" started.
2024-01-10 13:12:05.694 +02:00 [DBG] Connection 0HN0HOLG5JUAN established using the following protocol: "Tls12"
2024-01-10 13:12:05.695 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 13:12:05.695 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:12:05.695 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:12:05.696 +02:00 [DBG] The request is a preflight request.
2024-01-10 13:12:05.697 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 1.4985ms
2024-01-10 13:12:05.700 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 13:12:05.700 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:12:05.700 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:12:05.700 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 13:12:05.700 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 13:12:05.700 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 13:12:05.700 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 13:12:05.700 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 13:12:05.700 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 13:12:05.700 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 13:12:05.700 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 13:12:05.700 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 13:12:05.700 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 13:12:05.701 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 13:12:05.701 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 13:12:05.701 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 13:12:05.701 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 13:12:05.701 +02:00 [INF] GetAllRoles
2024-01-10 13:12:05.701 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:12:05.701 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:12:05.701 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:12:05.701 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:12:05.701 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:12:05.701 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 13:12:05.703 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 13:12:05.704 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:12:05.704 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:12:05.704 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:12:05.704 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 13:12:05.704 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:12:05.704 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:12:05.704 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:12:05.704 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:12:05.704 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 13:12:05.704 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 13:12:05.704 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 13:12:05.704 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 13:12:05.704 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 13:12:05.705 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 13:12:05.705 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 4.1341ms
2024-01-10 13:12:05.705 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 13:12:05.705 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 4.7206 ms
2024-01-10 13:12:05.705 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 5.2913ms
2024-01-10 13:12:18.994 +02:00 [DBG] Connection id "0HN0HOLG5JUAN" received FIN.
2024-01-10 13:12:18.994 +02:00 [DBG] Connection id "0HN0HOLG5JUAN" is closed. The last processed stream ID was 3.
2024-01-10 13:12:18.994 +02:00 [DBG] Connection id "0HN0HOLG5JUAN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 13:12:19.009 +02:00 [DBG] Connection id "0HN0HOLG5JUAN" stopped.
2024-01-10 13:39:12.856 +02:00 [DBG] Connection id "0HN0HOLG5JUAM" received FIN.
2024-01-10 13:39:12.860 +02:00 [DBG] Connection id "0HN0HOLG5JUAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 13:39:12.872 +02:00 [DBG] Connection id "0HN0HOLG5JUAM" disconnecting.
2024-01-10 13:39:12.873 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 13:39:12.985 +02:00 [DBG] Socket closed.
2024-01-10 13:39:13.009 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 13:39:13.009 +02:00 [DBG] Removing connection 7AGrZ8rB3JeiZPGtMvSWEw from the list of connections.
2024-01-10 13:39:13.010 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 13:39:13.011 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 1628644.6169 ms
2024-01-10 13:39:13.012 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 1628645.8517ms
2024-01-10 13:39:13.013 +02:00 [DBG] Connection id "0HN0HOLG5JUAM" stopped.
2024-01-10 13:39:13.462 +02:00 [DBG] Connection id "0HN0HOLG5JUAO" accepted.
2024-01-10 13:39:13.462 +02:00 [DBG] Connection id "0HN0HOLG5JUAO" started.
2024-01-10 13:39:13.464 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 13:39:13.465 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:39:13.465 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:39:13.466 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 13:39:13.466 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 13:39:13.466 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 13:39:13.466 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 13:39:13.467 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 13:39:13.467 +02:00 [DBG] New connection 9r3MaM5VBjixPWezJ288aQ created.
2024-01-10 13:39:13.467 +02:00 [DBG] Establishing new connection.
2024-01-10 13:39:13.468 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 13:39:13.468 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 13:39:13.489 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 13:39:13.489 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 13:39:13.492 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 13:39:13.497 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:39:13.497 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:39:13.497 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:39:13.497 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:39:14.975 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:39:14.976 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:39:14.987 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:39:14.988 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:39:14.988 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:39:14.988 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:39:14.988 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 13:44:13.821 +02:00 [DBG] Connection id "0HN0HOLG5JUAO" received FIN.
2024-01-10 13:44:13.822 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 13:44:13.823 +02:00 [DBG] Connection id "0HN0HOLG5JUAO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 13:44:13.823 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 13:44:13.826 +02:00 [DBG] Connection id "0HN0HOLG5JUAO" disconnecting.
2024-01-10 13:44:13.826 +02:00 [DBG] Socket closed.
2024-01-10 13:44:13.856 +02:00 [DBG] Removing connection 9r3MaM5VBjixPWezJ288aQ from the list of connections.
2024-01-10 13:44:13.856 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 13:44:13.856 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 300392.8534 ms
2024-01-10 13:44:13.856 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 300395.5846ms
2024-01-10 13:44:13.858 +02:00 [DBG] Connection id "0HN0HOLG5JUAO" stopped.
2024-01-10 13:44:14.276 +02:00 [DBG] Connection id "0HN0HOLG5JUAP" accepted.
2024-01-10 13:44:14.276 +02:00 [DBG] Connection id "0HN0HOLG5JUAP" started.
2024-01-10 13:44:14.277 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 13:44:14.277 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 13:44:14.277 +02:00 [INF] CORS policy execution successful.
2024-01-10 13:44:14.277 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 13:44:14.278 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 13:44:14.278 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 13:44:14.278 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 13:44:14.278 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 13:44:14.278 +02:00 [DBG] New connection bUSH-eGlhZiK1XDPhWtyuA created.
2024-01-10 13:44:14.278 +02:00 [DBG] Establishing new connection.
2024-01-10 13:44:14.279 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 13:44:14.279 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 13:44:14.311 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 13:44:14.312 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 13:44:14.317 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 13:44:14.318 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 13:44:14.318 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:44:14.318 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 13:44:14.318 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:44:14.318 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:44:14.318 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:44:14.320 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 13:44:14.320 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:44:14.320 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 13:44:14.320 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 13:44:14.320 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 14:26:32.333 +02:00 [INF] Application starting up
2024-01-10 14:29:45.956 +02:00 [INF] Application starting up
2024-01-10 14:32:18.661 +02:00 [INF] Application starting up
2024-01-10 14:32:27.568 +02:00 [FTL] The application failed to start correctly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: BusinessLogicLayer.Interfaces.ILoginService Lifetime: Scoped ImplementationType: BusinessLogicLayer.Services.LoginService': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[DataAccessLayer.Models.ApplicationUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[DataAccessLayer.Models.ApplicationUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[DataAccessLayer.Models.ApplicationUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[DataAccessLayer.Models.ApplicationUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[DataAccessLayer.Models.ApplicationUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[DataAccessLayer.Models.ApplicationUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[DataAccessLayer.Models.ApplicationUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[DataAccessLayer.Models.ApplicationUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: BusinessLogicLayer.Interfaces.ILoginService Lifetime: Scoped ImplementationType: BusinessLogicLayer.Services.LoginService': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at WebApi.Program.Main(String[] args) in C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi\Program.cs:line 24
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[DataAccessLayer.Models.ApplicationUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[DataAccessLayer.Models.ApplicationUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[DataAccessLayer.Models.ApplicationUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[DataAccessLayer.Models.ApplicationUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #5) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.SignInManager`1[DataAccessLayer.Models.ApplicationUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SignInManager`1[DataAccessLayer.Models.ApplicationUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #6) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IRoleStore`1[Microsoft.AspNetCore.Identity.IdentityRole]' while attempting to activate 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #7) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.IUserClaimsPrincipalFactory`1[DataAccessLayer.Models.ApplicationUser] Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2[DataAccessLayer.Models.ApplicationUser,Microsoft.AspNetCore.Identity.IdentityRole]': Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.IUserStore`1[DataAccessLayer.Models.ApplicationUser]' while attempting to activate 'Microsoft.AspNetCore.Identity.UserManager`1[DataAccessLayer.Models.ApplicationUser]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2024-01-10 16:07:54.297 +02:00 [INF] Application starting up
2024-01-10 16:07:55.478 +02:00 [DBG] Hosting starting
2024-01-10 16:07:55.886 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 16:07:57.401 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 16:07:57.906 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-10 16:07:57.916 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:07:57.916 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:07:57.916 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:07:57.917 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:07:57.917 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:07:58.227 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 16:07:58.242 +02:00 [DBG] Creating DbConnection.
2024-01-10 16:07:58.256 +02:00 [DBG] Created DbConnection. (5ms).
2024-01-10 16:07:58.260 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:07:58.273 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.051 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.075 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:08:00.087 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (13ms).
2024-01-10 16:08:00.089 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (23ms).
2024-01-10 16:08:00.101 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:08:00.144 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:08:00.148 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.159 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (6ms).
2024-01-10 16:08:00.166 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:08:00.167 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:08:00.167 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:08:00.167 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.168 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.169 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:08:00.235 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:08:00.235 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.236 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 16:08:00.238 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.238 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.238 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:08:00.238 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:08:00.238 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:08:00.238 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:08:00.241 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:08:00.241 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.241 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:08:00.241 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:08:00.241 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:08:00.242 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:08:00.242 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.242 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.242 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:08:00.243 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:08:00.243 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.243 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:08:00.278 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:08:00.278 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:08:00.278 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:08:00.279 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.279 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.280 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:08:00.287 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:08:00.294 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.296 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-01-10 16:08:00.297 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:08:00.297 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:08:00.342 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 16:08:00.465 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 16:08:01.135 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 16:08:01.398 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 16:08:01.588 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 16:08:01.588 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 16:08:01.588 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 16:08:01.588 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 16:08:01.588 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 16:08:01.592 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 16:08:01.593 +02:00 [INF] Hosting environment: Development
2024-01-10 16:08:01.593 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 16:08:01.593 +02:00 [DBG] Hosting started
2024-01-10 16:08:01.830 +02:00 [DBG] Connection id "0HN0HSM7AFACR" received FIN.
2024-01-10 16:08:01.830 +02:00 [DBG] Connection id "0HN0HSM7AFACQ" received FIN.
2024-01-10 16:08:01.845 +02:00 [DBG] Connection id "0HN0HSM7AFACR" accepted.
2024-01-10 16:08:01.845 +02:00 [DBG] Connection id "0HN0HSM7AFACQ" accepted.
2024-01-10 16:08:01.846 +02:00 [DBG] Connection id "0HN0HSM7AFACR" started.
2024-01-10 16:08:01.846 +02:00 [DBG] Connection id "0HN0HSM7AFACQ" started.
2024-01-10 16:08:01.873 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 16:08:01.873 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 16:08:01.956 +02:00 [DBG] Connection id "0HN0HSM7AFACQ" stopped.
2024-01-10 16:08:01.956 +02:00 [DBG] Connection id "0HN0HSM7AFACR" stopped.
2024-01-10 16:08:01.965 +02:00 [DBG] Connection id "0HN0HSM7AFACQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:08:01.965 +02:00 [DBG] Connection id "0HN0HSM7AFACR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:08:02.091 +02:00 [DBG] Connection id "0HN0HSM7AFACS" accepted.
2024-01-10 16:08:02.091 +02:00 [DBG] Connection id "0HN0HSM7AFACS" started.
2024-01-10 16:08:02.212 +02:00 [DBG] Connection 0HN0HSM7AFACS established using the following protocol: "Tls12"
2024-01-10 16:08:02.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 16:08:02.399 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 16:08:02.682 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 16:08:02.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 16:08:02.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 16:08:02.930 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 16:08:02.944 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 612.6247ms
2024-01-10 16:08:02.962 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 31.9688ms
2024-01-10 16:08:02.997 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 67.3855ms
2024-01-10 16:08:03.063 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 16:08:03.366 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 303.1291ms
2024-01-10 16:08:04.405 +02:00 [DBG] Connection id "0HN0HSM7AFACS" received FIN.
2024-01-10 16:08:04.405 +02:00 [DBG] Connection id "0HN0HSM7AFACS" is closed. The last processed stream ID was 7.
2024-01-10 16:08:04.405 +02:00 [DBG] Connection id "0HN0HSM7AFACS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:08:04.409 +02:00 [DBG] Connection id "0HN0HSM7AFACS" stopped.
2024-01-10 16:20:37.121 +02:00 [INF] Application starting up
2024-01-10 16:20:38.001 +02:00 [DBG] Hosting starting
2024-01-10 16:20:38.371 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 16:20:39.183 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 16:20:39.484 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-10 16:20:39.493 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:20:39.494 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:20:39.494 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:20:39.494 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:20:39.494 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:20:39.749 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 16:20:39.759 +02:00 [DBG] Creating DbConnection.
2024-01-10 16:20:39.769 +02:00 [DBG] Created DbConnection. (4ms).
2024-01-10 16:20:39.773 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:39.787 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.392 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.413 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:20:41.422 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2024-01-10 16:20:41.424 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (18ms).
2024-01-10 16:20:41.441 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:20:41.518 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:20:41.524 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.545 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (11ms).
2024-01-10 16:20:41.558 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:20:41.558 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:20:41.558 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:20:41.558 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.560 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.562 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:20:41.629 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:20:41.629 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.630 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 16:20:41.632 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.632 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.632 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:20:41.632 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:20:41.632 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:20:41.632 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:20:41.635 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:20:41.635 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.636 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:20:41.636 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:20:41.636 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:20:41.636 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:20:41.636 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.636 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.636 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:20:41.637 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:20:41.637 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.637 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:20:41.679 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:20:41.679 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:20:41.679 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:20:41.679 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.680 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.682 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:20:41.692 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:20:41.699 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.703 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-01-10 16:20:41.703 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:20:41.703 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:20:41.749 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 16:20:41.905 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 16:20:42.080 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 16:20:42.287 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 16:20:42.454 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 16:20:42.454 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 16:20:42.454 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 16:20:42.454 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 16:20:42.454 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 16:20:42.459 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 16:20:42.460 +02:00 [INF] Hosting environment: Development
2024-01-10 16:20:42.460 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 16:20:42.460 +02:00 [DBG] Hosting started
2024-01-10 16:20:42.892 +02:00 [DBG] Connection id "0HN0HSTA4FMNF" accepted.
2024-01-10 16:20:42.893 +02:00 [DBG] Connection id "0HN0HSTA4FMNE" accepted.
2024-01-10 16:20:42.894 +02:00 [DBG] Connection id "0HN0HSTA4FMNF" started.
2024-01-10 16:20:42.894 +02:00 [DBG] Connection id "0HN0HSTA4FMNE" started.
2024-01-10 16:20:42.898 +02:00 [DBG] Connection id "0HN0HSTA4FMNF" received FIN.
2024-01-10 16:20:42.898 +02:00 [DBG] Connection id "0HN0HSTA4FMNE" received FIN.
2024-01-10 16:20:42.927 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 16:20:42.927 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 16:20:42.997 +02:00 [DBG] Connection id "0HN0HSTA4FMNE" stopped.
2024-01-10 16:20:42.997 +02:00 [DBG] Connection id "0HN0HSTA4FMNF" stopped.
2024-01-10 16:20:42.999 +02:00 [DBG] Connection id "0HN0HSTA4FMNF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:20:42.999 +02:00 [DBG] Connection id "0HN0HSTA4FMNE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:20:43.592 +02:00 [DBG] Connection id "0HN0HSTA4FMNG" accepted.
2024-01-10 16:20:43.613 +02:00 [DBG] Connection id "0HN0HSTA4FMNG" started.
2024-01-10 16:20:43.749 +02:00 [DBG] Connection 0HN0HSTA4FMNG established using the following protocol: "Tls12"
2024-01-10 16:20:43.847 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 16:20:43.888 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 16:20:44.203 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 16:20:44.398 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 16:20:44.403 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 16:20:44.403 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 16:20:44.416 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 12.1034ms
2024-01-10 16:20:44.417 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 576.6581ms
2024-01-10 16:20:44.462 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.3092ms
2024-01-10 16:20:44.548 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 16:20:44.794 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 245.0703ms
2024-01-10 16:20:45.589 +02:00 [DBG] Connection id "0HN0HSTA4FMNG" received FIN.
2024-01-10 16:20:45.590 +02:00 [DBG] Connection id "0HN0HSTA4FMNG" is closed. The last processed stream ID was 7.
2024-01-10 16:20:45.590 +02:00 [DBG] Connection id "0HN0HSTA4FMNG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:20:45.593 +02:00 [DBG] Connection id "0HN0HSTA4FMNG" stopped.
2024-01-10 16:23:10.692 +02:00 [DBG] Connection id "0HN0HSTA4FMNH" accepted.
2024-01-10 16:23:10.692 +02:00 [DBG] Connection id "0HN0HSTA4FMNH" started.
2024-01-10 16:23:10.709 +02:00 [DBG] Connection 0HN0HSTA4FMNH established using the following protocol: "Tls12"
2024-01-10 16:23:10.711 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getAll - -
2024-01-10 16:23:10.724 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 16:23:10.726 +02:00 [DBG] The request path /api/User/getAll does not match a supported file type
2024-01-10 16:23:10.777 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getAll'
2024-01-10 16:23:10.778 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)' with route pattern 'api/User/getAll' is valid for the request path '/api/User/getAll'
2024-01-10 16:23:10.778 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getAll'
2024-01-10 16:23:10.778 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:23:10.779 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:23:10.808 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersAsync() on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 16:23:10.809 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 16:23:10.809 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 16:23:10.810 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 16:23:10.810 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 16:23:10.810 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 16:23:10.811 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:23:10.814 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:23:10.819 +02:00 [INF] GetAllUsers
2024-01-10 16:23:10.897 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)'
2024-01-10 16:23:11.124 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-10 16:23:11.493 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.FirstName (string) Required, 2], [Property: User.IsActive (bool) Required ValueGenerated.OnAdd, 3], [Property: User.LastName (string) Required, 4], [Property: User.Password (string) Required, 5], [Property: User.RefreshToken (string), 6], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 7], [Property: User.RoleId (int) Required FK Index, 8], [Property: User.Token (string), 9], [Property: User.Username (string) Required Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Role.RoleType (string) Required, 12] }
        SELECT u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RefreshToken, u.RefreshTokenExpiryTime, u.RoleId, u.Token, u.Username, r.Id, r.RoleType
        FROM Users AS u
        INNER JOIN Roles AS r ON u.RoleId == r.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 16:23:11.568 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:23:11.568 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:23:11.568 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:23:11.577 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:23:11.578 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:23:11.579 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-10 16:23:11.631 +02:00 [ERR] Failed executing DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-10 16:23:11.641 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:23:11.642 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:23:11.658 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'DataAccessLayer.InternshipContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'RefreshToken'.
Invalid column name 'RefreshTokenExpiryTime'.
Invalid column name 'Token'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:92804288-14b2-43b6-b859-d1e5378f1394
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'RefreshToken'.
Invalid column name 'RefreshTokenExpiryTime'.
Invalid column name 'Token'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:92804288-14b2-43b6-b859-d1e5378f1394
Error Number:207,State:1,Class:16
2024-01-10 16:24:29.228 +02:00 [INF] Application starting up
2024-01-10 16:24:29.895 +02:00 [DBG] Hosting starting
2024-01-10 16:24:30.174 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 16:24:30.942 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 16:24:31.257 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-10 16:24:31.265 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:24:31.265 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:24:31.265 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:24:31.265 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:24:31.266 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:24:31.540 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 16:24:31.548 +02:00 [DBG] Creating DbConnection.
2024-01-10 16:24:31.558 +02:00 [DBG] Created DbConnection. (2ms).
2024-01-10 16:24:31.562 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.579 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.675 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.695 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:24:31.702 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2024-01-10 16:24:31.705 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2024-01-10 16:24:31.717 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:24:31.759 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:24:31.762 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.775 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (7ms).
2024-01-10 16:24:31.786 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:24:31.786 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:24:31.786 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:24:31.786 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.788 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.790 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:24:31.826 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:24:31.826 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.827 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:24:31.828 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.828 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.828 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:24:31.828 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:24:31.828 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:24:31.828 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:24:31.830 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:24:31.830 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.830 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:24:31.830 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:24:31.830 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:24:31.830 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:24:31.830 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.830 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.830 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:24:31.830 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:24:31.830 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.830 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:24:31.858 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:24:31.858 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:24:31.858 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:24:31.858 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.859 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.860 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:24:31.867 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:24:31.872 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.874 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-01-10 16:24:31.875 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:24:31.875 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:24:31.905 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 16:24:32.012 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 16:24:32.171 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 16:24:32.310 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 16:24:32.459 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 16:24:32.459 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 16:24:32.459 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 16:24:32.459 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 16:24:32.459 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 16:24:32.462 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 16:24:32.464 +02:00 [INF] Hosting environment: Development
2024-01-10 16:24:32.464 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 16:24:32.464 +02:00 [DBG] Hosting started
2024-01-10 16:24:32.709 +02:00 [DBG] Connection id "0HN0HSVEK7F4E" received FIN.
2024-01-10 16:24:32.724 +02:00 [DBG] Connection id "0HN0HSVEK7F4E" accepted.
2024-01-10 16:24:32.726 +02:00 [DBG] Connection id "0HN0HSVEK7F4E" started.
2024-01-10 16:24:32.739 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 16:24:32.771 +02:00 [DBG] Connection id "0HN0HSVEK7F4E" stopped.
2024-01-10 16:24:32.775 +02:00 [DBG] Connection id "0HN0HSVEK7F4E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:24:33.286 +02:00 [DBG] Connection id "0HN0HSVEK7F4F" accepted.
2024-01-10 16:24:33.286 +02:00 [DBG] Connection id "0HN0HSVEK7F4F" started.
2024-01-10 16:24:33.417 +02:00 [DBG] Connection 0HN0HSVEK7F4F established using the following protocol: "Tls12"
2024-01-10 16:24:33.553 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 16:24:33.594 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 16:24:33.907 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 16:24:34.182 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 16:24:34.182 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 16:24:34.189 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 16:24:34.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 13.4792ms
2024-01-10 16:24:34.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 667.0658ms
2024-01-10 16:24:34.231 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.0792ms
2024-01-10 16:24:34.305 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 16:24:34.344 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/favicon-32x32.png - -
2024-01-10 16:24:34.367 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-01-10 16:24:34.368 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/favicon-32x32.png - - - 200 628 image/png 23.8384ms
2024-01-10 16:24:34.578 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 273.6394ms
2024-01-10 16:24:35.861 +02:00 [DBG] Connection id "0HN0HSVEK7F4F" received FIN.
2024-01-10 16:24:35.861 +02:00 [DBG] Connection id "0HN0HSVEK7F4F" is closed. The last processed stream ID was 9.
2024-01-10 16:24:35.861 +02:00 [DBG] Connection id "0HN0HSVEK7F4F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:24:35.867 +02:00 [DBG] Connection id "0HN0HSVEK7F4F" stopped.
2024-01-10 16:25:17.751 +02:00 [DBG] Connection id "0HN0HSVEK7F4G" accepted.
2024-01-10 16:25:17.751 +02:00 [DBG] Connection id "0HN0HSVEK7F4G" started.
2024-01-10 16:25:17.757 +02:00 [DBG] Connection 0HN0HSVEK7F4G established using the following protocol: "Tls12"
2024-01-10 16:25:17.758 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getAll - -
2024-01-10 16:25:17.764 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 16:25:17.773 +02:00 [DBG] The request path /api/User/getAll does not match a supported file type
2024-01-10 16:25:17.815 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getAll'
2024-01-10 16:25:17.816 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)' with route pattern 'api/User/getAll' is valid for the request path '/api/User/getAll'
2024-01-10 16:25:17.816 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getAll'
2024-01-10 16:25:17.817 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:25:17.817 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:25:17.843 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersAsync() on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 16:25:17.844 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 16:25:17.844 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 16:25:17.845 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 16:25:17.845 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 16:25:17.845 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 16:25:17.846 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:25:17.849 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:25:17.851 +02:00 [INF] GetAllUsers
2024-01-10 16:25:17.934 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .Include(d => d.RefreshTokenExpiryTime)
    .Include(d => d.Token)'
2024-01-10 16:26:33.350 +02:00 [INF] Application starting up
2024-01-10 16:26:34.034 +02:00 [DBG] Hosting starting
2024-01-10 16:26:34.415 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 16:26:35.267 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 16:26:35.597 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-10 16:26:35.607 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:26:35.608 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:26:35.608 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:26:35.608 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:26:35.608 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:26:35.896 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 16:26:35.907 +02:00 [DBG] Creating DbConnection.
2024-01-10 16:26:35.914 +02:00 [DBG] Created DbConnection. (3ms).
2024-01-10 16:26:35.916 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:35.923 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.041 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.057 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:26:36.067 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2024-01-10 16:26:36.069 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (19ms).
2024-01-10 16:26:36.079 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:26:36.138 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:26:36.144 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.162 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (12ms).
2024-01-10 16:26:36.169 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:26:36.169 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:26:36.170 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:26:36.170 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.172 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.174 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:26:36.209 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:26:36.209 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.210 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:26:36.211 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.211 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.211 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:26:36.211 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:26:36.211 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:26:36.211 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:26:36.213 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:26:36.213 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.213 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:26:36.213 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:26:36.213 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:26:36.213 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:26:36.213 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.213 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.213 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:26:36.214 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:26:36.214 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.214 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:26:36.241 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:26:36.242 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:26:36.242 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:26:36.242 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.242 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.244 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:26:36.253 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:26:36.258 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.261 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-01-10 16:26:36.261 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:26:36.261 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:26:36.296 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 16:26:36.398 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 16:26:36.545 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 16:26:36.675 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 16:26:36.818 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 16:26:36.818 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 16:26:36.818 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 16:26:36.818 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 16:26:36.818 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 16:26:36.821 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 16:26:36.823 +02:00 [INF] Hosting environment: Development
2024-01-10 16:26:36.823 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 16:26:36.823 +02:00 [DBG] Hosting started
2024-01-10 16:26:36.850 +02:00 [DBG] Connection id "0HN0HT0JK3A3M" accepted.
2024-01-10 16:26:36.851 +02:00 [DBG] Connection id "0HN0HT0JK3A3M" started.
2024-01-10 16:26:36.876 +02:00 [DBG] Connection id "0HN0HT0JK3A3M" received FIN.
2024-01-10 16:26:36.888 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 16:26:36.921 +02:00 [DBG] Connection id "0HN0HT0JK3A3M" stopped.
2024-01-10 16:26:36.924 +02:00 [DBG] Connection id "0HN0HT0JK3A3M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:26:37.478 +02:00 [DBG] Connection id "0HN0HT0JK3A3N" accepted.
2024-01-10 16:26:37.479 +02:00 [DBG] Connection id "0HN0HT0JK3A3N" started.
2024-01-10 16:26:37.565 +02:00 [DBG] Connection 0HN0HT0JK3A3N established using the following protocol: "Tls12"
2024-01-10 16:26:37.684 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 16:26:37.741 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 16:26:38.063 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 16:26:38.247 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 16:26:38.264 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 584.8701ms
2024-01-10 16:26:38.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 16:26:38.287 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 16:26:38.298 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 10.2834ms
2024-01-10 16:26:38.328 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.8647ms
2024-01-10 16:26:38.460 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 16:26:38.656 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 196.2803ms
2024-01-10 16:26:45.844 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getAll - -
2024-01-10 16:26:45.847 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 16:26:45.850 +02:00 [DBG] The request path /api/User/getAll does not match a supported file type
2024-01-10 16:26:45.895 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getAll'
2024-01-10 16:26:45.895 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)' with route pattern 'api/User/getAll' is valid for the request path '/api/User/getAll'
2024-01-10 16:26:45.895 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getAll'
2024-01-10 16:26:45.896 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:26:45.897 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:26:45.923 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersAsync() on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 16:26:45.924 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 16:26:45.924 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 16:26:45.924 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 16:26:45.924 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 16:26:45.924 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 16:26:45.925 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:26:45.927 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:26:45.929 +02:00 [INF] GetAllUsers
2024-01-10 16:26:45.999 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .Include(d => d.RefreshToken)
    .Include(d => d.Token)'
2024-01-10 16:31:57.231 +02:00 [INF] Application starting up
2024-01-10 16:31:58.183 +02:00 [DBG] Hosting starting
2024-01-10 16:31:58.619 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 16:31:59.808 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 16:32:00.242 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-10 16:32:00.255 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:32:00.255 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:32:00.255 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:32:00.256 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:32:00.256 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:32:00.615 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 16:32:00.626 +02:00 [DBG] Creating DbConnection.
2024-01-10 16:32:00.640 +02:00 [DBG] Created DbConnection. (3ms).
2024-01-10 16:32:00.643 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.653 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.751 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.765 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:32:00.773 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2024-01-10 16:32:00.775 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2024-01-10 16:32:00.785 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:32:00.857 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:32:00.862 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.879 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (9ms).
2024-01-10 16:32:00.889 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:32:00.889 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:32:00.889 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:32:00.889 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.891 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.893 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:32:00.938 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:32:00.938 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.939 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 16:32:00.941 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.941 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.941 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:32:00.941 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:32:00.941 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:32:00.941 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:32:00.943 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:32:00.943 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.943 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:32:00.943 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:32:00.943 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:32:00.943 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:32:00.943 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.943 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.944 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:32:00.944 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:32:00.944 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.944 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:32:00.969 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:32:00.969 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:32:00.969 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:32:00.969 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.969 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.971 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:32:00.977 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:32:00.982 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.985 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-01-10 16:32:00.985 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:32:00.985 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:32:01.017 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 16:32:01.180 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 16:32:01.561 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 16:32:01.735 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 16:32:01.877 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 16:32:01.877 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 16:32:01.877 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 16:32:01.877 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 16:32:01.877 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 16:32:01.881 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 16:32:01.882 +02:00 [INF] Hosting environment: Development
2024-01-10 16:32:01.882 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 16:32:01.882 +02:00 [DBG] Hosting started
2024-01-10 16:32:01.925 +02:00 [DBG] Connection id "0HN0HT3KG81LM" accepted.
2024-01-10 16:32:01.927 +02:00 [DBG] Connection id "0HN0HT3KG81LM" started.
2024-01-10 16:32:02.259 +02:00 [DBG] Connection id "0HN0HT3KG81LN" accepted.
2024-01-10 16:32:02.259 +02:00 [DBG] Connection id "0HN0HT3KG81LN" started.
2024-01-10 16:32:02.647 +02:00 [DBG] Connection id "0HN0HT3KG81LO" accepted.
2024-01-10 16:32:02.648 +02:00 [DBG] Connection id "0HN0HT3KG81LO" started.
2024-01-10 16:32:02.774 +02:00 [DBG] Connection 0HN0HT3KG81LO established using the following protocol: "Tls12"
2024-01-10 16:32:02.886 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 16:32:02.947 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 16:32:03.285 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 16:32:03.633 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 16:32:03.633 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 16:32:03.636 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 16:32:03.700 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 65.8391ms
2024-01-10 16:32:03.700 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 819.7865ms
2024-01-10 16:32:03.747 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 114.1046ms
2024-01-10 16:32:03.839 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 16:32:04.206 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 366.9629ms
2024-01-10 16:32:10.077 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getAll - -
2024-01-10 16:32:10.083 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 16:32:10.088 +02:00 [DBG] The request path /api/User/getAll does not match a supported file type
2024-01-10 16:32:10.128 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getAll'
2024-01-10 16:32:10.129 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)' with route pattern 'api/User/getAll' is valid for the request path '/api/User/getAll'
2024-01-10 16:32:10.129 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getAll'
2024-01-10 16:32:10.129 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:32:10.130 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:32:10.157 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersAsync() on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 16:35:36.357 +02:00 [INF] Application starting up
2024-01-10 16:35:37.026 +02:00 [DBG] Hosting starting
2024-01-10 16:35:37.336 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 16:35:38.260 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 16:35:38.604 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-10 16:35:38.616 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:35:38.617 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:35:38.617 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:35:38.617 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:35:38.617 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:35:38.886 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 16:35:38.895 +02:00 [DBG] Creating DbConnection.
2024-01-10 16:35:38.903 +02:00 [DBG] Created DbConnection. (3ms).
2024-01-10 16:35:38.905 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:38.912 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.096 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.112 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:35:39.123 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2024-01-10 16:35:39.126 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2024-01-10 16:35:39.141 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:35:39.184 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:35:39.188 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.201 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (7ms).
2024-01-10 16:35:39.207 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:35:39.207 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:35:39.207 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:35:39.207 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.208 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.209 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:35:39.248 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:35:39.249 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.250 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 16:35:39.251 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.251 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.251 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:35:39.251 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:35:39.251 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:35:39.251 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:35:39.252 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:35:39.252 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.252 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:35:39.253 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:35:39.253 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:35:39.253 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:35:39.253 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.253 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.253 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:35:39.253 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:35:39.253 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.253 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:35:39.276 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:35:39.276 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:35:39.276 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:35:39.276 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.276 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.277 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:35:39.282 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:35:39.287 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.290 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-01-10 16:35:39.291 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:35:39.291 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:35:39.323 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 16:35:39.425 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 16:35:39.565 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 16:35:39.713 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 16:35:39.864 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 16:35:39.864 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 16:35:39.865 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 16:35:39.865 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 16:35:39.865 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 16:35:39.868 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 16:35:39.870 +02:00 [INF] Hosting environment: Development
2024-01-10 16:35:39.870 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 16:35:39.870 +02:00 [DBG] Hosting started
2024-01-10 16:35:40.146 +02:00 [DBG] Connection id "0HN0HT5LHD77G" received FIN.
2024-01-10 16:35:40.157 +02:00 [DBG] Connection id "0HN0HT5LHD77G" accepted.
2024-01-10 16:35:40.159 +02:00 [DBG] Connection id "0HN0HT5LHD77G" started.
2024-01-10 16:35:40.177 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 16:35:40.645 +02:00 [DBG] Connection id "0HN0HT5LHD77G" stopped.
2024-01-10 16:35:40.650 +02:00 [DBG] Connection id "0HN0HT5LHD77G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:35:40.729 +02:00 [DBG] Connection id "0HN0HT5LHD77H" accepted.
2024-01-10 16:35:40.730 +02:00 [DBG] Connection id "0HN0HT5LHD77H" started.
2024-01-10 16:35:40.802 +02:00 [DBG] Connection 0HN0HT5LHD77H established using the following protocol: "Tls12"
2024-01-10 16:35:40.921 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 16:35:40.974 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 16:35:41.278 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 16:35:41.467 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 16:35:41.480 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 16:35:41.485 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 16:35:41.530 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 564.1509ms
2024-01-10 16:35:41.549 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 63.8440ms
2024-01-10 16:35:41.564 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 83.9259ms
2024-01-10 16:35:41.614 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 16:35:41.863 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.6324ms
2024-01-10 16:35:49.852 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getAll - -
2024-01-10 16:35:49.855 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 16:35:49.863 +02:00 [DBG] The request path /api/User/getAll does not match a supported file type
2024-01-10 16:35:49.918 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getAll'
2024-01-10 16:35:49.919 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)' with route pattern 'api/User/getAll' is valid for the request path '/api/User/getAll'
2024-01-10 16:35:49.919 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getAll'
2024-01-10 16:35:49.920 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:35:49.922 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:35:49.946 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersAsync() on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 16:35:49.947 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 16:35:49.947 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 16:35:49.948 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 16:35:49.948 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 16:35:49.948 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 16:35:49.949 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:35:49.953 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:35:49.956 +02:00 [INF] GetAllUsers
2024-01-10 16:35:50.035 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .Include(d => d.RefreshTokenExpiryTime)
    .Include(d => d.Token)'
2024-01-10 16:36:24.887 +02:00 [INF] Application starting up
2024-01-10 16:36:25.521 +02:00 [DBG] Hosting starting
2024-01-10 16:36:25.797 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 16:36:26.603 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 16:36:26.967 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-10 16:36:26.981 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:36:26.981 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:36:26.982 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:36:26.982 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:36:26.982 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:36:27.313 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 16:36:27.332 +02:00 [DBG] Creating DbConnection.
2024-01-10 16:36:27.343 +02:00 [DBG] Created DbConnection. (10ms).
2024-01-10 16:36:27.346 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.354 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.461 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.473 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:36:27.481 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2024-01-10 16:36:27.484 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2024-01-10 16:36:27.494 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:36:27.537 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:36:27.541 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.553 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (7ms).
2024-01-10 16:36:27.563 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:36:27.563 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:36:27.563 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:36:27.563 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.564 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.565 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:36:27.598 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:36:27.598 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.598 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:36:27.599 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.600 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.600 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:36:27.600 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:36:27.600 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:36:27.600 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:36:27.601 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:36:27.602 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.602 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:36:27.602 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:36:27.602 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:36:27.602 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:36:27.602 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.602 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.602 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:36:27.602 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:36:27.602 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.603 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:36:27.632 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:36:27.632 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:36:27.632 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:36:27.632 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.632 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.634 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:36:27.643 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:36:27.651 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.656 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 8ms reading results.
2024-01-10 16:36:27.656 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:27.656 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:36:27.697 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 16:36:27.800 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 16:36:27.957 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 16:36:28.100 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 16:36:28.209 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 16:36:28.209 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 16:36:28.209 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 16:36:28.209 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 16:36:28.209 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 16:36:28.217 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 16:36:28.218 +02:00 [INF] Hosting environment: Development
2024-01-10 16:36:28.218 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 16:36:28.218 +02:00 [DBG] Hosting started
2024-01-10 16:36:28.602 +02:00 [DBG] Connection id "0HN0HT63VGM2O" received FIN.
2024-01-10 16:36:28.602 +02:00 [DBG] Connection id "0HN0HT63VGM2N" received FIN.
2024-01-10 16:36:28.615 +02:00 [DBG] Connection id "0HN0HT63VGM2N" accepted.
2024-01-10 16:36:28.615 +02:00 [DBG] Connection id "0HN0HT63VGM2O" accepted.
2024-01-10 16:36:28.617 +02:00 [DBG] Connection id "0HN0HT63VGM2O" started.
2024-01-10 16:36:28.617 +02:00 [DBG] Connection id "0HN0HT63VGM2N" started.
2024-01-10 16:36:28.633 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 16:36:28.633 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 16:36:28.666 +02:00 [DBG] Connection id "0HN0HT63VGM2N" stopped.
2024-01-10 16:36:28.666 +02:00 [DBG] Connection id "0HN0HT63VGM2O" stopped.
2024-01-10 16:36:28.685 +02:00 [DBG] Connection id "0HN0HT63VGM2O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:36:28.687 +02:00 [DBG] Connection id "0HN0HT63VGM2N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:36:28.820 +02:00 [DBG] Connection id "0HN0HT63VGM2P" accepted.
2024-01-10 16:36:28.821 +02:00 [DBG] Connection id "0HN0HT63VGM2P" started.
2024-01-10 16:36:28.886 +02:00 [DBG] Connection 0HN0HT63VGM2P established using the following protocol: "Tls12"
2024-01-10 16:36:29.013 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 16:36:29.068 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 16:36:29.376 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 16:36:29.602 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 16:36:29.603 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 16:36:29.605 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 16:36:29.614 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 9.8713ms
2024-01-10 16:36:29.615 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 611.1523ms
2024-01-10 16:36:29.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.0415ms
2024-01-10 16:36:29.681 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 16:36:29.951 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 270.4266ms
2024-01-10 16:36:31.838 +02:00 [DBG] Connection id "0HN0HT63VGM2P" received FIN.
2024-01-10 16:36:31.839 +02:00 [DBG] Connection id "0HN0HT63VGM2P" is closed. The last processed stream ID was 7.
2024-01-10 16:36:31.839 +02:00 [DBG] Connection id "0HN0HT63VGM2P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:36:31.845 +02:00 [DBG] Connection id "0HN0HT63VGM2P" stopped.
2024-01-10 16:36:35.637 +02:00 [DBG] Connection id "0HN0HT63VGM2Q" accepted.
2024-01-10 16:36:35.637 +02:00 [DBG] Connection id "0HN0HT63VGM2Q" started.
2024-01-10 16:36:35.646 +02:00 [DBG] Connection 0HN0HT63VGM2Q established using the following protocol: "Tls12"
2024-01-10 16:36:35.648 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getAll - -
2024-01-10 16:36:35.650 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 16:36:35.652 +02:00 [DBG] The request path /api/User/getAll does not match a supported file type
2024-01-10 16:36:35.689 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getAll'
2024-01-10 16:36:35.690 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)' with route pattern 'api/User/getAll' is valid for the request path '/api/User/getAll'
2024-01-10 16:36:35.690 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getAll'
2024-01-10 16:36:35.691 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:36:35.691 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:36:35.715 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersAsync() on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 16:36:35.715 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 16:36:35.716 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 16:36:35.716 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 16:36:35.716 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 16:36:35.716 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 16:36:35.717 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:36:35.718 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:36:35.720 +02:00 [INF] GetAllUsers
2024-01-10 16:36:35.785 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)'
2024-01-10 16:36:35.988 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-10 16:36:36.358 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.FirstName (string) Required, 2], [Property: User.IsActive (bool) Required ValueGenerated.OnAdd, 3], [Property: User.LastName (string) Required, 4], [Property: User.Password (string) Required, 5], [Property: User.RefreshToken (string), 6], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 7], [Property: User.RoleId (int) Required FK Index, 8], [Property: User.Token (string), 9], [Property: User.Username (string) Required Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Role.RoleType (string) Required, 12] }
        SELECT u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RefreshToken, u.RefreshTokenExpiryTime, u.RoleId, u.Token, u.Username, r.Id, r.RoleType
        FROM Users AS u
        INNER JOIN Roles AS r ON u.RoleId == r.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 16:36:36.424 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:36:36.424 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:36:36.424 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:36:36.434 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:36.435 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:36.437 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-10 16:36:36.515 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-10 16:36:36.573 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 16:36:36.647 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 16:36:36.655 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 16:36:36.678 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:36.681 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 165ms reading results.
2024-01-10 16:36:36.687 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:36:36.688 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 16:36:36.697 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 16:36:36.701 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 16:36:36.701 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 16:36:36.701 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 16:36:36.702 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 16:36:36.702 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.UserGetDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 16:36:36.915 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersAsync (WebApi) in 1191.2819ms
2024-01-10 16:36:36.916 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 16:36:36.920 +02:00 [INF] HTTP GET /api/User/getAll responded 200 in 1263.2253 ms
2024-01-10 16:36:36.936 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getAll - - - 200 92 application/json;+charset=utf-8 1288.6120ms
2024-01-10 16:36:41.849 +02:00 [DBG] Connection id "0HN0HT63VGM2Q" received FIN.
2024-01-10 16:36:41.849 +02:00 [DBG] Connection id "0HN0HT63VGM2Q" is closed. The last processed stream ID was 1.
2024-01-10 16:36:41.849 +02:00 [DBG] Connection id "0HN0HT63VGM2Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:36:41.861 +02:00 [DBG] Connection id "0HN0HT63VGM2Q" stopped.
2024-01-10 16:37:11.010 +02:00 [DBG] Connection id "0HN0HT63VGM2R" accepted.
2024-01-10 16:37:11.010 +02:00 [DBG] Connection id "0HN0HT63VGM2R" started.
2024-01-10 16:37:11.023 +02:00 [DBG] Connection 0HN0HT63VGM2R established using the following protocol: "Tls12"
2024-01-10 16:37:11.030 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 56
2024-01-10 16:37:11.031 +02:00 [DBG] The request has an origin header: 'https://localhost:7137'.
2024-01-10 16:37:11.031 +02:00 [INF] CORS policy execution successful.
2024-01-10 16:37:11.032 +02:00 [DBG] POST requests are not supported
2024-01-10 16:37:11.032 +02:00 [DBG] POST requests are not supported
2024-01-10 16:37:11.039 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 16:37:11.039 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 16:37:11.039 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 16:37:11.039 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 16:37:11.058 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 16:37:11.058 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 16:37:11.058 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 16:37:11.058 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 16:37:11.058 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 16:37:11.058 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 16:37:11.058 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:37:11.060 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:37:11.066 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 16:37:11.070 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 16:37:11.071 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 16:37:11.071 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 16:37:11.080 +02:00 [DBG] Connection id "0HN0HT63VGM2R", Request id "0HN0HT63VGM2R:00000001": started reading request body.
2024-01-10 16:37:11.080 +02:00 [DBG] Connection id "0HN0HT63VGM2R", Request id "0HN0HT63VGM2R:00000001": done reading request body.
2024-01-10 16:37:11.131 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 16:37:11.131 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 16:37:11.132 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 16:37:11.145 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 16:37:11.147 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 16:37:11.150 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 16:37:11.150 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 16:37:11.151 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 16:37:11.151 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 16:37:11.152 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 16:37:11.152 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 16:37:11.185 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 126.1276ms
2024-01-10 16:37:11.185 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 16:37:11.185 +02:00 [INF] HTTP POST /api/User/authenticate responded 400 in 152.8391 ms
2024-01-10 16:37:11.185 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 56 - 400 378 application/problem+json;+charset=utf-8 155.4713ms
2024-01-10 16:50:06.657 +02:00 [INF] Application starting up
2024-01-10 16:50:07.586 +02:00 [DBG] Hosting starting
2024-01-10 16:50:07.976 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 16:50:08.840 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 16:50:09.150 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-10 16:50:09.165 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:50:09.165 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:50:09.169 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:50:09.170 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:50:09.171 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:50:09.475 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 16:50:09.484 +02:00 [DBG] Creating DbConnection.
2024-01-10 16:50:09.491 +02:00 [DBG] Created DbConnection. (3ms).
2024-01-10 16:50:09.494 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:09.503 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.109 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.123 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:50:11.131 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2024-01-10 16:50:11.133 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2024-01-10 16:50:11.143 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:50:11.206 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:50:11.211 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.227 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (9ms).
2024-01-10 16:50:11.235 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:50:11.235 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:50:11.235 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:50:11.235 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.236 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.238 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:50:11.291 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:50:11.291 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.293 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 16:50:11.295 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.296 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.296 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:50:11.296 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:50:11.296 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:50:11.296 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:50:11.303 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:50:11.303 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.303 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:50:11.303 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:50:11.303 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:50:11.304 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:50:11.304 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.304 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.304 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:50:11.304 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:50:11.305 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.305 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:50:11.344 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:50:11.345 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:50:11.345 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:50:11.345 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.345 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.346 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:50:11.352 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:50:11.358 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.360 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-01-10 16:50:11.361 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:50:11.361 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:50:11.404 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 16:50:11.554 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 16:50:11.778 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 16:50:11.978 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 16:50:12.186 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 16:50:12.186 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 16:50:12.186 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 16:50:12.186 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 16:50:12.186 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 16:50:12.190 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 16:50:12.191 +02:00 [INF] Hosting environment: Development
2024-01-10 16:50:12.191 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 16:50:12.191 +02:00 [DBG] Hosting started
2024-01-10 16:50:12.274 +02:00 [DBG] Connection id "0HN0HTDPEKGP2" accepted.
2024-01-10 16:50:12.274 +02:00 [DBG] Connection id "0HN0HTDPEKGP3" accepted.
2024-01-10 16:50:12.275 +02:00 [DBG] Connection id "0HN0HTDPEKGP3" started.
2024-01-10 16:50:12.275 +02:00 [DBG] Connection id "0HN0HTDPEKGP2" started.
2024-01-10 16:50:12.966 +02:00 [DBG] Connection id "0HN0HTDPEKGP4" accepted.
2024-01-10 16:50:12.966 +02:00 [DBG] Connection id "0HN0HTDPEKGP4" started.
2024-01-10 16:50:13.095 +02:00 [DBG] Connection 0HN0HTDPEKGP4 established using the following protocol: "Tls12"
2024-01-10 16:50:13.250 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 16:50:18.302 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 16:50:18.572 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 16:50:22.304 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2024-01-10 16:50:22.304 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2024-01-10 16:50:22.309 +02:00 [DBG] Connection id "0HN0HTDPEKGP2" stopped.
2024-01-10 16:50:22.309 +02:00 [DBG] Connection id "0HN0HTDPEKGP3" stopped.
2024-01-10 16:50:22.310 +02:00 [DBG] Connection id "0HN0HTDPEKGP3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:50:22.310 +02:00 [DBG] Connection id "0HN0HTDPEKGP2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:50:23.627 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 16:50:23.635 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 10386.8941ms
2024-01-10 16:50:23.665 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 16:50:23.671 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 6.3463ms
2024-01-10 16:50:23.740 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 16:50:23.956 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 216.2226ms
2024-01-10 16:50:27.991 +02:00 [DBG] Connection id "0HN0HTDPEKGP4" received FIN.
2024-01-10 16:50:27.991 +02:00 [DBG] Connection id "0HN0HTDPEKGP4" is closed. The last processed stream ID was 5.
2024-01-10 16:50:27.991 +02:00 [DBG] Connection id "0HN0HTDPEKGP4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:50:27.995 +02:00 [DBG] Connection id "0HN0HTDPEKGP4" stopped.
2024-01-10 16:50:48.647 +02:00 [DBG] Connection id "0HN0HTDPEKGP5" accepted.
2024-01-10 16:50:48.647 +02:00 [DBG] Connection id "0HN0HTDPEKGP5" started.
2024-01-10 16:50:48.656 +02:00 [DBG] Connection 0HN0HTDPEKGP5 established using the following protocol: "Tls12"
2024-01-10 16:50:48.663 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 56
2024-01-10 16:50:48.674 +02:00 [DBG] The request has an origin header: 'https://localhost:7137'.
2024-01-10 16:50:48.675 +02:00 [INF] CORS policy execution successful.
2024-01-10 16:50:48.679 +02:00 [DBG] POST requests are not supported
2024-01-10 16:50:48.680 +02:00 [DBG] POST requests are not supported
2024-01-10 16:50:48.732 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 16:50:48.733 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 16:50:48.733 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 16:50:48.734 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 16:50:48.770 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 16:50:48.771 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 16:50:48.771 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 16:50:48.771 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 16:50:48.771 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 16:50:48.772 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 16:50:48.775 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:50:48.779 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:50:48.800 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 16:50:48.802 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 16:50:48.803 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 16:50:48.803 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 16:50:48.828 +02:00 [DBG] Connection id "0HN0HTDPEKGP5", Request id "0HN0HTDPEKGP5:00000001": started reading request body.
2024-01-10 16:50:48.829 +02:00 [DBG] Connection id "0HN0HTDPEKGP5", Request id "0HN0HTDPEKGP5:00000001": done reading request body.
2024-01-10 16:50:48.981 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 16:50:48.981 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 16:50:48.981 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 16:50:49.003 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 16:50:49.005 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 16:50:49.008 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 16:50:49.010 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 16:50:49.013 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 16:50:49.014 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 16:50:49.014 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 16:50:49.014 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 16:50:49.113 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 336.0751ms
2024-01-10 16:50:49.114 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 16:50:49.116 +02:00 [INF] HTTP POST /api/User/authenticate responded 400 in 431.3338 ms
2024-01-10 16:50:49.130 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 56 - 400 378 application/problem+json;+charset=utf-8 467.5231ms
2024-01-10 16:50:53.026 +02:00 [DBG] Connection id "0HN0HTDPEKGP5" received FIN.
2024-01-10 16:50:53.026 +02:00 [DBG] Connection id "0HN0HTDPEKGP5" is closed. The last processed stream ID was 1.
2024-01-10 16:50:53.026 +02:00 [DBG] Connection id "0HN0HTDPEKGP5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:50:53.035 +02:00 [DBG] Connection id "0HN0HTDPEKGP5" stopped.
2024-01-10 16:55:26.689 +02:00 [INF] Application starting up
2024-01-10 16:55:28.977 +02:00 [DBG] Hosting starting
2024-01-10 16:55:29.711 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 16:55:31.100 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 16:55:31.606 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-10 16:55:31.624 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:55:31.625 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:55:31.625 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:55:31.625 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:55:31.626 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 16:55:32.108 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 16:55:32.124 +02:00 [DBG] Creating DbConnection.
2024-01-10 16:55:32.133 +02:00 [DBG] Created DbConnection. (4ms).
2024-01-10 16:55:32.138 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.149 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.281 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.310 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:55:32.322 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (15ms).
2024-01-10 16:55:32.326 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (26ms).
2024-01-10 16:55:32.337 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:55:32.404 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:55:32.411 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.426 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (8ms).
2024-01-10 16:55:32.433 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:55:32.433 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:55:32.433 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:55:32.433 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.436 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.438 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:55:32.481 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:55:32.482 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.483 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 16:55:32.486 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.486 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.487 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 16:55:32.487 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:55:32.487 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 16:55:32.488 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:55:32.491 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 16:55:32.491 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.491 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:55:32.492 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 16:55:32.492 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:55:32.492 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 16:55:32.492 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.493 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.493 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:55:32.494 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 16:55:32.494 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.495 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:55:32.526 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:55:32.526 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:55:32.527 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-10 16:55:32.527 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.528 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.531 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:55:32.538 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 16:55:32.547 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.552 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-01-10 16:55:32.553 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:55:32.553 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:55:32.612024-01-10 16:55:32.780 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 16:55:33.011 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 16:55:33.224 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 16:55:33.451 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 16:55:33.451 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 16:55:33.451 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 16:55:33.451 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 16:55:33.451 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 16:55:33.456 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 16:55:33.457 +02:00 [INF] Hosting environment: Development
2024-01-10 16:55:33.458 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 16:55:33.458 +02:00 [DBG] Hosting started
2024-01-10 16:55:33.875 +02:00 [DBG] Connection id "0HN0HTGP9KU0I" accepted.
2024-01-10 16:55:33.875 +02:00 [DBG] Connection id "0HN0HTGP9KU0J" accepted.
2024-01-10 16:55:33.876 +02:00 [DBG] Connection id "0HN0HTGP9KU0J" started.
2024-01-10 16:55:33.876 +02:00 [DBG] Connection id "0HN0HTGP9KU0I" started.
2024-01-10 16:55:34.244 +02:00 [DBG] Connection id "0HN0HTGP9KU0K" accepted.
2024-01-10 16:55:34.256 +02:00 [DBG] Connection id "0HN0HTGP9KU0K" started.
2024-01-10 16:55:34.416 +02:00 [DBG] Connection 0HN0HTGP9KU0K established using the following protocol: "Tls12"
2024-01-10 16:55:34.512 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 16:55:39.585 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 16:55:39.929 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 16:55:43.895 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2024-01-10 16:55:43.895 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2024-01-10 16:55:43.900 +02:00 [DBG] Connection id "0HN0HTGP9KU0I" stopped.
2024-01-10 16:55:43.900 +02:00 [DBG] Connection id "0HN0HTGP9KU0J" stopped.
2024-01-10 16:55:43.901 +02:00 [DBG] Connection id "0HN0HTGP9KU0J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:55:43.901 +02:00 [DBG] Connection id "0HN0HTGP9KU0I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:55:44.983 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 16:55:44.990 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 10483.8319ms
2024-01-10 16:55:44.993 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 16:55:45.008 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 14.3147ms
2024-01-10 16:55:45.126 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 16:55:45.332 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 205.2626ms
2024-01-10 16:55:48.462 +02:00 [DBG] Connection id "0HN0HTGP9KU0K" received FIN.
2024-01-10 16:55:48.463 +02:00 [DBG] Connection id "0HN0HTGP9KU0K" is closed. The last processed stream ID was 5.
2024-01-10 16:55:48.463 +02:00 [DBG] Connection id "0HN0HTGP9KU0K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:55:48.468 +02:00 [DBG] Connection id "0HN0HTGP9KU0K" stopped.
2024-01-10 16:56:08.119 +02:00 [DBG] Connection id "0HN0HTGP9KU0L" accepted.
2024-01-10 16:56:08.119 +02:00 [DBG] Connection id "0HN0HTGP9KU0L" started.
2024-01-10 16:56:08.121 +02:00 [DBG] Connection 0HN0HTGP9KU0L established using the following protocol: "Tls12"
2024-01-10 16:56:08.122 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json-patch+json 155
2024-01-10 16:56:08.127 +02:00 [DBG] The request has an origin header: 'https://localhost:7137'.
2024-01-10 16:56:08.127 +02:00 [INF] CORS policy execution successful.
2024-01-10 16:56:08.133 +02:00 [DBG] POST requests are not supported
2024-01-10 16:56:08.136 +02:00 [DBG] POST requests are not supported
2024-01-10 16:56:08.180 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-10 16:56:08.181 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-10 16:56:08.181 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 16:56:08.182 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 16:56:08.217 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 16:56:08.217 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 16:56:08.218 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 16:56:08.218 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 16:56:08.218 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 16:56:08.218 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 16:56:08.219 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:56:08.221 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:56:08.236 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 16:56:08.238 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 16:56:08.239 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 16:56:08.240 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 16:56:08.261 +02:00 [DBG] Connection id "0HN0HTGP9KU0L", Request id "0HN0HTGP9KU0L:00000001": started reading request body.
2024-01-10 16:56:08.262 +02:00 [DBG] Connection id "0HN0HTGP9KU0L", Request id "0HN0HTGP9KU0L:00000001": done reading request body.
2024-01-10 16:56:08.437 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 16:56:08.437 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 16:56:08.437 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 16:56:08.450 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 16:56:08.506 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "m",
  "LastName": "m",
  "Email": "m@gmail.com",
  "Username": "m",
  "Password": "m",
  "IsActive": true,
  "RoleId": 2
}
2024-01-10 16:56:08.589 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(l => l.Id != __id_0 && l.Username == __name_1)'
2024-01-10 16:56:09.036 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE (u.Id != @__id_0) && (u.Username == @__name_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 16:56:09.101 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:56:09.101 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:56:09.106 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-10 16:56:09.106 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:56:09.106 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:56:09.120 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 16:56:09.185 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 16:56:09.188 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:56:09.189 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-01-10 16:56:09.190 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:56:09.190 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 16:56:09.247 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 16:56:09.318 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 16:56:09.330 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 16:56:09.334 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 16:56:09.354 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 16:56:09.488 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:56:09.490 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:56:09.510 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 16:56:09.510 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 16:56:09.511 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-10 16:56:09.513 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RefreshToken], [RefreshTokenExpiryTime], [RoleId], [Token], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-01-10 16:56:09.581 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RefreshToken], [RefreshTokenExpiryTime], [RoleId], [Token], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-01-10 16:56:09.611 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 16:56:09.635 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:56:09.640 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 58ms reading results.
2024-01-10 16:56:09.652 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 16:56:09.653 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 16:56:09.671 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 16:56:09.677 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 16:56:09.682 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-10 16:56:09.688 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 1465.459ms
2024-01-10 16:56:09.690 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 16:56:09.697 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 1553.5823 ms
2024-01-10 16:56:09.718 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json-patch+json 155 - 200 0 - 1595.9290ms
2024-01-10 16:56:18.484 +02:00 [DBG] Connection id "0HN0HTGP9KU0L" received FIN.
2024-01-10 16:56:18.484 +02:00 [DBG] Connection id "0HN0HTGP9KU0L" is closed. The last processed stream ID was 1.
2024-01-10 16:56:18.484 +02:00 [DBG] Connection id "0HN0HTGP9KU0L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:56:18.488 +02:00 [DBG] Connection id "0HN0HTGP9KU0L" stopped.
2024-01-10 16:56:33.997 +02:00 [DBG] Connection id "0HN0HTGP9KU0M" accepted.
2024-01-10 16:56:33.998 +02:00 [DBG] Connection id "0HN0HTGP9KU0M" started.
2024-01-10 16:56:34.003 +02:00 [DBG] Connection 0HN0HTGP9KU0M established using the following protocol: "Tls12"
2024-01-10 16:56:34.004 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 348
2024-01-10 16:56:34.004 +02:00 [DBG] The request has an origin header: 'https://localhost:7137'.
2024-01-10 16:56:34.005 +02:00 [INF] CORS policy execution successful.
2024-01-10 16:56:34.005 +02:00 [DBG] POST requests are not supported
2024-01-10 16:56:34.008 +02:00 [DBG] POST requests are not supported
2024-01-10 16:56:34.015 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 16:56:34.015 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 16:56:34.016 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 16:56:34.016 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 16:56:34.022 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 16:56:34.022 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 16:56:34.022 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 16:56:34.022 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 16:56:34.022 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 16:56:34.022 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 16:56:34.023 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:56:34.025 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 16:56:34.026 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 16:56:34.026 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 16:56:34.026 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 16:56:34.026 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 16:56:34.026 +02:00 [DBG] Connection id "0HN0HTGP9KU0M", Request id "0HN0HTGP9KU0M:00000001": started reading request body.
2024-01-10 16:56:34.026 +02:00 [DBG] Connection id "0HN0HTGP9KU0M", Request id "0HN0HTGP9KU0M:00000001": done reading request body.
2024-01-10 16:56:34.062 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value "string" to type 'DataAccessLayer.Models.User'. Path 'role.users[0]', line 14, position 14.
 ---> System.ArgumentException: Could not cast or convert from System.String to DataAccessLayer.Models.User.
   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType)
   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateList(IList list, JsonReader reader, JsonArrayContract contract, JsonProperty containerProperty, String id)
2024-01-10 16:56:34.129 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 16:56:34.129 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 16:56:34.129 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 16:56:34.139 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 16:56:34.140 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 16:56:34.142 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 16:56:34.144 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 16:56:34.148 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 16:56:34.148 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 16:56:34.149 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 16:56:34.149 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 16:56:34.195 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 172.2604ms
2024-01-10 16:56:34.195 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 16:56:34.195 +02:00 [INF] HTTP POST /api/User/authenticate responded 400 in 186.7079 ms
2024-01-10 16:56:34.195 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 348 - 400 384 application/problem+json;+charset=utf-8 191.6788ms
2024-01-10 16:56:38.511 +02:00 [DBG] Connection id "0HN0HTGP9KU0M" received FIN.
2024-01-10 16:56:38.512 +02:00 [DBG] Connection id "0HN0HTGP9KU0M" is closed. The last processed stream ID was 1.
2024-01-10 16:56:38.512 +02:00 [DBG] Connection id "0HN0HTGP9KU0M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 16:56:38.520 +02:00 [DBG] Connection id "0HN0HTGP9KU0M" stopped.
2024-01-10 17:10:43.992 +02:00 [INF] Application starting up
2024-01-10 17:10:45.077 +02:00 [DBG] Hosting starting
2024-01-10 17:10:45.511 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 17:10:46.332 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 17:10:46.677 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-10 17:10:46.685 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:10:46.685 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:10:46.685 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:10:46.686 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:10:46.686 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:10:46.944 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 17:10:46.955 +02:00 [DBG] Creating DbConnection.
2024-01-10 17:10:46.962 +02:00 [DBG] Created DbConnection. (3ms).
2024-01-10 17:10:46.965 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:46.973 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:48.861 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:48.872 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 17:10:48.879 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2024-01-10 17:10:48.881 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2024-01-10 17:10:48.894 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:10:48.975 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:10:48.980 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:48.998 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (9ms).
2024-01-10 17:10:49.010 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 17:10:49.010 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:10:49.010 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:10:49.010 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.012 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.014 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:10:49.061 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:10:49.061 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.062 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:10:49.063 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.063 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.063 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 17:10:49.063 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 17:10:49.063 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 17:10:49.063 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:10:49.065 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:10:49.065 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.065 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:10:49.065 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 17:10:49.065 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:10:49.065 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:10:49.065 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.065 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.065 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:10:49.066 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:10:49.066 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.066 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:10:49.116 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 17:10:49.116 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:10:49.116 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:10:49.116 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.117 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.118 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 17:10:49.126 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 17:10:49.131 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.134 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-01-10 17:10:49.137 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:10:49.137 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:10:49.182 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 17:10:49.327 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 17:10:49.506 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 17:10:49.697 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 17:10:49.834 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 17:10:49.834 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 17:10:49.834 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 17:10:49.834 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 17:10:49.834 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 17:10:49.839 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 17:10:49.840 +02:00 [INF] Hosting environment: Development
2024-01-10 17:10:49.841 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 17:10:49.841 +02:00 [DBG] Hosting started
2024-01-10 17:10:49.965 +02:00 [DBG] Connection id "0HN0HTPAA56F5" accepted.
2024-01-10 17:10:49.965 +02:00 [DBG] Connection id "0HN0HTPAA56F6" accepted.
2024-01-10 17:10:49.967 +02:00 [DBG] Connection id "0HN0HTPAA56F6" started.
2024-01-10 17:10:49.967 +02:00 [DBG] Connection id "0HN0HTPAA56F5" started.
2024-01-10 17:10:51.016 +02:00 [DBG] Connection id "0HN0HTPAA56F7" accepted.
2024-01-10 17:10:51.016 +02:00 [DBG] Connection id "0HN0HTPAA56F7" started.
2024-01-10 17:10:51.076 +02:00 [DBG] Connection 0HN0HTPAA56F7 established using the following protocol: "Tls12"
2024-01-10 17:10:51.155 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 17:10:51.219 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 17:10:51.554 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 17:10:51.792 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 17:10:51.804 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 653.3098ms
2024-01-10 17:10:51.812 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 17:10:51.812 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 17:10:51.862 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 50.1731ms
2024-01-10 17:10:51.906 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 93.8504ms
2024-01-10 17:10:51.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 17:10:52.214 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 253.0728ms
2024-01-10 17:10:54.934 +02:00 [DBG] Connection id "0HN0HTPAA56F7" received FIN.
2024-01-10 17:10:54.935 +02:00 [DBG] Connection id "0HN0HTPAA56F7" is closed. The last processed stream ID was 7.
2024-01-10 17:10:54.935 +02:00 [DBG] Connection id "0HN0HTPAA56F7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 17:10:54.946 +02:00 [DBG] Connection id "0HN0HTPAA56F7" stopped.
2024-01-10 17:13:02.198 +02:00 [INF] Application starting up
2024-01-10 17:13:02.842 +02:00 [DBG] Hosting starting
2024-01-10 17:13:03.150 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 17:13:03.881 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 17:13:04.199 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:13:04.200 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:13:04.200 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:13:04.200 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:13:04.200 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:13:04.453 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 17:13:04.462 +02:00 [DBG] Creating DbConnection.
2024-01-10 17:13:04.469 +02:00 [DBG] Created DbConnection. (2ms).
2024-01-10 17:13:04.471 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.478 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.577 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.589 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 17:13:04.596 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2024-01-10 17:13:04.599 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2024-01-10 17:13:04.608 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:13:04.648 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:13:04.652 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.664 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (7ms).
2024-01-10 17:13:04.670 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 17:13:04.670 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:13:04.670 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:13:04.670 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.671 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.672 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:13:04.703 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:13:04.703 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.704 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:13:04.705 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.705 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.705 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 17:13:04.705 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 17:13:04.705 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 17:13:04.705 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:13:04.707 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:13:04.708 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.708 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:13:04.708 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 17:13:04.708 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:13:04.708 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:13:04.708 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.708 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.708 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:13:04.709 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:13:04.709 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.709 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:13:04.732 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 17:13:04.732 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:13:04.732 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:13:04.732 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.732 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.733 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 17:13:04.739 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 17:13:04.744 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.747 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-01-10 17:13:04.748 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:13:04.748 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:13:04.791 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 17:13:04.890 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 17:13:05.038 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 17:13:05.160 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 17:13:05.297 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 17:13:05.297 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 17:13:05.297 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 17:13:05.297 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 17:13:05.297 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 17:13:05.300 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 17:13:05.301 +02:00 [INF] Hosting environment: Development
2024-01-10 17:13:05.301 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 17:13:05.301 +02:00 [DBG] Hosting started
2024-01-10 17:13:05.312 +02:00 [DBG] Connection id "0HN0HTQIKVI08" received FIN.
2024-01-10 17:13:05.322 +02:00 [DBG] Connection id "0HN0HTQIKVI08" accepted.
2024-01-10 17:13:05.324 +02:00 [DBG] Connection id "0HN0HTQIKVI08" started.
2024-01-10 17:13:05.344 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 17:13:05.656 +02:00 [DBG] Connection id "0HN0HTQIKVI08" stopped.
2024-01-10 17:13:05.660 +02:00 [DBG] Connection id "0HN0HTQIKVI08" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 17:13:05.752 +02:00 [DBG] Connection id "0HN0HTQIKVI09" accepted.
2024-01-10 17:13:05.752 +02:00 [DBG] Connection id "0HN0HTQIKVI09" started.
2024-01-10 17:13:05.840 +02:00 [DBG] Connection 0HN0HTQIKVI09 established using the following protocol: "Tls12"
2024-01-10 17:13:05.962 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 17:13:06.012 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 17:13:06.349 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 17:13:06.503 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 17:13:06.505 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 17:13:06.517 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 17:13:06.526 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 18.7377ms
2024-01-10 17:13:06.527 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 569.7548ms
2024-01-10 17:13:06.581 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 76.8720ms
2024-01-10 17:13:06.631 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 17:13:06.842 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 211.2344ms
2024-01-10 17:13:10.148 +02:00 [DBG] Connection id "0HN0HTQIKVI09" received FIN.
2024-01-10 17:13:10.149 +02:00 [DBG] Connection id "0HN0HTQIKVI09" is closed. The last processed stream ID was 7.
2024-01-10 17:13:10.149 +02:00 [DBG] Connection id "0HN0HTQIKVI09" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 17:13:10.154 +02:00 [DBG] Connection id "0HN0HTQIKVI09" stopped.
2024-01-10 17:13:37.303 +02:00 [DBG] Connection id "0HN0HTQIKVI0A" accepted.
2024-01-10 17:13:37.303 +02:00 [DBG] Connection id "0HN0HTQIKVI0A" started.
2024-01-10 17:13:37.309 +02:00 [DBG] Connection 0HN0HTQIKVI0A established using the following protocol: "Tls12"
2024-01-10 17:13:37.316 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 41
2024-01-10 17:13:37.318 +02:00 [DBG] The request has an origin header: 'https://localhost:7137'.
2024-01-10 17:13:37.318 +02:00 [INF] CORS policy execution successful.
2024-01-10 17:13:37.321 +02:00 [DBG] POST requests are not supported
2024-01-10 17:13:37.322 +02:00 [DBG] POST requests are not supported
2024-01-10 17:13:37.389 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 17:13:37.389 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 17:13:37.391 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 17:13:37.392 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 17:13:37.436 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 17:13:37.437 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 17:13:37.437 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 17:13:37.437 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 17:13:37.437 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 17:13:37.437 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 17:13:37.439 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 17:13:37.442 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 17:13:37.461 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 17:13:37.464 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 17:13:37.464 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 17:13:37.465 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 17:13:37.488 +02:00 [DBG] Connection id "0HN0HTQIKVI0A", Request id "0HN0HTQIKVI0A:00000001": started reading request body.
2024-01-10 17:13:37.488 +02:00 [DBG] Connection id "0HN0HTQIKVI0A", Request id "0HN0HTQIKVI0A:00000001": done reading request body.
2024-01-10 17:13:37.649 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 17:13:37.649 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 17:13:37.649 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 17:13:37.665 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 17:15:39.370 +02:00 [INF] Application starting up
2024-01-10 17:15:40.029 +02:00 [DBG] Hosting starting
2024-01-10 17:15:40.312 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 17:15:41.126 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 17:15:41.482 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:15:41.482 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:15:41.482 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:15:41.482 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:15:41.482 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:15:41.786 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 17:15:41.807 +02:00 [DBG] Creating DbConnection.
2024-01-10 17:15:41.818 +02:00 [DBG] Created DbConnection. (4ms).
2024-01-10 17:15:41.822 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:41.833 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:41.926 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:41.938 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 17:15:41.945 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2024-01-10 17:15:41.947 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2024-01-10 17:15:41.957 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:15:42.005 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:15:42.009 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.021 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (7ms).
2024-01-10 17:15:42.027 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 17:15:42.027 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:15:42.027 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:15:42.028 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.029 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.030 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:15:42.067 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:15:42.067 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.069 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 17:15:42.070 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.070 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.070 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 17:15:42.070 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 17:15:42.070 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 17:15:42.070 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:15:42.071 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:15:42.072 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.072 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:15:42.072 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 17:15:42.072 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:15:42.072 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:15:42.072 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.072 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.072 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:15:42.072 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:15:42.073 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.073 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:15:42.101 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 17:15:42.101 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:15:42.101 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:15:42.101 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.101 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.102 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 17:15:42.110 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 17:15:42.118 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.123 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 8ms reading results.
2024-01-10 17:15:42.123 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:15:42.123 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:15:42.158 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 17:15:42.248 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 17:15:42.391 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 17:15:42.512 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 17:15:42.642 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 17:15:42.642 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 17:15:42.642 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 17:15:42.642 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 17:15:42.642 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 17:15:42.645 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 17:15:42.646 +02:00 [INF] Hosting environment: Development
2024-01-10 17:15:42.646 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 17:15:42.646 +02:00 [DBG] Hosting started
2024-01-10 17:15:42.913 +02:00 [DBG] Connection id "0HN0HTS1JVE5G" received FIN.
2024-01-10 17:15:42.923 +02:00 [DBG] Connection id "0HN0HTS1JVE5G" accepted.
2024-01-10 17:15:42.925 +02:00 [DBG] Connection id "0HN0HTS1JVE5G" started.
2024-01-10 17:15:42.956 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 17:15:42.993 +02:00 [DBG] Connection id "0HN0HTS1JVE5G" stopped.
2024-01-10 17:15:42.996 +02:00 [DBG] Connection id "0HN0HTS1JVE5G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 17:15:43.142 +02:00 [DBG] Connection id "0HN0HTS1JVE5H" accepted.
2024-01-10 17:15:43.142 +02:00 [DBG] Connection id "0HN0HTS1JVE5H" started.
2024-01-10 17:15:43.217 +02:00 [DBG] Connection 0HN0HTS1JVE5H established using the following protocol: "Tls12"
2024-01-10 17:15:43.314 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 17:15:43.359 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 17:15:43.690 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 17:15:43.856 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 17:15:43.856 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 17:15:43.860 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 17:15:43.878 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 574.4459ms
2024-01-10 17:15:43.878 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 15.8945ms
2024-01-10 17:15:43.896 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.8336ms
2024-01-10 17:15:43.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 17:15:44.204 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 240.3662ms
2024-01-10 17:15:50.367 +02:00 [DBG] Connection id "0HN0HTS1JVE5H" received FIN.
2024-01-10 17:15:50.367 +02:00 [DBG] Connection id "0HN0HTS1JVE5H" is closed. The last processed stream ID was 7.
2024-01-10 17:15:50.368 +02:00 [DBG] Connection id "0HN0HTS1JVE5H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 17:15:50.370 +02:00 [DBG] Connection id "0HN0HTS1JVE5H" stopped.
2024-01-10 17:16:04.950 +02:00 [DBG] Connection id "0HN0HTS1JVE5I" accepted.
2024-01-10 17:16:04.950 +02:00 [DBG] Connection id "0HN0HTS1JVE5I" started.
2024-01-10 17:16:04.958 +02:00 [DBG] Connection 0HN0HTS1JVE5I established using the following protocol: "Tls12"
2024-01-10 17:16:04.967 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 41
2024-01-10 17:16:04.975 +02:00 [DBG] The request has an origin header: 'https://localhost:7137'.
2024-01-10 17:16:04.975 +02:00 [INF] CORS policy execution successful.
2024-01-10 17:16:04.977 +02:00 [DBG] POST requests are not supported
2024-01-10 17:16:04.979 +02:00 [DBG] POST requests are not supported
2024-01-10 17:16:05.017 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 17:16:05.018 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 17:16:05.019 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 17:16:05.019 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 17:16:05.050 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 17:16:05.051 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 17:16:05.051 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 17:16:05.052 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 17:16:05.052 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 17:16:05.052 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 17:16:05.053 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 17:16:05.055 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 17:16:05.071 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 17:16:05.073 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 17:16:05.074 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 17:16:05.075 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 17:16:05.093 +02:00 [DBG] Connection id "0HN0HTS1JVE5I", Request id "0HN0HTS1JVE5I:00000001": started reading request body.
2024-01-10 17:16:05.093 +02:00 [DBG] Connection id "0HN0HTS1JVE5I", Request id "0HN0HTS1JVE5I:00000001": done reading request body.
2024-01-10 17:16:05.221 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 17:16:05.221 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 17:16:05.221 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 17:16:05.232 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 17:16:05.373 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Username == __userObj_Username_0)'
2024-01-10 17:16:05.843 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FirstName (string), 2], [Property: User.IsActive (bool?) ValueGenerated.OnAdd, 3], [Property: User.LastName (string), 4], [Property: User.Password (string), 5], [Property: User.RefreshToken (string), 6], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 7], [Property: User.RoleId (int?) FK Index, 8], [Property: User.Token (string), 9], [Property: User.Username (string) Index, 10] }
            SELECT TOP(1) u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RefreshToken, u.RefreshTokenExpiryTime, u.RoleId, u.Token, u.Username
            FROM Users AS u
            WHERE u.Username == @__userObj_Username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        DataAccessLayer.InternshipContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-10 17:16:05.934 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 17:16:05.934 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:16:05.940 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-10 17:16:05.950 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:16:05.951 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:16:05.959 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 17:16:06.068 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 17:16:06.138 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 17:16:06.200 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:16:06.201 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 133ms reading results.
2024-01-10 17:16:06.209 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:16:06.210 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 17:16:06.462 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(a => a.RefreshToken == __refreshToken_0)'
2024-01-10 17:16:06.468 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 17:16:06.480 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 17:16:06.480 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:16:06.480 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:16:06.480 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:16:06.481 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:16:06.481 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 17:16:06.517 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 17:16:06.518 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:16:06.518 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 17:16:06.518 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:16:06.518 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:16:06.527 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 17:16:06.538 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 17:16:06.572 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 17:16:06.585 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 17:16:06.588 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 17:16:06.593 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 17:16:06.599 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 17:16:06.712 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:16:06.712 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:16:06.721 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 17:16:06.721 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:16:06.723 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-10 17:16:06.725 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 17:16:06.740 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 17:16:06.761 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:16:06.762 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 20ms reading results.
2024-01-10 17:16:06.766 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:16:06.766 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:16:06.786 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 17:16:06.791 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 17:16:06.803 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 17:16:06.806 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 17:16:06.806 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 17:16:06.806 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 17:16:06.807 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 17:16:06.807 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 17:16:06.866 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 1808.9675ms
2024-01-10 17:16:06.867 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 17:16:06.870 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 1885.1329 ms
2024-01-10 17:16:06.883 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 41 - 200 299 application/json;+charset=utf-8 1916.1868ms
2024-01-10 17:16:10.386 +02:00 [DBG] Connection id "0HN0HTS1JVE5I" received FIN.
2024-01-10 17:16:10.387 +02:00 [DBG] Connection id "0HN0HTS1JVE5I" is closed. The last processed stream ID was 1.
2024-01-10 17:16:10.387 +02:00 [DBG] Connection id "0HN0HTS1JVE5I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 17:16:10.395 +02:00 [DBG] Connection id "0HN0HTS1JVE5I" stopped.
2024-01-10 17:17:10.294 +02:00 [INF] Application starting up
2024-01-10 17:17:11.270 +02:00 [DBG] Hosting starting
2024-01-10 17:17:11.772 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 17:17:12.905 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 17:17:13.457 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:17:13.457 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:17:13.458 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:17:13.458 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:17:13.458 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 17:17:13.973 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 17:17:14.360 +02:00 [DBG] Creating DbConnection.
2024-01-10 17:17:14.369 +02:00 [DBG] Created DbConnection. (50ms).
2024-01-10 17:17:14.372 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:14.487 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.129 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.141 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 17:17:15.149 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2024-01-10 17:17:15.152 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (16ms).
2024-01-10 17:17:15.167 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:17:15.253 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:17:15.260 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.285 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (13ms).
2024-01-10 17:17:15.299 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 17:17:15.300 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:17:15.300 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:17:15.300 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.303 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.307 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:17:15.359 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:17:15.359 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.360 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:17:15.361 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.361 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.361 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 17:17:15.361 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 17:17:15.361 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 17:17:15.361 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:17:15.363 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 17:17:15.363 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.363 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:17:15.363 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 17:17:15.364 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:17:15.364 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 17:17:15.364 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.364 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.364 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:17:15.364 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 17:17:15.364 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.364 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:17:15.408 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 17:17:15.409 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:17:15.409 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:17:15.409 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.409 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.410 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 17:17:15.416 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 17:17:15.426 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.430 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-01-10 17:17:15.430 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:15.430 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:17:15.481 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 17:17:15.651 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 17:17:16.936 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 17:17:18.445 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 17:17:18.574 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 17:17:18.574 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 17:17:18.574 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 17:17:18.574 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 17:17:18.574 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 17:17:18.581 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 17:17:18.583 +02:00 [INF] Hosting environment: Development
2024-01-10 17:17:18.584 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 17:17:18.584 +02:00 [DBG] Hosting started
2024-01-10 17:17:18.879 +02:00 [DBG] Connection id "0HN0HTSU74VI3" accepted.
2024-01-10 17:17:18.880 +02:00 [DBG] Connection id "0HN0HTSU74VI3" started.
2024-01-10 17:17:18.882 +02:00 [DBG] Connection id "0HN0HTSU74VI4" accepted.
2024-01-10 17:17:18.882 +02:00 [DBG] Connection id "0HN0HTSU74VI4" started.
2024-01-10 17:17:18.899 +02:00 [DBG] Connection id "0HN0HTSU74VI4" received FIN.
2024-01-10 17:17:18.899 +02:00 [DBG] Connection id "0HN0HTSU74VI3" received FIN.
2024-01-10 17:17:18.937 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 17:17:18.937 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 17:17:19.052 +02:00 [DBG] Connection id "0HN0HTSU74VI3" stopped.
2024-01-10 17:17:19.052 +02:00 [DBG] Connection id "0HN0HTSU74VI4" stopped.
2024-01-10 17:17:19.054 +02:00 [DBG] Connection id "0HN0HTSU74VI3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 17:17:19.054 +02:00 [DBG] Connection id "0HN0HTSU74VI4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 17:17:19.547 +02:00 [DBG] Connection id "0HN0HTSU74VI5" accepted.
2024-01-10 17:17:19.547 +02:00 [DBG] Connection id "0HN0HTSU74VI5" started.
2024-01-10 17:17:19.622 +02:00 [DBG] Connection 0HN0HTSU74VI5 established using the following protocol: "Tls12"
2024-01-10 17:17:19.747 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 17:17:19.789 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 17:17:20.081 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 17:17:20.247 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 17:17:20.257 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 512.7498ms
2024-01-10 17:17:20.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 17:17:20.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 17:17:20.286 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 26.3183ms
2024-01-10 17:17:20.303 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.0514ms
2024-01-10 17:17:20.391 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 17:17:20.600 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 208.5714ms
2024-01-10 17:17:36.533 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 41
2024-01-10 17:17:36.534 +02:00 [DBG] The request has an origin header: 'https://localhost:7137'.
2024-01-10 17:17:36.535 +02:00 [INF] CORS policy execution successful.
2024-01-10 17:17:36.539 +02:00 [DBG] POST requests are not supported
2024-01-10 17:17:36.542 +02:00 [DBG] POST requests are not supported
2024-01-10 17:17:36.583 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 17:17:36.584 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 17:17:36.584 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 17:17:36.585 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 17:17:36.621 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 17:17:36.622 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 17:17:36.622 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 17:17:36.623 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 17:17:36.623 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 17:17:36.623 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 17:17:36.624 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 17:17:36.626 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 17:17:36.642 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 17:17:36.645 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 17:17:36.645 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 17:17:36.646 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 17:17:36.670 +02:00 [DBG] Connection id "0HN0HTSU74VI5", Request id "0HN0HTSU74VI5:00000009": started reading request body.
2024-01-10 17:17:36.671 +02:00 [DBG] Connection id "0HN0HTSU74VI5", Request id "0HN0HTSU74VI5:00000009": done reading request body.
2024-01-10 17:17:36.830 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 17:17:36.830 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 17:17:36.830 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 17:17:36.843 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 17:17:36.982 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Username == __userObj_Username_0)'
2024-01-10 17:17:37.420 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FirstName (string), 2], [Property: User.IsActive (bool?) ValueGenerated.OnAdd, 3], [Property: User.LastName (string), 4], [Property: User.Password (string), 5], [Property: User.RefreshToken (string), 6], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 7], [Property: User.RoleId (int?) FK Index, 8], [Property: User.Token (string), 9], [Property: User.Username (string) Index, 10] }
            SELECT TOP(1) u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RefreshToken, u.RefreshTokenExpiryTime, u.RoleId, u.Token, u.Username
            FROM Users AS u
            WHERE u.Username == @__userObj_Username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        DataAccessLayer.InternshipContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-10 17:17:37.493 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 17:17:37.493 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:17:37.497 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-10 17:17:37.505 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:37.506 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:37.513 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 17:17:37.598 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 17:17:37.642 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 17:17:37.692 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:37.693 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 94ms reading results.
2024-01-10 17:17:37.698 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:37.699 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:17:37.903 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(a => a.RefreshToken == __refreshToken_0)'
2024-01-10 17:17:37.909 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 17:17:37.919 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 17:17:37.919 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:17:37.919 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:17:37.919 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:37.920 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:37.920 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 17:17:37.923 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 17:17:37.924 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:37.924 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 17:17:37.924 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:37.924 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:17:37.931 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 17:17:37.934 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 17:17:37.954 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 17:17:37.964 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 17:17:37.967 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 17:17:37.971 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 17:17:37.974 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 17:17:38.084 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:38.084 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:38.089 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 17:17:38.090 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:17:38.090 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 17:17:38.091 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 17:17:38.099 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 17:17:38.111 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:38.111 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 12ms reading results.
2024-01-10 17:17:38.113 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 17:17:38.113 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 17:17:38.123 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 17:17:38.127 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 17:17:38.133 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 17:17:38.136 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 17:17:38.136 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 17:17:38.136 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 17:17:38.136 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 17:17:38.136 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 17:17:38.147 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 1515.2539ms
2024-01-10 17:17:38.150 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 17:17:38.153 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 1604.6897 ms
2024-01-10 17:17:38.165 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 41 - 200 - text/plain;+charset=utf-8 1631.4827ms
2024-01-10 18:20:51.758 +02:00 [INF] Application starting up
2024-01-10 18:20:52.619 +02:00 [DBG] Hosting starting
2024-01-10 18:20:52.997 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 18:20:53.850 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 18:20:54.173 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 18:20:54.173 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 18:20:54.174 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 18:20:54.174 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 18:20:54.174 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 18:20:54.442 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 18:20:54.454 +02:00 [DBG] Creating DbConnection.
2024-01-10 18:20:54.461 +02:00 [DBG] Created DbConnection. (3ms).
2024-01-10 18:20:54.463 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:54.470 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.648 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.663 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 18:20:55.671 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2024-01-10 18:20:55.673 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2024-01-10 18:20:55.689 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 18:20:55.748 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 18:20:55.754 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.773 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (11ms).
2024-01-10 18:20:55.782 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 18:20:55.783 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 18:20:55.783 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 18:20:55.783 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.785 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.786 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 18:20:55.851 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 18:20:55.851 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.853 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 18:20:55.855 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.855 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.856 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 18:20:55.856 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 18:20:55.856 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 18:20:55.856 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 18:20:55.859 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 18:20:55.859 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.859 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 18:20:55.859 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 18:20:55.859 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 18:20:55.860 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 18:20:55.860 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.860 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.860 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 18:20:55.861 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 18:20:55.861 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.861 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 18:20:55.896 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 18:20:55.896 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 18:20:55.896 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 18:20:55.896 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.896 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.898 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 18:20:55.904 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 18:20:55.911 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.914 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-01-10 18:20:55.914 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:20:55.914 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 18:20:55.955 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 18:20:56.115 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 18:20:56.268 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 18:20:56.426 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 18:20:56.568 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 18:20:56.568 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 18:20:56.568 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 18:20:56.568 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 18:20:56.568 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 18:20:56.572 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 18:20:56.573 +02:00 [INF] Hosting environment: Development
2024-01-10 18:20:56.573 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 18:20:56.573 +02:00 [DBG] Hosting started
2024-01-10 18:20:56.717 +02:00 [DBG] Connection id "0HN0HV0G0T53S" received FIN.
2024-01-10 18:20:56.721 +02:00 [DBG] Connection id "0HN0HV0G0T53S" accepted.
2024-01-10 18:20:56.724 +02:00 [DBG] Connection id "0HN0HV0G0T53S" started.
2024-01-10 18:20:56.748 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 18:20:56.827 +02:00 [DBG] Connection id "0HN0HV0G0T53S" stopped.
2024-01-10 18:20:56.831 +02:00 [DBG] Connection id "0HN0HV0G0T53S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 18:20:57.335 +02:00 [DBG] Connection id "0HN0HV0G0T53T" accepted.
2024-01-10 18:20:57.335 +02:00 [DBG] Connection id "0HN0HV0G0T53T" started.
2024-01-10 18:20:57.432 +02:00 [DBG] Connection 0HN0HV0G0T53T established using the following protocol: "Tls12"
2024-01-10 18:20:57.514 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 18:20:57.564 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 18:20:57.887 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 18:20:58.064 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 18:20:58.088 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 564.6423ms
2024-01-10 18:20:58.088 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 18:20:58.088 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 18:20:58.114 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 26.1329ms
2024-01-10 18:20:58.131 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.1680ms
2024-01-10 18:20:58.213 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 18:20:58.437 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 224.0553ms
2024-01-10 18:21:01.915 +02:00 [DBG] Connection id "0HN0HV0G0T53T" received FIN.
2024-01-10 18:21:01.915 +02:00 [DBG] Connection id "0HN0HV0G0T53T" is closed. The last processed stream ID was 7.
2024-01-10 18:21:01.916 +02:00 [DBG] Connection id "0HN0HV0G0T53T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 18:21:01.922 +02:00 [DBG] Connection id "0HN0HV0G0T53T" stopped.
2024-01-10 18:29:12.470 +02:00 [DBG] Connection id "0HN0HV0G0T53U" accepted.
2024-01-10 18:29:12.471 +02:00 [DBG] Connection id "0HN0HV0G0T53U" started.
2024-01-10 18:29:12.511 +02:00 [DBG] Connection 0HN0HV0G0T53U established using the following protocol: "Tls12"
2024-01-10 18:29:12.516 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getAll - -
2024-01-10 18:29:12.524 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 18:29:12.535 +02:00 [DBG] The request path /api/User/getAll does not match a supported file type
2024-01-10 18:29:12.582 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getAll'
2024-01-10 18:29:12.582 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)' with route pattern 'api/User/getAll' is valid for the request path '/api/User/getAll'
2024-01-10 18:29:12.582 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getAll'
2024-01-10 18:29:12.583 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 18:29:12.584 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 18:29:12.615 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersAsync() on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 18:29:12.617 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 18:29:12.617 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 18:29:12.617 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 18:29:12.617 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 18:29:12.617 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 18:29:12.618 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 18:29:12.622 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 18:29:12.625 +02:00 [INF] GetAllUsers
2024-01-10 18:29:12.698 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)'
2024-01-10 18:29:12.929 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-10 18:29:13.277 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FirstName (string), 2], [Property: User.IsActive (bool?) ValueGenerated.OnAdd, 3], [Property: User.LastName (string), 4], [Property: User.Password (string), 5], [Property: User.RefreshToken (string), 6], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 7], [Property: User.RoleId (int?) FK Index, 8], [Property: User.Token (string), 9], [Property: User.Username (string) Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Role.RoleType (string) Required, 12] }
        SELECT u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RefreshToken, u.RefreshTokenExpiryTime, u.RoleId, u.Token, u.Username, r.Id, r.RoleType
        FROM Users AS u
        LEFT JOIN Roles AS r ON u.RoleId == r.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 18:29:13.334 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 18:29:13.334 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 18:29:13.334 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 18:29:13.343 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:29:13.424 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:29:13.427 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-10 18:29:13.491 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-10 18:29:13.541 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 18:29:13.600 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 18:29:13.608 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 18:29:13.612 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 18:29:13.612 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 18:29:13.612 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 18:29:13.621 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:29:13.623 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 132ms reading results.
2024-01-10 18:29:13.629 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 18:29:13.630 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 18:29:13.637 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 18:29:13.640 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 18:29:13.640 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 18:29:13.640 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 18:29:13.641 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 18:29:13.641 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.UserGetDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 18:29:13.817 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersAsync (WebApi) in 1195.0375ms
2024-01-10 18:29:13.819 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 18:29:13.823 +02:00 [INF] HTTP GET /api/User/getAll responded 200 in 1280.7536 ms
2024-01-10 18:29:13.838 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getAll - - - 200 173 application/json;+charset=utf-8 1322.4811ms
2024-01-10 18:46:14.012 +02:00 [DBG] Connection id "0HN0HV0G0T53U" received FIN.
2024-01-10 18:46:14.163 +02:00 [DBG] Connection id "0HN0HV0G0T53U" is closed. The last processed stream ID was 1.
2024-01-10 18:46:14.180 +02:00 [DBG] Connection id "0HN0HV0G0T53U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 18:46:14.355 +02:00 [DBG] Connection id "0HN0HV0G0T53U" stopped.
2024-01-10 19:42:24.293 +02:00 [DBG] Connection id "0HN0HV0G0T53V" accepted.
2024-01-10 19:42:24.310 +02:00 [DBG] Connection id "0HN0HV0G0T53V" started.
2024-01-10 19:42:24.390 +02:00 [DBG] Connection 0HN0HV0G0T53V established using the following protocol: "Tls12"
2024-01-10 19:42:34.130 +02:00 [DBG] Connection id "0HN0HV0G0T53V" received FIN.
2024-01-10 19:42:34.132 +02:00 [DBG] Connection id "0HN0HV0G0T53V" is closed. The last processed stream ID was 0.
2024-01-10 19:42:34.135 +02:00 [DBG] Connection id "0HN0HV0G0T53V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:42:34.137 +02:00 [DBG] Connection id "0HN0HV0G0T53V" stopped.
2024-01-10 19:46:59.770 +02:00 [DBG] Connection id "0HN0HV0G0T540" accepted.
2024-01-10 19:46:59.770 +02:00 [DBG] Connection id "0HN0HV0G0T540" started.
2024-01-10 19:46:59.916 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 19:46:59.940 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:46:59.940 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:46:59.950 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 19:46:59.953 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 19:46:59.960 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 19:46:59.960 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 19:46:59.961 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 19:47:00.012 +02:00 [DBG] New connection SC5SEszFEvgLLTo_yukzVw created.
2024-01-10 19:47:00.043 +02:00 [DBG] Establishing new connection.
2024-01-10 19:47:00.099 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 19:47:00.117 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 19:47:00.168 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 19:47:00.177 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 19:47:00.234 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 19:47:00.285 +02:00 [DBG] Compiling query expression: 
'DbSet<DeviceReading>()
    .Where(d => !(d.IsAlertRead) && d.AlertType != null)
    .Count()'
2024-01-10 19:47:00.415 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM DeviceReadings AS d
            WHERE Not(d.IsAlertRead) && (d.AlertType != NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccessLayer.InternshipContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-10 19:47:00.458 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:47:00.458 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:47:00.458 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:47:00.458 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:02.309 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:02.313 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:47:02.323 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:47:02.327 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:02.327 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-01-10 19:47:02.327 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:02.328 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:47:09.530 +02:00 [DBG] Connection id "0HN0HV0G0T541" accepted.
2024-01-10 19:47:09.530 +02:00 [DBG] Connection id "0HN0HV0G0T541" started.
2024-01-10 19:47:09.538 +02:00 [DBG] Connection 0HN0HV0G0T541 established using the following protocol: "Tls12"
2024-01-10 19:47:09.542 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 19:47:09.542 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:47:09.542 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:47:09.542 +02:00 [DBG] The request is a preflight request.
2024-01-10 19:47:09.546 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 3.2792ms
2024-01-10 19:47:09.550 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 19:47:09.551 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:47:09.551 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:47:09.553 +02:00 [DBG] POST requests are not supported
2024-01-10 19:47:09.553 +02:00 [DBG] POST requests are not supported
2024-01-10 19:47:09.556 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 19:47:09.556 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 19:47:09.557 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:47:09.557 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:47:09.607 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 19:47:09.608 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 19:47:09.608 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 19:47:09.608 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 19:47:09.608 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 19:47:09.608 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 19:47:09.609 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:47:09.610 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:47:09.619 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 19:47:09.623 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 19:47:09.625 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 19:47:09.625 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 19:47:09.646 +02:00 [DBG] Connection id "0HN0HV0G0T541", Request id "0HN0HV0G0T541:00000003": started reading request body.
2024-01-10 19:47:09.647 +02:00 [DBG] Connection id "0HN0HV0G0T541", Request id "0HN0HV0G0T541:00000003": done reading request body.
2024-01-10 19:47:09.713 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:47:09.713 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:47:09.713 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 19:47:09.733 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:47:09.745 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Username == __userObj_Username_0)'
2024-01-10 19:47:09.757 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FirstName (string), 2], [Property: User.IsActive (bool?) ValueGenerated.OnAdd, 3], [Property: User.LastName (string), 4], [Property: User.Password (string), 5], [Property: User.RefreshToken (string), 6], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 7], [Property: User.RoleId (int?) FK Index, 8], [Property: User.Token (string), 9], [Property: User.Username (string) Index, 10] }
            SELECT TOP(1) u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RefreshToken, u.RefreshTokenExpiryTime, u.RoleId, u.Token, u.Username
            FROM Users AS u
            WHERE u.Username == @__userObj_Username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        DataAccessLayer.InternshipContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-10 19:47:09.766 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:47:09.766 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:47:09.787 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2024-01-10 19:47:09.787 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:09.787 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:09.804 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 19:47:09.934 +02:00 [INF] Executed DbCommand (147ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 19:47:09.934 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:47:09.936 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:09.937 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-01-10 19:47:09.938 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:09.938 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:47:10.183 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(a => a.RefreshToken == __refreshToken_0)'
2024-01-10 19:47:10.190 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 19:47:10.202 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:47:10.202 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:47:10.203 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:47:10.203 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:10.203 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:10.203 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 19:47:10.207 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 19:47:10.209 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:10.209 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-10 19:47:10.209 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:10.209 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:47:10.227 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 19:47:10.234 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 19:47:10.260 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:47:10.272 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:47:10.277 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:47:10.281 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:47:10.283 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 19:47:10.408 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:10.408 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:10.415 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:47:10.415 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:47:10.417 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-10 19:47:10.418 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 19:47:10.426 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 19:47:10.444 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:10.444 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 17ms reading results.
2024-01-10 19:47:10.446 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:47:10.446 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:47:10.458 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:47:10.464 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 19:47:10.465 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 19:47:10.465 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 19:47:10.465 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 19:47:10.465 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 19:47:10.465 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 19:47:10.465 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 19:47:10.466 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 857.762ms
2024-01-10 19:47:10.466 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:47:10.466 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 913.5462 ms
2024-01-10 19:47:10.467 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 917.0554ms
2024-01-10 19:47:14.439 +02:00 [DBG] Connection id "0HN0HV0G0T541" received FIN.
2024-01-10 19:47:14.440 +02:00 [DBG] Connection id "0HN0HV0G0T541" is closed. The last processed stream ID was 3.
2024-01-10 19:47:14.441 +02:00 [DBG] Connection id "0HN0HV0G0T541" stopped.
2024-01-10 19:47:14.441 +02:00 [DBG] Connection id "0HN0HV0G0T541" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:49:14.186 +02:00 [DBG] Connection id "0HN0HV0G0T540" received FIN.
2024-01-10 19:49:14.186 +02:00 [DBG] Connection id "0HN0HV0G0T540" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:49:14.187 +02:00 [DBG] Connection id "0HN0HV0G0T540" disconnecting.
2024-01-10 19:49:14.190 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 19:49:14.195 +02:00 [DBG] Socket closed.
2024-01-10 19:49:14.210 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 19:49:14.221 +02:00 [DBG] Removing connection SC5SEszFEvgLLTo_yukzVw from the list of connections.
2024-01-10 19:49:14.225 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 19:49:14.225 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 134272.5094 ms
2024-01-10 19:49:14.226 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 134312.2419ms
2024-01-10 19:49:14.226 +02:00 [DBG] Connection id "0HN0HV0G0T540" stopped.
2024-01-10 19:49:14.570 +02:00 [DBG] Connection id "0HN0HV0G0T542" accepted.
2024-01-10 19:49:14.570 +02:00 [DBG] Connection id "0HN0HV0G0T542" started.
2024-01-10 19:49:14.571 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 19:49:14.571 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:49:14.571 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:49:14.571 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 19:49:14.571 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 19:49:14.571 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 19:49:14.571 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 19:49:14.571 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 19:49:14.571 +02:00 [DBG] New connection dOmfAwXrwFa1jIDNvxteow created.
2024-01-10 19:49:14.572 +02:00 [DBG] Establishing new connection.
2024-01-10 19:49:14.572 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 19:49:14.572 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 19:49:14.596 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 19:49:14.596 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 19:49:14.598 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 19:49:14.603 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:49:14.603 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:49:14.603 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:49:14.603 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:49:14.603 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:49:14.603 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:49:14.606 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:49:14.606 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:49:14.607 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:49:14.607 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:49:14.607 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:50:05.159 +02:00 [DBG] Connection id "0HN0HV0G0T542" received FIN.
2024-01-10 19:50:05.159 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 19:50:05.214 +02:00 [DBG] Connection id "0HN0HV0G0T542" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:50:05.216 +02:00 [DBG] Connection id "0HN0HV0G0T542" disconnecting.
2024-01-10 19:50:05.221 +02:00 [DBG] Socket closed.
2024-01-10 19:50:05.222 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 19:50:05.258 +02:00 [DBG] Removing connection dOmfAwXrwFa1jIDNvxteow from the list of connections.
2024-01-10 19:50:05.258 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 19:50:05.258 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 50687.3683 ms
2024-01-10 19:50:05.259 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 50687.7145ms
2024-01-10 19:50:05.259 +02:00 [DBG] Connection id "0HN0HV0G0T542" stopped.
2024-01-10 19:50:05.399 +02:00 [DBG] Connection id "0HN0HV0G0T543" accepted.
2024-01-10 19:50:05.399 +02:00 [DBG] Connection id "0HN0HV0G0T543" started.
2024-01-10 19:50:05.399 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 19:50:05.399 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:50:05.399 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:50:05.400 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 19:50:05.400 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 19:50:05.400 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 19:50:05.400 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 19:50:05.400 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 19:50:05.400 +02:00 [DBG] New connection DQw9ksIdopCzFLKMtPTc4Q created.
2024-01-10 19:50:05.400 +02:00 [DBG] Establishing new connection.
2024-01-10 19:50:05.400 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 19:50:05.400 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 19:50:05.409 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 19:50:05.409 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 19:50:05.412 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 19:50:05.413 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:50:05.413 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:50:05.413 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:50:05.413 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:05.413 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:05.413 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:50:05.416 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:50:05.416 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:05.416 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:50:05.417 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:05.417 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:50:09.653 +02:00 [DBG] Connection id "0HN0HV0G0T544" accepted.
2024-01-10 19:50:09.653 +02:00 [DBG] Connection id "0HN0HV0G0T544" started.
2024-01-10 19:50:09.663 +02:00 [DBG] Connection 0HN0HV0G0T544 established using the following protocol: "Tls12"
2024-01-10 19:50:09.665 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 19:50:09.665 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:50:09.666 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:50:09.666 +02:00 [DBG] The request is a preflight request.
2024-01-10 19:50:09.666 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.7369ms
2024-01-10 19:50:09.667 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 19:50:09.667 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:50:09.667 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:50:09.667 +02:00 [DBG] POST requests are not supported
2024-01-10 19:50:09.667 +02:00 [DBG] POST requests are not supported
2024-01-10 19:50:09.667 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 19:50:09.667 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 19:50:09.667 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:50:09.667 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:50:09.669 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 19:50:09.669 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 19:50:09.669 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 19:50:09.669 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 19:50:09.669 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 19:50:09.669 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 19:50:09.669 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:50:09.671 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:50:09.671 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 19:50:09.671 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 19:50:09.671 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 19:50:09.671 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 19:50:09.672 +02:00 [DBG] Connection id "0HN0HV0G0T544", Request id "0HN0HV0G0T544:00000003": started reading request body.
2024-01-10 19:50:09.672 +02:00 [DBG] Connection id "0HN0HV0G0T544", Request id "0HN0HV0G0T544:00000003": done reading request body.
2024-01-10 19:50:09.672 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:50:09.672 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:50:09.672 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 19:50:09.672 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:50:09.672 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:50:09.672 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:50:09.672 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:50:09.672 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:09.672 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:09.673 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 19:50:09.676 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 19:50:09.676 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:50:09.676 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:09.676 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:50:09.676 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:09.676 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:50:09.677 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:50:09.677 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:50:09.677 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:50:09.677 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:09.677 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:09.677 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 19:50:09.679 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 19:50:09.679 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:09.679 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:50:09.679 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:09.679 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:50:09.679 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 19:50:09.679 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 19:50:09.679 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:50:09.679 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:50:09.679 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:50:09.680 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:50:09.680 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 19:50:09.680 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:09.680 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:09.680 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:50:09.680 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:50:09.680 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:50:09.680 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 19:50:09.683 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 19:50:09.684 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:09.684 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:50:09.684 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:50:09.684 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:50:09.684 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:50:09.684 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 19:50:09.684 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 19:50:09.684 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 19:50:09.684 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 19:50:09.684 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 19:50:09.684 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 19:50:09.685 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 19:50:09.685 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 15.7905ms
2024-01-10 19:50:09.685 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:50:09.685 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 17.4848 ms
2024-01-10 19:50:09.685 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 18.0561ms
2024-01-10 19:50:19.665 +02:00 [DBG] Connection id "0HN0HV0G0T544" received FIN.
2024-01-10 19:50:19.666 +02:00 [DBG] Connection id "0HN0HV0G0T544" is closed. The last processed stream ID was 3.
2024-01-10 19:50:19.666 +02:00 [DBG] Connection id "0HN0HV0G0T544" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:50:19.666 +02:00 [DBG] Connection id "0HN0HV0G0T544" stopped.
2024-01-10 19:55:28.764 +02:00 [DBG] Connection id "0HN0HV0G0T543" received FIN.
2024-01-10 19:55:28.764 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 19:55:28.771 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 19:55:28.766 +02:00 [DBG] Connection id "0HN0HV0G0T543" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:55:28.787 +02:00 [DBG] Socket closed.
2024-01-10 19:55:28.790 +02:00 [DBG] Connection id "0HN0HV0G0T543" disconnecting.
2024-01-10 19:55:28.843 +02:00 [DBG] Removing connection DQw9ksIdopCzFLKMtPTc4Q from the list of connections.
2024-01-10 19:55:28.843 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 19:55:28.843 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 323443.3791 ms
2024-01-10 19:55:28.843 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 323443.8123ms
2024-01-10 19:55:28.843 +02:00 [DBG] Connection id "0HN0HV0G0T543" stopped.
2024-01-10 19:55:29.374 +02:00 [DBG] Connection id "0HN0HV0G0T545" accepted.
2024-01-10 19:55:29.374 +02:00 [DBG] Connection id "0HN0HV0G0T545" started.
2024-01-10 19:55:29.376 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 19:55:29.377 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:55:29.377 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:55:29.377 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 19:55:29.377 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 19:55:29.377 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 19:55:29.377 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 19:55:29.377 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 19:55:29.377 +02:00 [DBG] New connection uXLDXUMBjefKYcXcte1yMg created.
2024-01-10 19:55:29.377 +02:00 [DBG] Establishing new connection.
2024-01-10 19:55:29.378 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 19:55:29.378 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 19:55:29.425 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 19:55:29.425 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 19:55:29.429 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 19:55:29.430 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:55:29.430 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:55:29.430 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:55:29.430 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:55:29.534 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:55:29.535 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:55:29.544 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:55:29.544 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:55:29.545 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:55:29.545 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:55:29.545 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:56:09.927 +02:00 [DBG] Connection id "0HN0HV0G0T546" accepted.
2024-01-10 19:56:09.928 +02:00 [DBG] Connection id "0HN0HV0G0T546" started.
2024-01-10 19:56:09.934 +02:00 [DBG] Connection 0HN0HV0G0T546 established using the following protocol: "Tls12"
2024-01-10 19:56:09.935 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 19:56:09.935 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:56:09.935 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:56:09.935 +02:00 [DBG] The request is a preflight request.
2024-01-10 19:56:09.935 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.8505ms
2024-01-10 19:56:09.937 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 33
2024-01-10 19:56:09.937 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:56:09.937 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:56:09.937 +02:00 [DBG] POST requests are not supported
2024-01-10 19:56:09.937 +02:00 [DBG] POST requests are not supported
2024-01-10 19:56:09.937 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 19:56:09.937 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 19:56:09.937 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:56:09.937 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:56:09.937 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 19:56:09.938 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 19:56:09.938 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 19:56:09.938 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 19:56:09.938 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 19:56:09.938 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 19:56:09.938 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:56:09.939 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:56:09.939 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 19:56:09.939 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 19:56:09.939 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 19:56:09.939 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 19:56:09.939 +02:00 [DBG] Connection id "0HN0HV0G0T546", Request id "0HN0HV0G0T546:00000003": started reading request body.
2024-01-10 19:56:09.940 +02:00 [DBG] Connection id "0HN0HV0G0T546", Request id "0HN0HV0G0T546:00000003": done reading request body.
2024-01-10 19:56:09.940 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:56:09.940 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:56:09.940 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 19:56:09.940 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:56:09.940 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:56:09.940 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:09.941 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:09.941 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:09.941 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:09.941 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 19:56:09.952 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 19:56:09.952 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:09.952 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:56:09.952 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:09.952 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:56:09.954 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 19:56:09.954 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 19:56:09.954 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 19:56:09.954 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 19:56:09.955 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 19:56:09.955 +02:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-10 19:56:09.974 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 35.0575ms
2024-01-10 19:56:09.974 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:56:09.974 +02:00 [INF] HTTP POST /api/User/authenticate responded 404 in 36.4490 ms
2024-01-10 19:56:09.974 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 33 - 404 29 application/json;+charset=utf-8 36.9835ms
2024-01-10 19:56:10.096 +02:00 [DBG] Connection id "0HN0HV0G0T546" received FIN.
2024-01-10 19:56:10.096 +02:00 [DBG] Connection id "0HN0HV0G0T546" is closed. The last processed stream ID was 3.
2024-01-10 19:56:10.096 +02:00 [DBG] Connection id "0HN0HV0G0T546" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:56:10.097 +02:00 [DBG] Connection id "0HN0HV0G0T546" stopped.
2024-01-10 19:56:21.311 +02:00 [DBG] Connection id "0HN0HV0G0T547" accepted.
2024-01-10 19:56:21.311 +02:00 [DBG] Connection id "0HN0HV0G0T547" started.
2024-01-10 19:56:21.319 +02:00 [DBG] Connection 0HN0HV0G0T547 established using the following protocol: "Tls12"
2024-01-10 19:56:21.321 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getAll - -
2024-01-10 19:56:21.321 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 19:56:21.321 +02:00 [DBG] The request path /api/User/getAll does not match a supported file type
2024-01-10 19:56:21.321 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getAll'
2024-01-10 19:56:21.321 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)' with route pattern 'api/User/getAll' is valid for the request path '/api/User/getAll'
2024-01-10 19:56:21.321 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getAll'
2024-01-10 19:56:21.321 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 19:56:21.321 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 19:56:21.322 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersAsync() on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 19:56:21.322 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 19:56:21.322 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 19:56:21.322 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 19:56:21.322 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 19:56:21.322 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 19:56:21.322 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:56:21.322 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:56:21.323 +02:00 [INF] GetAllUsers
2024-01-10 19:56:21.323 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:56:21.324 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:21.324 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:21.324 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:21.324 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:21.324 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-10 19:56:21.345 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-10 19:56:21.345 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:56:21.347 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:56:21.348 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:56:21.348 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:56:21.348 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:56:21.349 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:56:21.349 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:21.349 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-01-10 19:56:21.349 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:21.349 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:56:21.349 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 19:56:21.349 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 19:56:21.350 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 19:56:21.350 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 19:56:21.350 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 19:56:21.350 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.UserGetDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 19:56:21.352 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersAsync (WebApi) in 29.5151ms
2024-01-10 19:56:21.352 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 19:56:21.352 +02:00 [INF] HTTP GET /api/User/getAll responded 200 in 30.6800 ms
2024-01-10 19:56:21.352 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getAll - - - 200 173 application/json;+charset=utf-8 31.6639ms
2024-01-10 19:56:30.118 +02:00 [DBG] Connection id "0HN0HV0G0T547" received FIN.
2024-01-10 19:56:30.119 +02:00 [DBG] Connection id "0HN0HV0G0T547" is closed. The last processed stream ID was 1.
2024-01-10 19:56:30.119 +02:00 [DBG] Connection id "0HN0HV0G0T547" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:56:30.134 +02:00 [DBG] Connection id "0HN0HV0G0T547" stopped.
2024-01-10 19:56:34.300 +02:00 [DBG] Connection id "0HN0HV0G0T548" accepted.
2024-01-10 19:56:34.300 +02:00 [DBG] Connection id "0HN0HV0G0T548" started.
2024-01-10 19:56:34.306 +02:00 [DBG] Connection 0HN0HV0G0T548 established using the following protocol: "Tls12"
2024-01-10 19:56:34.307 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 19:56:34.308 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:56:34.308 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:56:34.308 +02:00 [DBG] The request is a preflight request.
2024-01-10 19:56:34.308 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.6894ms
2024-01-10 19:56:34.310 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 19:56:34.310 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:56:34.310 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:56:34.310 +02:00 [DBG] POST requests are not supported
2024-01-10 19:56:34.311 +02:00 [DBG] POST requests are not supported
2024-01-10 19:56:34.311 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 19:56:34.311 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 19:56:34.311 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:56:34.311 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:56:34.311 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 19:56:34.311 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 19:56:34.311 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 19:56:34.311 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 19:56:34.311 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 19:56:34.311 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 19:56:34.311 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:56:34.312 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:56:34.312 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 19:56:34.312 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 19:56:34.312 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 19:56:34.312 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 19:56:34.312 +02:00 [DBG] Connection id "0HN0HV0G0T548", Request id "0HN0HV0G0T548:00000003": started reading request body.
2024-01-10 19:56:34.312 +02:00 [DBG] Connection id "0HN0HV0G0T548", Request id "0HN0HV0G0T548:00000003": done reading request body.
2024-01-10 19:56:34.312 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:56:34.312 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:56:34.312 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 19:56:34.312 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:56:34.313 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:56:34.313 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:34.313 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:34.313 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:34.313 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:34.313 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 19:56:34.320 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 19:56:34.320 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:56:34.320 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:34.320 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:56:34.320 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:34.320 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:56:34.321 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:56:34.321 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:34.321 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:34.321 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:34.321 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:34.321 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 19:56:34.323 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 19:56:34.323 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:34.323 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:56:34.323 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:34.323 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:56:34.323 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 19:56:34.323 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 19:56:34.323 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:56:34.323 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:56:34.323 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:56:34.323 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:56:34.323 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 19:56:34.323 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:34.323 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:34.324 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:56:34.324 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:34.324 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:34.324 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 19:56:34.327 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 19:56:34.328 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:34.328 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:56:34.328 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:34.328 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:56:34.328 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:56:34.328 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 19:56:34.328 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 19:56:34.328 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 19:56:34.328 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 19:56:34.328 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 19:56:34.328 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 19:56:34.328 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 19:56:34.329 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 17.0598ms
2024-01-10 19:56:34.329 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:56:34.329 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 18.1430 ms
2024-01-10 19:56:34.329 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 18.9155ms
2024-01-10 19:56:40.130 +02:00 [DBG] Connection id "0HN0HV0G0T548" received FIN.
2024-01-10 19:56:40.130 +02:00 [DBG] Connection id "0HN0HV0G0T548" is closed. The last processed stream ID was 3.
2024-01-10 19:56:40.130 +02:00 [DBG] Connection id "0HN0HV0G0T548" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:56:40.139 +02:00 [DBG] Connection id "0HN0HV0G0T548" stopped.
2024-01-10 19:56:43.303 +02:00 [DBG] Connection id "0HN0HV0G0T549" accepted.
2024-01-10 19:56:43.303 +02:00 [DBG] Connection id "0HN0HV0G0T549" started.
2024-01-10 19:56:43.305 +02:00 [DBG] Connection 0HN0HV0G0T549 established using the following protocol: "Tls12"
2024-01-10 19:56:43.307 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 19:56:43.307 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:56:43.308 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:56:43.308 +02:00 [DBG] The request is a preflight request.
2024-01-10 19:56:43.308 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.8114ms
2024-01-10 19:56:43.310 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 46
2024-01-10 19:56:43.310 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:56:43.310 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:56:43.310 +02:00 [DBG] POST requests are not supported
2024-01-10 19:56:43.310 +02:00 [DBG] POST requests are not supported
2024-01-10 19:56:43.310 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 19:56:43.310 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 19:56:43.310 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:56:43.310 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:56:43.310 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 19:56:43.310 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 19:56:43.310 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 19:56:43.310 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 19:56:43.310 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 19:56:43.310 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 19:56:43.310 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:56:43.311 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:56:43.311 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 19:56:43.311 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 19:56:43.311 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 19:56:43.311 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 19:56:43.311 +02:00 [DBG] Connection id "0HN0HV0G0T549", Request id "0HN0HV0G0T549:00000003": started reading request body.
2024-01-10 19:56:43.311 +02:00 [DBG] Connection id "0HN0HV0G0T549", Request id "0HN0HV0G0T549:00000003": done reading request body.
2024-01-10 19:56:43.311 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:56:43.311 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:56:43.311 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 19:56:43.311 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:56:43.312 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:56:43.312 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:43.312 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:43.312 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:43.312 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:43.312 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 19:56:43.323 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 19:56:43.323 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:56:43.323 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:43.323 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:56:43.324 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:43.324 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:56:43.324 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:56:43.324 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:43.324 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:43.324 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:43.325 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:43.325 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 19:56:43.326 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 19:56:43.326 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:43.326 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:56:43.326 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:43.326 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:56:43.326 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 19:56:43.326 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 19:56:43.326 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:56:43.326 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:56:43.326 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:56:43.326 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:56:43.326 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 19:56:43.327 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:43.327 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:43.327 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:56:43.327 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:43.327 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:56:43.327 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 19:56:43.331 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 19:56:43.331 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:43.331 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:56:43.331 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:56:43.331 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:56:43.331 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:56:43.331 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 19:56:43.331 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 19:56:43.331 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 19:56:43.331 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 19:56:43.331 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 19:56:43.331 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 19:56:43.331 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 19:56:43.332 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 21.0801ms
2024-01-10 19:56:43.332 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:56:43.332 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 21.6591 ms
2024-01-10 19:56:43.332 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 46 - 200 - text/plain;+charset=utf-8 22.5307ms
2024-01-10 19:56:50.138 +02:00 [DBG] Connection id "0HN0HV0G0T549" received FIN.
2024-01-10 19:56:50.138 +02:00 [DBG] Connection id "0HN0HV0G0T549" is closed. The last processed stream ID was 3.
2024-01-10 19:56:50.138 +02:00 [DBG] Connection id "0HN0HV0G0T549" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:56:50.152 +02:00 [DBG] Connection id "0HN0HV0G0T549" stopped.
2024-01-10 19:57:33.669 +02:00 [DBG] Connection id "0HN0HV0G0T545" received FIN.
2024-01-10 19:57:33.669 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 19:57:33.669 +02:00 [DBG] Connection id "0HN0HV0G0T545" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:57:33.669 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 19:57:33.678 +02:00 [DBG] Connection id "0HN0HV0G0T545" disconnecting.
2024-01-10 19:57:33.678 +02:00 [DBG] Socket closed.
2024-01-10 19:57:33.690 +02:00 [DBG] Removing connection uXLDXUMBjefKYcXcte1yMg from the list of connections.
2024-01-10 19:57:33.691 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 19:57:33.691 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 124313.7070 ms
2024-01-10 19:57:33.691 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 124314.5448ms
2024-01-10 19:57:33.691 +02:00 [DBG] Connection id "0HN0HV0G0T545" stopped.
2024-01-10 19:57:34.210 +02:00 [DBG] Connection id "0HN0HV0G0T54A" accepted.
2024-01-10 19:57:34.211 +02:00 [DBG] Connection id "0HN0HV0G0T54A" started.
2024-01-10 19:57:34.211 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 19:57:34.211 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:57:34.211 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:57:34.211 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 19:57:34.212 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 19:57:34.212 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 19:57:34.212 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 19:57:34.212 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 19:57:34.214 +02:00 [DBG] New connection DzOwbO4ejVvSvS_9UcIxeg created.
2024-01-10 19:57:34.219 +02:00 [DBG] Establishing new connection.
2024-01-10 19:57:34.220 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 19:57:34.220 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 19:57:34.330 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 19:57:34.332 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 19:57:34.335 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 19:57:34.335 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:57:34.335 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:57:34.335 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:57:34.335 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:57:34.336 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:57:34.336 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:57:34.343 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:57:34.343 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:57:34.343 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:57:34.343 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:57:34.343 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:58:00.195 +02:00 [DBG] Connection id "0HN0HV0G0T54A" received FIN.
2024-01-10 19:58:00.195 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 19:58:00.197 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 19:58:00.209 +02:00 [DBG] Connection id "0HN0HV0G0T54A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:58:00.209 +02:00 [DBG] Connection id "0HN0HV0G0T54A" disconnecting.
2024-01-10 19:58:00.220 +02:00 [DBG] Socket closed.
2024-01-10 19:58:00.223 +02:00 [DBG] Removing connection DzOwbO4ejVvSvS_9UcIxeg from the list of connections.
2024-01-10 19:58:00.223 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 19:58:00.223 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 26011.3495 ms
2024-01-10 19:58:00.223 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 26012.1756ms
2024-01-10 19:58:00.223 +02:00 [DBG] Connection id "0HN0HV0G0T54A" stopped.
2024-01-10 19:58:00.798 +02:00 [DBG] Connection id "0HN0HV0G0T54B" accepted.
2024-01-10 19:58:00.798 +02:00 [DBG] Connection id "0HN0HV0G0T54B" started.
2024-01-10 19:58:00.801 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 19:58:00.801 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:58:00.802 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:58:00.802 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 19:58:00.802 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 19:58:00.802 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 19:58:00.802 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 19:58:00.802 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 19:58:00.802 +02:00 [DBG] New connection giJ8nGDJUQdn40Qq7QcWIw created.
2024-01-10 19:58:00.802 +02:00 [DBG] Establishing new connection.
2024-01-10 19:58:00.803 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 19:58:00.803 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 19:58:00.863 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 19:58:00.863 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 19:58:00.866 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 19:58:00.867 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:58:00.868 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:58:00.868 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:58:00.868 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:00.868 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:00.869 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:58:00.871 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:58:00.872 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:00.872 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:58:00.872 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:00.872 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:58:06.465 +02:00 [DBG] Connection id "0HN0HV0G0T54B" received FIN.
2024-01-10 19:58:06.465 +02:00 [DBG] Connection id "0HN0HV0G0T54B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:58:06.466 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 19:58:06.469 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 19:58:06.480 +02:00 [DBG] Connection id "0HN0HV0G0T54B" disconnecting.
2024-01-10 19:58:06.488 +02:00 [DBG] Socket closed.
2024-01-10 19:58:06.488 +02:00 [DBG] Removing connection giJ8nGDJUQdn40Qq7QcWIw from the list of connections.
2024-01-10 19:58:06.497 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 19:58:06.497 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 5694.9879 ms
2024-01-10 19:58:06.497 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 5695.9588ms
2024-01-10 19:58:06.497 +02:00 [DBG] Connection id "0HN0HV0G0T54B" stopped.
2024-01-10 19:58:28.725 +02:00 [DBG] Connection id "0HN0HV0G0T54C" accepted.
2024-01-10 19:58:28.725 +02:00 [DBG] Connection id "0HN0HV0G0T54C" started.
2024-01-10 19:58:28.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 19:58:28.725 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:58:28.725 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:58:28.725 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 19:58:28.725 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 19:58:28.725 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 19:58:28.725 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 19:58:28.725 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 19:58:28.725 +02:00 [DBG] New connection 7k5Ykpv1DGGqGT_U7HG_8A created.
2024-01-10 19:58:28.725 +02:00 [DBG] Establishing new connection.
2024-01-10 19:58:28.725 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 19:58:28.726 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 19:58:28.748 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 19:58:28.749 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 19:58:28.752 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 19:58:28.752 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:58:28.753 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:58:28.753 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:58:28.753 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:28.753 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:28.753 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:58:28.755 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 19:58:28.755 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:28.755 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:58:28.755 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:28.755 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:58:32.316 +02:00 [DBG] Connection id "0HN0HV0G0T54D" accepted.
2024-01-10 19:58:32.316 +02:00 [DBG] Connection id "0HN0HV0G0T54D" started.
2024-01-10 19:58:32.321 +02:00 [DBG] Connection 0HN0HV0G0T54D established using the following protocol: "Tls12"
2024-01-10 19:58:32.322 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 19:58:32.322 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:58:32.322 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:58:32.322 +02:00 [DBG] The request is a preflight request.
2024-01-10 19:58:32.322 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.4651ms
2024-01-10 19:58:32.323 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 19:58:32.323 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 19:58:32.323 +02:00 [INF] CORS policy execution successful.
2024-01-10 19:58:32.323 +02:00 [DBG] POST requests are not supported
2024-01-10 19:58:32.323 +02:00 [DBG] POST requests are not supported
2024-01-10 19:58:32.323 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 19:58:32.324 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 19:58:32.324 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:58:32.324 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:58:32.324 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 19:58:32.324 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 19:58:32.324 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 19:58:32.324 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 19:58:32.324 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 19:58:32.324 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 19:58:32.324 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:58:32.324 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 19:58:32.324 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 19:58:32.324 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 19:58:32.324 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 19:58:32.324 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 19:58:32.324 +02:00 [DBG] Connection id "0HN0HV0G0T54D", Request id "0HN0HV0G0T54D:00000003": started reading request body.
2024-01-10 19:58:32.324 +02:00 [DBG] Connection id "0HN0HV0G0T54D", Request id "0HN0HV0G0T54D:00000003": done reading request body.
2024-01-10 19:58:32.324 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:58:32.324 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:58:32.324 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 19:58:32.324 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 19:58:32.325 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:58:32.325 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:58:32.325 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:58:32.325 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:32.325 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:32.325 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 19:58:32.329 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 19:58:32.329 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:58:32.329 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:32.330 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:58:32.330 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:32.330 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:58:32.330 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:58:32.330 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:58:32.330 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:58:32.330 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:32.330 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:32.330 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 19:58:32.331 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 19:58:32.331 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:32.332 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:58:32.332 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:32.332 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:58:32.332 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 19:58:32.332 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 19:58:32.332 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:58:32.332 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:58:32.332 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:58:32.332 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 19:58:32.332 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 19:58:32.332 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:32.332 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:32.332 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 19:58:32.332 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:58:32.332 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 19:58:32.332 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 19:58:32.334 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 19:58:32.334 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:32.334 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 19:58:32.334 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 19:58:32.334 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 19:58:32.335 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 19:58:32.335 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 19:58:32.335 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 19:58:32.335 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 19:58:32.335 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 19:58:32.335 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 19:58:32.335 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 19:58:32.335 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 19:58:32.335 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 11.1492ms
2024-01-10 19:58:32.335 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 19:58:32.335 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 11.6307 ms
2024-01-10 19:58:32.335 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 12.1387ms
2024-01-10 19:58:37.935 +02:00 [DBG] Connection id "0HN0HV0G0T54C" received FIN.
2024-01-10 19:58:37.935 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 19:58:37.938 +02:00 [DBG] Connection id "0HN0HV0G0T54C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:58:37.938 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 19:58:37.939 +02:00 [DBG] Connection id "0HN0HV0G0T54C" disconnecting.
2024-01-10 19:58:37.947 +02:00 [DBG] Socket closed.
2024-01-10 19:58:37.961 +02:00 [DBG] Removing connection 7k5Ykpv1DGGqGT_U7HG_8A from the list of connections.
2024-01-10 19:58:37.961 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 19:58:37.961 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 9235.5626 ms
2024-01-10 19:58:37.961 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 9235.9042ms
2024-01-10 19:58:37.961 +02:00 [DBG] Connection id "0HN0HV0G0T54C" stopped.
2024-01-10 19:58:40.293 +02:00 [DBG] Connection id "0HN0HV0G0T54D" received FIN.
2024-01-10 19:58:40.293 +02:00 [DBG] Connection id "0HN0HV0G0T54D" is closed. The last processed stream ID was 3.
2024-01-10 19:58:40.293 +02:00 [DBG] Connection id "0HN0HV0G0T54D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 19:58:40.298 +02:00 [DBG] Connection id "0HN0HV0G0T54D" stopped.
2024-01-10 20:01:35.637 +02:00 [DBG] Connection id "0HN0HV0G0T54E" accepted.
2024-01-10 20:01:35.637 +02:00 [DBG] Connection id "0HN0HV0G0T54E" started.
2024-01-10 20:01:35.638 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:01:35.638 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:01:35.638 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:01:35.638 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:01:35.638 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:01:35.638 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:01:35.638 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:01:35.638 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:01:35.638 +02:00 [DBG] New connection 6LKzSUMT5KabvtOBh6wGqQ created.
2024-01-10 20:01:35.639 +02:00 [DBG] Establishing new connection.
2024-01-10 20:01:35.640 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:01:35.640 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:01:35.663 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:01:35.664 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:01:35.669 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:01:35.670 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:01:35.670 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:01:35.670 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:01:35.670 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:35.670 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:35.670 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:01:35.678 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:01:35.678 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:35.678 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:01:35.678 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:35.678 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:01:39.704 +02:00 [DBG] Connection id "0HN0HV0G0T54F" accepted.
2024-01-10 20:01:39.704 +02:00 [DBG] Connection id "0HN0HV0G0T54F" started.
2024-01-10 20:01:39.715 +02:00 [DBG] Connection 0HN0HV0G0T54F established using the following protocol: "Tls12"
2024-01-10 20:01:39.716 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:01:39.716 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:01:39.716 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:01:39.716 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:01:39.716 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.7387ms
2024-01-10 20:01:39.718 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:01:39.718 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:01:39.718 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:01:39.718 +02:00 [DBG] POST requests are not supported
2024-01-10 20:01:39.718 +02:00 [DBG] POST requests are not supported
2024-01-10 20:01:39.718 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:01:39.718 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:01:39.718 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:01:39.718 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:01:39.718 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:01:39.719 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:01:39.719 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:01:39.719 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:01:39.719 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:01:39.719 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:01:39.719 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:01:39.719 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:01:39.719 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:01:39.719 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:01:39.719 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:01:39.719 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:01:39.719 +02:00 [DBG] Connection id "0HN0HV0G0T54F", Request id "0HN0HV0G0T54F:00000003": started reading request body.
2024-01-10 20:01:39.719 +02:00 [DBG] Connection id "0HN0HV0G0T54F", Request id "0HN0HV0G0T54F:00000003": done reading request body.
2024-01-10 20:01:39.719 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:01:39.719 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:01:39.719 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:01:39.720 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:01:39.720 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:01:39.720 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:01:39.720 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:01:39.720 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:39.720 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:39.720 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:01:39.729 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:01:39.729 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:01:39.730 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:39.730 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:01:39.730 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:39.730 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:01:39.730 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:01:39.730 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:01:39.730 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:01:39.730 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:39.730 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:39.730 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:01:39.732 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:01:39.732 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:39.732 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:01:39.732 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:39.732 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:01:39.732 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:01:39.732 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:01:39.732 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:01:39.732 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:01:39.732 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:01:39.732 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:01:39.733 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:01:39.733 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:39.733 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:39.733 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:01:39.733 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:01:39.733 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:01:39.733 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:01:39.736 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:01:39.736 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:39.736 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:01:39.736 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:01:39.736 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:01:39.736 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:01:39.736 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:01:39.737 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:01:39.737 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:01:39.737 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:01:39.737 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:01:39.737 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:01:39.737 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:01:39.737 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 18.1571ms
2024-01-10 20:01:39.737 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:01:39.737 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 18.8438 ms
2024-01-10 20:01:39.737 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 19.6482ms
2024-01-10 20:01:40.540 +02:00 [DBG] Connection id "0HN0HV0G0T54F" received FIN.
2024-01-10 20:01:40.541 +02:00 [DBG] Connection id "0HN0HV0G0T54F" is closed. The last processed stream ID was 3.
2024-01-10 20:01:40.541 +02:00 [DBG] Connection id "0HN0HV0G0T54F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:01:40.541 +02:00 [DBG] Connection id "0HN0HV0G0T54F" stopped.
2024-01-10 20:02:15.458 +02:00 [DBG] Connection id "0HN0HV0G0T54G" accepted.
2024-01-10 20:02:15.459 +02:00 [DBG] Connection id "0HN0HV0G0T54G" started.
2024-01-10 20:02:15.477 +02:00 [DBG] Connection 0HN0HV0G0T54G established using the following protocol: "Tls12"
2024-01-10 20:02:15.479 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 41
2024-01-10 20:02:15.479 +02:00 [DBG] The request has an origin header: 'https://localhost:7137'.
2024-01-10 20:02:15.479 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:02:15.480 +02:00 [DBG] POST requests are not supported
2024-01-10 20:02:15.480 +02:00 [DBG] POST requests are not supported
2024-01-10 20:02:15.480 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:02:15.480 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:02:15.480 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:02:15.480 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:02:15.480 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:02:15.480 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:02:15.480 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:02:15.483 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:02:15.484 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:02:15.486 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:02:15.486 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:02:15.486 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:02:15.486 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:02:15.486 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:02:15.486 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 20:02:15.486 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 20:02:15.486 +02:00 [DBG] Connection id "0HN0HV0G0T54G", Request id "0HN0HV0G0T54G:00000001": started reading request body.
2024-01-10 20:02:15.486 +02:00 [DBG] Connection id "0HN0HV0G0T54G", Request id "0HN0HV0G0T54G:00000001": done reading request body.
2024-01-10 20:02:15.486 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:02:15.486 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:02:15.486 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:02:15.486 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:02:15.487 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:02:15.487 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:02:15.487 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:02:15.487 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:02:15.487 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:02:15.487 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:02:15.494 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:02:15.494 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:02:15.494 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:02:15.494 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:02:15.494 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:02:15.494 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:02:15.494 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:02:15.494 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:02:15.494 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:02:15.494 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:02:15.495 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:02:15.495 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:02:15.496 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:02:15.496 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:02:15.496 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:02:15.496 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:02:15.496 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:02:15.496 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:02:15.496 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:02:15.496 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:02:15.496 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:02:15.496 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:02:15.496 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:02:15.496 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:02:15.496 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:02:15.496 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:02:15.496 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:02:15.496 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:02:15.496 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:02:15.497 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:02:15.502 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:02:15.503 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:02:15.503 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:02:15.503 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:02:15.503 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:02:15.503 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:02:15.503 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:02:15.503 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:02:15.512 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:02:15.513 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:02:15.513 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:02:15.513 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:02:15.513 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:02:15.514 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 27.6647ms
2024-01-10 20:02:15.514 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:02:15.514 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 33.6216 ms
2024-01-10 20:02:15.514 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json-patch+json 41 - 200 - text/plain;+charset=utf-8 34.7194ms
2024-01-10 20:02:20.587 +02:00 [DBG] Connection id "0HN0HV0G0T54G" received FIN.
2024-01-10 20:02:20.587 +02:00 [DBG] Connection id "0HN0HV0G0T54G" is closed. The last processed stream ID was 1.
2024-01-10 20:02:20.587 +02:00 [DBG] Connection id "0HN0HV0G0T54G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:02:20.601 +02:00 [DBG] Connection id "0HN0HV0G0T54G" stopped.
2024-01-10 20:03:55.816 +02:00 [DBG] Connection id "0HN0HV0G0T54E" received FIN.
2024-01-10 20:03:55.833 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:03:55.833 +02:00 [DBG] Socket closed.
2024-01-10 20:03:55.874 +02:00 [DBG] Connection id "0HN0HV0G0T54E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:03:55.875 +02:00 [DBG] Connection id "0HN0HV0G0T54E" disconnecting.
2024-01-10 20:03:55.904 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:03:55.904 +02:00 [DBG] Removing connection 6LKzSUMT5KabvtOBh6wGqQ from the list of connections.
2024-01-10 20:03:55.904 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:03:55.904 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 140266.0292 ms
2024-01-10 20:03:55.904 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 140266.7444ms
2024-01-10 20:03:55.905 +02:00 [DBG] Connection id "0HN0HV0G0T54E" stopped.
2024-01-10 20:03:56.416 +02:00 [DBG] Connection id "0HN0HV0G0T54H" accepted.
2024-01-10 20:03:56.417 +02:00 [DBG] Connection id "0HN0HV0G0T54H" started.
2024-01-10 20:03:56.417 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:03:56.417 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:03:56.417 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:03:56.417 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:03:56.417 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:03:56.417 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:03:56.417 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:03:56.418 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:03:56.418 +02:00 [DBG] New connection vZ7jSgT1e7ad850PN1ARcw created.
2024-01-10 20:03:56.418 +02:00 [DBG] Establishing new connection.
2024-01-10 20:03:56.418 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:03:56.418 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:03:56.469 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:03:56.470 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:03:56.475 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:03:56.477 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:03:56.477 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:03:56.478 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-10 20:03:56.478 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:03:56.478 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:03:56.478 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:03:56.485 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:03:56.485 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:03:56.485 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:03:56.485 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:03:56.485 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:03:58.551 +02:00 [DBG] Connection id "0HN0HV0G0T54I" accepted.
2024-01-10 20:03:58.552 +02:00 [DBG] Connection id "0HN0HV0G0T54I" started.
2024-01-10 20:03:58.558 +02:00 [DBG] Connection 0HN0HV0G0T54I established using the following protocol: "Tls12"
2024-01-10 20:03:58.559 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 20:03:58.559 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:03:58.559 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:03:58.560 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:03:58.561 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 2.1885ms
2024-01-10 20:03:58.567 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 20:03:58.568 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:03:58.568 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:03:58.568 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:03:58.568 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 20:03:58.569 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 20:03:58.569 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 20:03:58.569 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 20:03:58.569 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 20:03:58.574 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 20:03:58.574 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:03:58.574 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:03:58.574 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:03:58.574 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:03:58.574 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:03:58.574 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 20:03:58.574 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 20:03:58.575 +02:00 [INF] GetAllRoles
2024-01-10 20:03:58.580 +02:00 [DBG] Compiling query expression: 
'DbSet<Role>()'
2024-01-10 20:03:58.583 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Role>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.RoleType (string) Required, 1] }
        SELECT r.Id, r.RoleType
        FROM Roles AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 20:03:58.584 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:03:58.584 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:03:58.584 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:03:58.584 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:03:58.585 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:03:58.585 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 20:03:58.588 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 20:03:58.588 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:03:58.588 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:03:58.588 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:03:58.588 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:03:58.588 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:03:58.588 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:03:58.588 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:03:58.588 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:03:58.589 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:03:58.589 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:03:58.589 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:03:58.589 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:03:58.589 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:03:58.589 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 20:03:58.590 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 16.2638ms
2024-01-10 20:03:58.590 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 20:03:58.590 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 22.5226 ms
2024-01-10 20:03:58.591 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 23.1276ms
2024-01-10 20:04:00.706 +02:00 [DBG] Connection id "0HN0HV0G0T54I" received FIN.
2024-01-10 20:04:00.706 +02:00 [DBG] Connection id "0HN0HV0G0T54I" is closed. The last processed stream ID was 3.
2024-01-10 20:04:00.707 +02:00 [DBG] Connection id "0HN0HV0G0T54I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:04:00.707 +02:00 [DBG] Connection id "0HN0HV0G0T54I" stopped.
2024-01-10 20:06:06.389 +02:00 [DBG] Connection id "0HN0HV0G0T54H" received FIN.
2024-01-10 20:06:06.389 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:06:06.390 +02:00 [DBG] Connection id "0HN0HV0G0T54H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:06:06.392 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:06:06.453 +02:00 [DBG] Connection id "0HN0HV0G0T54H" disconnecting.
2024-01-10 20:06:06.453 +02:00 [DBG] Socket closed.
2024-01-10 20:06:06.453 +02:00 [DBG] Removing connection vZ7jSgT1e7ad850PN1ARcw from the list of connections.
2024-01-10 20:06:06.453 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:06:06.453 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 130036.0848 ms
2024-01-10 20:06:06.454 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 130036.7131ms
2024-01-10 20:06:06.454 +02:00 [DBG] Connection id "0HN0HV0G0T54H" stopped.
2024-01-10 20:06:06.710 +02:00 [DBG] Connection id "0HN0HV0G0T54J" accepted.
2024-01-10 20:06:06.710 +02:00 [DBG] Connection id "0HN0HV0G0T54J" started.
2024-01-10 20:06:06.711 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:06:06.711 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:06:06.711 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:06:06.711 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:06:06.711 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:06:06.711 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:06:06.711 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:06:06.711 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:06:06.711 +02:00 [DBG] New connection rhrrGS6ni63FSq5OmknkOA created.
2024-01-10 20:06:06.711 +02:00 [DBG] Establishing new connection.
2024-01-10 20:06:06.711 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:06:06.711 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:06:06.719 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:06:06.719 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:06:06.720 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:06:06.721 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:06:06.721 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:06:06.721 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:06:06.721 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:06:06.721 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:06:06.721 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:06:06.723 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:06:06.723 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:06:06.723 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:06:06.723 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:06:06.723 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:08:02.235 +02:00 [DBG] Connection id "0HN0HV0G0T54J" received FIN.
2024-01-10 20:08:02.235 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:08:02.236 +02:00 [DBG] Socket closed.
2024-01-10 20:08:02.244 +02:00 [DBG] Connection id "0HN0HV0G0T54J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:08:02.245 +02:00 [DBG] Connection id "0HN0HV0G0T54J" disconnecting.
2024-01-10 20:08:02.249 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:08:02.260 +02:00 [DBG] Removing connection rhrrGS6ni63FSq5OmknkOA from the list of connections.
2024-01-10 20:08:02.264 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:08:02.265 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 115553.5988 ms
2024-01-10 20:08:02.266 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 115553.9523ms
2024-01-10 20:08:02.267 +02:00 [DBG] Connection id "0HN0HV0G0T54J" stopped.
2024-01-10 20:08:02.650 +02:00 [DBG] Connection id "0HN0HV0G0T54K" accepted.
2024-01-10 20:08:02.650 +02:00 [DBG] Connection id "0HN0HV0G0T54K" started.
2024-01-10 20:08:02.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:08:02.650 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:08:02.650 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:08:02.650 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:08:02.650 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:08:02.650 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:08:02.650 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:08:02.651 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:08:02.651 +02:00 [DBG] New connection rCHOvNFgWaUx6j9hpgRhuQ created.
2024-01-10 20:08:02.651 +02:00 [DBG] Establishing new connection.
2024-01-10 20:08:02.651 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:08:02.651 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:08:02.684 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:08:02.684 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:08:02.694 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:08:02.694 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:08:02.694 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:08:02.694 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:08:02.694 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:08:02.694 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:08:02.694 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:08:02.697 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:08:02.697 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:08:02.697 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:08:02.697 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:08:02.697 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:08:14.987 +02:00 [DBG] Connection id "0HN0HV0G0T54K" received FIN.
2024-01-10 20:08:14.987 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:08:14.987 +02:00 [DBG] Connection id "0HN0HV0G0T54K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:08:14.987 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:08:14.987 +02:00 [DBG] Connection id "0HN0HV0G0T54K" disconnecting.
2024-01-10 20:08:14.987 +02:00 [DBG] Socket closed.
2024-01-10 20:08:14.987 +02:00 [DBG] Removing connection rCHOvNFgWaUx6j9hpgRhuQ from the list of connections.
2024-01-10 20:08:14.988 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:08:14.988 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 12337.2191 ms
2024-01-10 20:08:14.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 12337.5522ms
2024-01-10 20:08:14.988 +02:00 [DBG] Connection id "0HN0HV0G0T54K" stopped.
2024-01-10 20:08:15.158 +02:00 [DBG] Connection id "0HN0HV0G0T54L" accepted.
2024-01-10 20:08:15.158 +02:00 [DBG] Connection id "0HN0HV0G0T54L" started.
2024-01-10 20:08:15.159 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:08:15.160 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:08:15.160 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:08:15.160 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:08:15.160 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:08:15.160 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:08:15.160 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:08:15.160 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:08:15.160 +02:00 [DBG] New connection n1JJ5_pISFadaCoVjSd-XQ created.
2024-01-10 20:08:15.160 +02:00 [DBG] Establishing new connection.
2024-01-10 20:08:15.160 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:08:15.161 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:08:15.181 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:08:15.182 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:08:15.188 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:08:15.188 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:08:15.188 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:08:15.188 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:08:15.188 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:08:15.188 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:08:15.188 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:08:15.189 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:08:15.190 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:08:15.190 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:08:15.190 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:08:15.190 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:09:15.031 +02:00 [DBG] Connection id "0HN0HV0G0T54M" accepted.
2024-01-10 20:09:15.031 +02:00 [DBG] Connection id "0HN0HV0G0T54M" started.
2024-01-10 20:09:15.036 +02:00 [DBG] Connection 0HN0HV0G0T54M established using the following protocol: "Tls12"
2024-01-10 20:09:15.037 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:09:15.037 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:09:15.037 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:09:15.037 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:09:15.037 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.5815ms
2024-01-10 20:09:15.040 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 46
2024-01-10 20:09:15.040 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:09:15.040 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:09:15.040 +02:00 [DBG] POST requests are not supported
2024-01-10 20:09:15.040 +02:00 [DBG] POST requests are not supported
2024-01-10 20:09:15.040 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:09:15.040 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:09:15.040 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:09:15.040 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:09:15.043 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:09:15.043 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:09:15.044 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:09:15.044 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:09:15.044 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:09:15.044 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:09:15.044 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:09:15.045 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:09:15.045 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:09:15.045 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:09:15.045 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:09:15.045 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:09:15.045 +02:00 [DBG] Connection id "0HN0HV0G0T54M", Request id "0HN0HV0G0T54M:00000003": started reading request body.
2024-01-10 20:09:15.045 +02:00 [DBG] Connection id "0HN0HV0G0T54M", Request id "0HN0HV0G0T54M:00000003": done reading request body.
2024-01-10 20:09:15.045 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:09:15.045 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:09:15.045 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:09:15.045 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:09:15.046 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:09:15.046 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:15.046 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:15.046 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:15.046 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:15.046 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:09:15.051 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:09:15.051 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:09:15.051 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:15.051 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:09:15.051 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:15.051 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:09:15.052 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:09:15.052 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:15.052 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:15.052 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:15.052 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:15.052 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:09:15.054 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:09:15.054 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:15.054 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:09:15.054 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:15.054 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:09:15.054 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:09:15.054 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:09:15.054 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:09:15.054 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:09:15.054 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:09:15.054 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:09:15.054 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:09:15.055 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:15.055 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:15.055 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:09:15.055 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:15.055 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:15.055 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:09:15.059 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:09:15.059 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:15.059 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:09:15.059 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:15.059 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:09:15.059 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:09:15.059 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:09:15.060 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:09:15.060 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:09:15.060 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:09:15.060 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:09:15.060 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:09:15.060 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:09:15.060 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 16.4824ms
2024-01-10 20:09:15.060 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:09:15.060 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 20.4723 ms
2024-01-10 20:09:15.061 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 46 - 200 - text/plain;+charset=utf-8 21.8471ms
2024-01-10 20:09:50.653 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:09:50.654 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:09:50.654 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:09:50.654 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:09:50.654 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.8226ms
2024-01-10 20:09:50.656 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 46
2024-01-10 20:09:50.656 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:09:50.656 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:09:50.656 +02:00 [DBG] POST requests are not supported
2024-01-10 20:09:50.656 +02:00 [DBG] POST requests are not supported
2024-01-10 20:09:50.656 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:09:50.656 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:09:50.656 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:09:50.656 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:09:50.656 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:09:50.656 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:09:50.656 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:09:50.656 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:09:50.656 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:09:50.656 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:09:50.656 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:09:50.656 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:09:50.656 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:09:50.656 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:09:50.656 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:09:50.656 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:09:50.657 +02:00 [DBG] Connection id "0HN0HV0G0T54M", Request id "0HN0HV0G0T54M:00000007": started reading request body.
2024-01-10 20:09:50.657 +02:00 [DBG] Connection id "0HN0HV0G0T54M", Request id "0HN0HV0G0T54M:00000007": done reading request body.
2024-01-10 20:09:50.657 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:09:50.657 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:09:50.657 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:09:50.657 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:09:50.657 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:09:50.657 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:50.657 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:50.657 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:50.657 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:50.657 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:09:50.659 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:09:50.659 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:09:50.659 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:50.659 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:09:50.659 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:50.659 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:09:50.660 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:09:50.660 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:50.660 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:50.660 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:50.660 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:50.660 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:09:50.661 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:09:50.661 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:50.661 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:09:50.661 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:50.661 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:09:50.661 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:09:50.661 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:09:50.661 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:09:50.661 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:09:50.661 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:09:50.661 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:09:50.661 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:09:50.662 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:50.662 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:50.662 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:09:50.662 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:50.662 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:50.662 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:09:50.664 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:09:50.664 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:50.664 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:09:50.664 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:50.665 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:09:50.665 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:09:50.665 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:09:50.665 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:09:50.665 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:09:50.665 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:09:50.665 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:09:50.665 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:09:50.665 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:09:50.665 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 8.7979ms
2024-01-10 20:09:50.665 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:09:50.665 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 9.2563 ms
2024-01-10 20:09:50.665 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 46 - 200 - text/plain;+charset=utf-8 9.7247ms
2024-01-10 20:09:53.312 +02:00 [DBG] Connection id "0HN0HV0G0T54L" received FIN.
2024-01-10 20:09:53.312 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:09:53.312 +02:00 [DBG] Connection id "0HN0HV0G0T54L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:09:53.312 +02:00 [DBG] Connection id "0HN0HV0G0T54L" disconnecting.
2024-01-10 20:09:53.312 +02:00 [DBG] Socket closed.
2024-01-10 20:09:53.314 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:09:53.314 +02:00 [DBG] Removing connection n1JJ5_pISFadaCoVjSd-XQ from the list of connections.
2024-01-10 20:09:53.316 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:09:53.316 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 98156.5405 ms
2024-01-10 20:09:53.322 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 98162.8239ms
2024-01-10 20:09:53.328 +02:00 [DBG] Connection id "0HN0HV0G0T54L" stopped.
2024-01-10 20:09:53.507 +02:00 [DBG] Connection id "0HN0HV0G0T54N" accepted.
2024-01-10 20:09:53.507 +02:00 [DBG] Connection id "0HN0HV0G0T54N" started.
2024-01-10 20:09:53.510 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:09:53.510 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:09:53.510 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:09:53.510 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:09:53.510 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:09:53.510 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:09:53.510 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:09:53.510 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:09:53.510 +02:00 [DBG] New connection CrbRlLURUtidwjK2soQO7Q created.
2024-01-10 20:09:53.510 +02:00 [DBG] Establishing new connection.
2024-01-10 20:09:53.511 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:09:53.511 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:09:53.523 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:09:53.524 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:09:53.526 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:09:53.527 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:09:53.527 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:53.527 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:53.527 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:53.527 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:53.527 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:09:53.530 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:09:53.530 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:53.530 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:09:53.530 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:53.530 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:09:56.139 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:09:56.139 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:09:56.139 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:09:56.139 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:09:56.139 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.2708ms
2024-01-10 20:09:56.141 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:09:56.141 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:09:56.141 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:09:56.141 +02:00 [DBG] POST requests are not supported
2024-01-10 20:09:56.141 +02:00 [DBG] POST requests are not supported
2024-01-10 20:09:56.141 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:09:56.141 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:09:56.141 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:09:56.141 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:09:56.141 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:09:56.141 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:09:56.141 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:09:56.141 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:09:56.141 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:09:56.141 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:09:56.141 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:09:56.141 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:09:56.141 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:09:56.141 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:09:56.141 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:09:56.141 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:09:56.141 +02:00 [DBG] Connection id "0HN0HV0G0T54M", Request id "0HN0HV0G0T54M:0000000B": started reading request body.
2024-01-10 20:09:56.141 +02:00 [DBG] Connection id "0HN0HV0G0T54M", Request id "0HN0HV0G0T54M:0000000B": done reading request body.
2024-01-10 20:09:56.141 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:09:56.142 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:09:56.142 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:09:56.142 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:09:56.142 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:09:56.142 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:56.142 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:56.142 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:56.142 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:56.142 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:09:56.145 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:09:56.145 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:09:56.145 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:56.145 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:09:56.145 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:56.145 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:09:56.145 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:09:56.145 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:56.145 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:56.145 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:56.145 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:56.146 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:09:56.146 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:09:56.146 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:56.146 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:09:56.146 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:56.147 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:09:56.147 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:09:56.147 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:09:56.147 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:09:56.147 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:09:56.147 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:09:56.147 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:09:56.147 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:09:56.147 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:56.147 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:56.147 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:09:56.147 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:56.147 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:09:56.147 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:09:56.148 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:09:56.148 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:56.148 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:09:56.148 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:09:56.148 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:09:56.148 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:09:56.148 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:09:56.148 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:09:56.148 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:09:56.148 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:09:56.148 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:09:56.148 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:09:56.149 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:09:56.149 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 7.5438ms
2024-01-10 20:09:56.149 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:09:56.149 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 8.0157 ms
2024-01-10 20:09:56.149 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 8.6363ms
2024-01-10 20:10:52.682 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:10:52.696 +02:00 [DBG] Socket closed.
2024-01-10 20:10:52.696 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:10:52.735 +02:00 [DBG] Connection id "0HN0HV0G0T54N" received FIN.
2024-01-10 20:10:52.742 +02:00 [DBG] Connection id "0HN0HV0G0T54N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:10:52.743 +02:00 [DBG] Connection id "0HN0HV0G0T54N" disconnecting.
2024-01-10 20:10:52.744 +02:00 [DBG] Removing connection CrbRlLURUtidwjK2soQO7Q from the list of connections.
2024-01-10 20:10:52.744 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:10:52.744 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 59234.0148 ms
2024-01-10 20:10:52.744 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 59234.5048ms
2024-01-10 20:10:52.744 +02:00 [DBG] Connection id "0HN0HV0G0T54N" stopped.
2024-01-10 20:10:53.000 +02:00 [DBG] Connection id "0HN0HV0G0T54O" accepted.
2024-01-10 20:10:53.000 +02:00 [DBG] Connection id "0HN0HV0G0T54O" started.
2024-01-10 20:10:53.005 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:10:53.005 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:10:53.005 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:10:53.006 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:10:53.006 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:10:53.006 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:10:53.006 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:10:53.006 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:10:53.006 +02:00 [DBG] New connection nm4o3HG4Td3vHRomkdG3lQ created.
2024-01-10 20:10:53.006 +02:00 [DBG] Establishing new connection.
2024-01-10 20:10:53.006 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:10:53.006 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:10:53.039 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:10:53.039 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:10:53.041 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:10:53.042 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:10:53.042 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:10:53.042 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:10:53.042 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:53.042 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:53.043 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:10:53.045 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:10:53.045 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:53.045 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:10:53.045 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:53.045 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:10:58.401 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:10:58.402 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:10:58.402 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:10:58.402 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:10:58.402 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.5616ms
2024-01-10 20:10:58.404 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:10:58.404 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:10:58.404 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:10:58.405 +02:00 [DBG] POST requests are not supported
2024-01-10 20:10:58.405 +02:00 [DBG] POST requests are not supported
2024-01-10 20:10:58.405 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:10:58.405 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:10:58.405 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:10:58.405 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:10:58.405 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:10:58.405 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:10:58.405 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:10:58.405 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:10:58.405 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:10:58.405 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:10:58.405 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:10:58.405 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:10:58.405 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:10:58.405 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:10:58.405 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:10:58.405 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:10:58.406 +02:00 [DBG] Connection id "0HN0HV0G0T54M", Request id "0HN0HV0G0T54M:0000000F": started reading request body.
2024-01-10 20:10:58.406 +02:00 [DBG] Connection id "0HN0HV0G0T54M", Request id "0HN0HV0G0T54M:0000000F": done reading request body.
2024-01-10 20:10:58.406 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:10:58.406 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:10:58.406 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:10:58.406 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:10:58.406 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:10:58.406 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:10:58.406 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:10:58.406 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:58.406 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:58.406 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:10:58.408 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:10:58.408 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:10:58.408 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:58.408 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:10:58.408 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:58.409 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:10:58.409 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:10:58.409 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:10:58.409 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:10:58.409 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:58.409 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:58.409 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:10:58.410 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:10:58.411 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:58.411 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:10:58.411 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:58.411 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:10:58.411 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:10:58.411 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:10:58.411 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:10:58.411 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:10:58.411 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:10:58.411 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:10:58.411 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:10:58.411 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:58.411 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:58.412 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:10:58.412 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:10:58.412 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:10:58.412 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:10:58.414 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:10:58.414 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:58.414 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:10:58.414 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:10:58.414 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:10:58.414 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:10:58.414 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:10:58.414 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:10:58.414 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:10:58.414 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:10:58.414 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:10:58.415 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:10:58.415 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:10:58.415 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 9.5478ms
2024-01-10 20:10:58.415 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:10:58.415 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 10.1764 ms
2024-01-10 20:10:58.415 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 10.6077ms
2024-01-10 20:11:36.248 +02:00 [DBG] Connection id "0HN0HV0G0T54M" received FIN.
2024-01-10 20:11:36.250 +02:00 [DBG] Connection id "0HN0HV0G0T54M" is closed. The last processed stream ID was 15.
2024-01-10 20:11:36.252 +02:00 [DBG] Connection id "0HN0HV0G0T54M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:11:36.253 +02:00 [DBG] Connection id "0HN0HV0G0T54M" stopped.
2024-01-10 20:11:51.432 +02:00 [DBG] Connection id "0HN0HV0G0T54O" received FIN.
2024-01-10 20:11:51.432 +02:00 [DBG] Connection id "0HN0HV0G0T54O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:11:51.432 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:11:51.433 +02:00 [DBG] Connection id "0HN0HV0G0T54O" disconnecting.
2024-01-10 20:11:51.437 +02:00 [DBG] Socket closed.
2024-01-10 20:11:51.437 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:11:51.437 +02:00 [DBG] Removing connection nm4o3HG4Td3vHRomkdG3lQ from the list of connections.
2024-01-10 20:11:51.437 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:11:51.438 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 58431.9097 ms
2024-01-10 20:11:51.438 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 58432.4995ms
2024-01-10 20:11:51.438 +02:00 [DBG] Connection id "0HN0HV0G0T54O" stopped.
2024-01-10 20:11:51.683 +02:00 [DBG] Connection id "0HN0HV0G0T54P" accepted.
2024-01-10 20:11:51.683 +02:00 [DBG] Connection id "0HN0HV0G0T54P" started.
2024-01-10 20:11:51.684 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:11:51.684 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:11:51.684 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:11:51.684 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:11:51.684 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:11:51.684 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:11:51.684 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:11:51.684 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:11:51.684 +02:00 [DBG] New connection GSXaLcQiOP05R_dRKrfsqA created.
2024-01-10 20:11:51.684 +02:00 [DBG] Establishing new connection.
2024-01-10 20:11:51.684 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:11:51.685 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:11:51.708 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:11:51.709 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:11:51.711 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:11:51.712 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:11:51.712 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:11:51.712 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:11:51.712 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:51.712 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:51.712 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:11:51.715 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:11:51.715 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:51.715 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:11:51.715 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:51.715 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:11:58.368 +02:00 [DBG] Connection id "0HN0HV0G0T54Q" accepted.
2024-01-10 20:11:58.368 +02:00 [DBG] Connection id "0HN0HV0G0T54Q" started.
2024-01-10 20:11:58.374 +02:00 [DBG] Connection 0HN0HV0G0T54Q established using the following protocol: "Tls12"
2024-01-10 20:11:58.375 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:11:58.375 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:11:58.375 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:11:58.376 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:11:58.376 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.6673ms
2024-01-10 20:11:58.377 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:11:58.377 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:11:58.377 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:11:58.377 +02:00 [DBG] POST requests are not supported
2024-01-10 20:11:58.377 +02:00 [DBG] POST requests are not supported
2024-01-10 20:11:58.377 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:11:58.377 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:11:58.377 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:11:58.377 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:11:58.377 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:11:58.377 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:11:58.377 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:11:58.377 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:11:58.377 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:11:58.377 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:11:58.378 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:11:58.378 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:11:58.378 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:11:58.378 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:11:58.378 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:11:58.378 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:11:58.378 +02:00 [DBG] Connection id "0HN0HV0G0T54Q", Request id "0HN0HV0G0T54Q:00000003": started reading request body.
2024-01-10 20:11:58.378 +02:00 [DBG] Connection id "0HN0HV0G0T54Q", Request id "0HN0HV0G0T54Q:00000003": done reading request body.
2024-01-10 20:11:58.378 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:11:58.378 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:11:58.378 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:11:58.378 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:11:58.378 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:11:58.378 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:11:58.378 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:11:58.378 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:58.378 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:58.378 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:11:58.380 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:11:58.381 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:11:58.381 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:58.381 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:11:58.381 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:58.381 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:11:58.381 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:11:58.381 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:11:58.381 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:11:58.381 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:58.381 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:58.381 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:11:58.383 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:11:58.383 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:58.383 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:11:58.383 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:58.383 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:11:58.383 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:11:58.383 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:11:58.383 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:11:58.383 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:11:58.383 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:11:58.383 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:11:58.383 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:11:58.383 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:58.383 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:58.383 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:11:58.383 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:11:58.383 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:11:58.383 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:11:58.385 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:11:58.386 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:58.386 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:11:58.386 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:11:58.386 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:11:58.386 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:11:58.386 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:11:58.386 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:11:58.386 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:11:58.386 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:11:58.386 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:11:58.386 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:11:58.386 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:11:58.386 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 8.7398ms
2024-01-10 20:11:58.386 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:11:58.386 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 9.2260 ms
2024-01-10 20:11:58.386 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 9.8326ms
2024-01-10 20:12:05.058 +02:00 [DBG] Connection id "0HN0HV0G0T54P" received FIN.
2024-01-10 20:12:05.058 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:12:05.059 +02:00 [DBG] Socket closed.
2024-01-10 20:12:05.059 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:12:05.060 +02:00 [DBG] Connection id "0HN0HV0G0T54P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:12:05.060 +02:00 [DBG] Connection id "0HN0HV0G0T54P" disconnecting.
2024-01-10 20:12:05.061 +02:00 [DBG] Removing connection GSXaLcQiOP05R_dRKrfsqA from the list of connections.
2024-01-10 20:12:05.061 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:12:05.061 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 13377.3875 ms
2024-01-10 20:12:05.064 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 13379.9180ms
2024-01-10 20:12:05.069 +02:00 [DBG] Connection id "0HN0HV0G0T54P" stopped.
2024-01-10 20:12:05.250 +02:00 [DBG] Connection id "0HN0HV0G0T54R" accepted.
2024-01-10 20:12:05.251 +02:00 [DBG] Connection id "0HN0HV0G0T54R" started.
2024-01-10 20:12:05.251 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:12:05.251 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:12:05.252 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:12:05.252 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:12:05.252 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:12:05.252 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:12:05.252 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:12:05.252 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:12:05.252 +02:00 [DBG] New connection tVvHwdZ5mqY7715PStESIA created.
2024-01-10 20:12:05.252 +02:00 [DBG] Establishing new connection.
2024-01-10 20:12:05.252 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:12:05.252 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:12:05.277 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:12:05.278 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:12:05.279 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:12:05.280 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:12:05.280 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:12:05.280 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:12:05.280 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:12:05.280 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:12:05.280 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:12:05.282 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:12:05.282 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:12:05.282 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:12:05.282 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:12:05.282 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:12:06.268 +02:00 [DBG] Connection id "0HN0HV0G0T54Q" received FIN.
2024-01-10 20:12:06.268 +02:00 [DBG] Connection id "0HN0HV0G0T54Q" is closed. The last processed stream ID was 3.
2024-01-10 20:12:06.268 +02:00 [DBG] Connection id "0HN0HV0G0T54Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:12:06.282 +02:00 [DBG] Connection id "0HN0HV0G0T54Q" stopped.
2024-01-10 20:12:18.267 +02:00 [DBG] Connection id "0HN0HV0G0T54R" received FIN.
2024-01-10 20:12:18.267 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:12:18.267 +02:00 [DBG] Connection id "0HN0HV0G0T54R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:12:18.267 +02:00 [DBG] Connection id "0HN0HV0G0T54R" disconnecting.
2024-01-10 20:12:18.267 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:12:18.268 +02:00 [DBG] Socket closed.
2024-01-10 20:12:18.268 +02:00 [DBG] Removing connection tVvHwdZ5mqY7715PStESIA from the list of connections.
2024-01-10 20:12:18.268 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:12:18.268 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 13016.5165 ms
2024-01-10 20:12:18.268 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 13016.9448ms
2024-01-10 20:12:18.268 +02:00 [DBG] Connection id "0HN0HV0G0T54R" stopped.
2024-01-10 20:12:18.493 +02:00 [DBG] Connection id "0HN0HV0G0T54S" accepted.
2024-01-10 20:12:18.493 +02:00 [DBG] Connection id "0HN0HV0G0T54S" started.
2024-01-10 20:12:18.493 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:12:18.493 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:12:18.493 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:12:18.493 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:12:18.493 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:12:18.493 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:12:18.493 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:12:18.493 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:12:18.493 +02:00 [DBG] New connection NQyag4ZMsA44j4X4L30nYQ created.
2024-01-10 20:12:18.496 +02:00 [DBG] Establishing new connection.
2024-01-10 20:12:18.496 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:12:18.496 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:12:18.522 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:12:18.522 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:12:18.525 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:12:18.526 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:12:18.526 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:12:18.526 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:12:18.526 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:12:18.526 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:12:18.526 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:12:18.528 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:12:18.528 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:12:18.528 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:12:18.528 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:12:18.528 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:13:11.996 +02:00 [DBG] Connection id "0HN0HV0G0T54S" received FIN.
2024-01-10 20:13:11.996 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:13:11.996 +02:00 [DBG] Connection id "0HN0HV0G0T54S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:13:11.997 +02:00 [DBG] Connection id "0HN0HV0G0T54S" disconnecting.
2024-01-10 20:13:11.997 +02:00 [DBG] Socket closed.
2024-01-10 20:13:11.997 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:13:11.997 +02:00 [DBG] Removing connection NQyag4ZMsA44j4X4L30nYQ from the list of connections.
2024-01-10 20:13:11.999 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:13:11.999 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 53505.6100 ms
2024-01-10 20:13:11.999 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 53505.9728ms
2024-01-10 20:13:12.002 +02:00 [DBG] Connection id "0HN0HV0G0T54S" stopped.
2024-01-10 20:13:12.248 +02:00 [DBG] Connection id "0HN0HV0G0T54T" accepted.
2024-01-10 20:13:12.249 +02:00 [DBG] Connection id "0HN0HV0G0T54T" started.
2024-01-10 20:13:12.249 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:13:12.249 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:13:12.249 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:13:12.249 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:13:12.249 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:13:12.249 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:13:12.249 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:13:12.249 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:13:12.249 +02:00 [DBG] New connection ESXkBBabkMEz10gaUX5Mpw created.
2024-01-10 20:13:12.249 +02:00 [DBG] Establishing new connection.
2024-01-10 20:13:12.250 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:13:12.250 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:13:12.263 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:13:12.264 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:13:12.266 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:13:12.266 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:13:12.266 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:13:12.266 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:13:12.266 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:13:12.266 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:13:12.266 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:13:12.269 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:13:12.269 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:13:12.269 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:13:12.269 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:13:12.270 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:13:46.845 +02:00 [DBG] Connection id "0HN0HV0G0T54T" received FIN.
2024-01-10 20:13:46.845 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:13:46.849 +02:00 [DBG] Connection id "0HN0HV0G0T54T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:13:46.852 +02:00 [DBG] Connection id "0HN0HV0G0T54T" disconnecting.
2024-01-10 20:13:46.852 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:13:46.853 +02:00 [DBG] Socket closed.
2024-01-10 20:13:46.905 +02:00 [DBG] Removing connection ESXkBBabkMEz10gaUX5Mpw from the list of connections.
2024-01-10 20:13:46.905 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:13:46.905 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 34656.3263 ms
2024-01-10 20:13:46.906 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 34656.7947ms
2024-01-10 20:13:46.907 +02:00 [DBG] Connection id "0HN0HV0G0T54T" stopped.
2024-01-10 20:13:47.528 +02:00 [DBG] Connection id "0HN0HV0G0T54U" accepted.
2024-01-10 20:13:47.529 +02:00 [DBG] Connection id "0HN0HV0G0T54U" started.
2024-01-10 20:13:47.531 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:13:47.531 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:13:47.531 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:13:47.531 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:13:47.531 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:13:47.531 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:13:47.531 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:13:47.531 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:13:47.531 +02:00 [DBG] New connection 2_koflt4_KcMvFbforkyJA created.
2024-01-10 20:13:47.532 +02:00 [DBG] Establishing new connection.
2024-01-10 20:13:47.532 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:13:47.532 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:13:47.624 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:13:47.624 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:13:47.642 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:13:47.643 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:13:47.643 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:13:47.643 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:13:47.643 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:13:47.643 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:13:47.643 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:13:47.647 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:13:47.648 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:13:47.648 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:13:47.648 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:13:47.648 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:13:54.951 +02:00 [DBG] Connection id "0HN0HV0G0T54U" received FIN.
2024-01-10 20:13:54.951 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:13:54.952 +02:00 [DBG] Socket closed.
2024-01-10 20:13:54.953 +02:00 [DBG] Connection id "0HN0HV0G0T54U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:13:54.955 +02:00 [DBG] Connection id "0HN0HV0G0T54U" disconnecting.
2024-01-10 20:13:54.956 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:13:54.961 +02:00 [DBG] Removing connection 2_koflt4_KcMvFbforkyJA from the list of connections.
2024-01-10 20:13:54.961 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:13:54.961 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 7430.1763 ms
2024-01-10 20:13:54.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 7440.0573ms
2024-01-10 20:13:54.971 +02:00 [DBG] Connection id "0HN0HV0G0T54U" stopped.
2024-01-10 20:13:55.590 +02:00 [DBG] Connection id "0HN0HV0G0T54V" accepted.
2024-01-10 20:13:55.590 +02:00 [DBG] Connection id "0HN0HV0G0T54V" started.
2024-01-10 20:13:55.591 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:13:55.591 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:13:55.591 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:13:55.591 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:13:55.591 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:13:55.591 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:13:55.591 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:13:55.591 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:13:55.591 +02:00 [DBG] New connection kcIwRR1_gSLHbPEcUhLidg created.
2024-01-10 20:13:55.591 +02:00 [DBG] Establishing new connection.
2024-01-10 20:13:55.591 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:13:55.591 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:13:55.647 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:13:55.648 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:13:55.667 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:13:55.667 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:13:55.668 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:13:55.668 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:13:55.668 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:13:55.668 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:13:55.668 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:13:55.673 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:13:55.673 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:13:55.673 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:13:55.673 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:13:55.673 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:14:04.487 +02:00 [DBG] Connection id "0HN0HV0G0T550" accepted.
2024-01-10 20:14:04.488 +02:00 [DBG] Connection id "0HN0HV0G0T550" started.
2024-01-10 20:14:04.497 +02:00 [DBG] Connection 0HN0HV0G0T550 established using the following protocol: "Tls12"
2024-01-10 20:14:04.498 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:14:04.498 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:14:04.498 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:14:04.499 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:14:04.499 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 1.5308ms
2024-01-10 20:14:04.501 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:14:04.501 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:14:04.501 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:14:04.501 +02:00 [DBG] POST requests are not supported
2024-01-10 20:14:04.502 +02:00 [DBG] POST requests are not supported
2024-01-10 20:14:04.502 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:14:04.502 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:14:04.502 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:14:04.502 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:14:04.502 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:14:04.502 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:14:04.503 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:14:04.503 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:14:04.503 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:14:04.503 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:14:04.503 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:14:04.503 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:14:04.503 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:14:04.503 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:14:04.503 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:14:04.503 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:14:04.504 +02:00 [DBG] Connection id "0HN0HV0G0T550", Request id "0HN0HV0G0T550:00000003": started reading request body.
2024-01-10 20:14:04.504 +02:00 [DBG] Connection id "0HN0HV0G0T550", Request id "0HN0HV0G0T550:00000003": done reading request body.
2024-01-10 20:14:04.504 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:14:04.504 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:14:04.504 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:14:04.505 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:14:04.505 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:14:04.505 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:04.506 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:04.506 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:04.506 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:04.506 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:14:04.510 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:14:04.511 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:14:04.511 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:04.511 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:14:04.511 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:04.511 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:14:04.512 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:14:04.512 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:04.512 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:04.512 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:04.512 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:04.512 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:14:04.514 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:14:04.514 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:04.514 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:14:04.514 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:04.514 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:14:04.514 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:14:04.514 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:14:04.514 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:14:04.514 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:14:04.515 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:14:04.515 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:14:04.515 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:14:04.515 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:04.515 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:04.515 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:14:04.515 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:04.515 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:04.515 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:14:04.519 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:14:04.519 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:04.519 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:14:04.519 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:04.519 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:14:04.519 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:14:04.519 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:14:04.519 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:14:04.519 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:14:04.519 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:14:04.519 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:14:04.519 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:14:04.520 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:14:04.520 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 16.8003ms
2024-01-10 20:14:04.520 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:14:04.520 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 18.1896 ms
2024-01-10 20:14:04.520 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 18.8383ms
2024-01-10 20:14:06.434 +02:00 [DBG] Connection id "0HN0HV0G0T550" received FIN.
2024-01-10 20:14:06.435 +02:00 [DBG] Connection id "0HN0HV0G0T550" is closed. The last processed stream ID was 3.
2024-01-10 20:14:06.435 +02:00 [DBG] Connection id "0HN0HV0G0T550" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:14:06.443 +02:00 [DBG] Connection id "0HN0HV0G0T550" stopped.
2024-01-10 20:14:29.136 +02:00 [DBG] Connection id "0HN0HV0G0T551" accepted.
2024-01-10 20:14:29.136 +02:00 [DBG] Connection id "0HN0HV0G0T551" started.
2024-01-10 20:14:29.138 +02:00 [DBG] Connection 0HN0HV0G0T551 established using the following protocol: "Tls12"
2024-01-10 20:14:29.140 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:14:29.140 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:14:29.141 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:14:29.141 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:14:29.141 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.6310ms
2024-01-10 20:14:29.142 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:14:29.143 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:14:29.143 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:14:29.143 +02:00 [DBG] POST requests are not supported
2024-01-10 20:14:29.143 +02:00 [DBG] POST requests are not supported
2024-01-10 20:14:29.143 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:14:29.143 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:14:29.143 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:14:29.143 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:14:29.143 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:14:29.143 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:14:29.143 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:14:29.143 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:14:29.143 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:14:29.143 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:14:29.143 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:14:29.143 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:14:29.143 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:14:29.143 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:14:29.143 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:14:29.143 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:14:29.144 +02:00 [DBG] Connection id "0HN0HV0G0T551", Request id "0HN0HV0G0T551:00000003": started reading request body.
2024-01-10 20:14:29.144 +02:00 [DBG] Connection id "0HN0HV0G0T551", Request id "0HN0HV0G0T551:00000003": done reading request body.
2024-01-10 20:14:29.144 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:14:29.144 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:14:29.144 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:14:29.144 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:14:29.144 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:14:29.144 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:29.144 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:29.144 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:29.144 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:29.144 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:14:29.146 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:14:29.146 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:14:29.146 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:29.146 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:14:29.146 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:29.146 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:14:29.147 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:14:29.147 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:29.147 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:29.147 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:29.148 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:29.148 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:14:29.149 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:14:29.149 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:29.149 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:14:29.149 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:29.149 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:14:29.149 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:14:29.149 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:14:29.149 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:14:29.149 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:14:29.150 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:14:29.150 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:14:29.150 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:14:29.150 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:29.150 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:29.150 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:14:29.150 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:29.150 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:29.150 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:14:29.153 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:14:29.153 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:29.153 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:14:29.153 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:29.153 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:14:29.153 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:14:29.153 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:14:29.153 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:14:29.153 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:14:29.153 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:14:29.153 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:14:29.153 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:14:29.153 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:14:29.153 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 10.1896ms
2024-01-10 20:14:29.153 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:14:29.153 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 10.7269 ms
2024-01-10 20:14:29.154 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 11.2868ms
2024-01-10 20:14:36.463 +02:00 [DBG] Connection id "0HN0HV0G0T551" received FIN.
2024-01-10 20:14:36.463 +02:00 [DBG] Connection id "0HN0HV0G0T551" is closed. The last processed stream ID was 3.
2024-01-10 20:14:36.463 +02:00 [DBG] Connection id "0HN0HV0G0T551" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:14:36.463 +02:00 [DBG] Connection id "0HN0HV0G0T551" stopped.
2024-01-10 20:14:43.415 +02:00 [DBG] Connection id "0HN0HV0G0T54V" received FIN.
2024-01-10 20:14:43.415 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:14:43.416 +02:00 [DBG] Connection id "0HN0HV0G0T54V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:14:43.416 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:14:43.427 +02:00 [DBG] Connection id "0HN0HV0G0T54V" disconnecting.
2024-01-10 20:14:43.427 +02:00 [DBG] Socket closed.
2024-01-10 20:14:43.427 +02:00 [DBG] Removing connection kcIwRR1_gSLHbPEcUhLidg from the list of connections.
2024-01-10 20:14:43.428 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:14:43.428 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 47836.6171 ms
2024-01-10 20:14:43.428 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 47837.0962ms
2024-01-10 20:14:43.428 +02:00 [DBG] Connection id "0HN0HV0G0T54V" stopped.
2024-01-10 20:14:43.807 +02:00 [DBG] Connection id "0HN0HV0G0T552" accepted.
2024-01-10 20:14:43.807 +02:00 [DBG] Connection id "0HN0HV0G0T552" started.
2024-01-10 20:14:43.807 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:14:43.807 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:14:43.807 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:14:43.807 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:14:43.807 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:14:43.807 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:14:43.807 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:14:43.807 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:14:43.808 +02:00 [DBG] New connection 6xKqpLOU79TiBRhtpWCtLg created.
2024-01-10 20:14:43.808 +02:00 [DBG] Establishing new connection.
2024-01-10 20:14:43.808 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:14:43.808 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:14:43.846 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:14:43.847 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:14:43.848 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:14:43.849 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:14:43.849 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:43.849 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:14:43.849 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:43.849 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:43.849 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:14:43.851 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:14:43.851 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:43.851 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:14:43.851 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:14:43.851 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:40:32.405 +02:00 [DBG] Connection id "0HN0HV0G0T552" received FIN.
2024-01-10 20:40:32.405 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:40:32.405 +02:00 [DBG] Connection id "0HN0HV0G0T552" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:40:32.405 +02:00 [DBG] Connection id "0HN0HV0G0T552" disconnecting.
2024-01-10 20:40:32.407 +02:00 [DBG] Socket closed.
2024-01-10 20:40:32.408 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:40:32.437 +02:00 [DBG] Removing connection 6xKqpLOU79TiBRhtpWCtLg from the list of connections.
2024-01-10 20:40:32.437 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:40:32.437 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 1548627.9025 ms
2024-01-10 20:40:32.445 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 1548635.5621ms
2024-01-10 20:40:32.446 +02:00 [DBG] Connection id "0HN0HV0G0T552" stopped.
2024-01-10 20:40:32.768 +02:00 [DBG] Connection id "0HN0HV0G0T553" accepted.
2024-01-10 20:40:32.768 +02:00 [DBG] Connection id "0HN0HV0G0T553" started.
2024-01-10 20:40:32.769 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:40:32.769 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:40:32.770 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:40:32.770 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:40:32.770 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:40:32.770 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:40:32.770 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:40:32.770 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:40:32.770 +02:00 [DBG] New connection B0WRhyrUsqZD8NjJK1YkpQ created.
2024-01-10 20:40:32.770 +02:00 [DBG] Establishing new connection.
2024-01-10 20:40:32.770 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:40:32.770 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:40:32.806 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:40:32.807 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:40:32.810 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:40:32.812 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:40:32.812 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:40:32.812 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:40:32.812 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:40:34.322 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:40:34.322 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:40:34.336 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:40:34.337 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:40:34.337 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:40:34.337 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:40:34.337 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:43:18.843 +02:00 [DBG] Connection id "0HN0HV0G0T553" received FIN.
2024-01-10 20:43:18.843 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:43:18.844 +02:00 [DBG] Connection id "0HN0HV0G0T553" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:43:18.845 +02:00 [DBG] Connection id "0HN0HV0G0T553" disconnecting.
2024-01-10 20:43:18.846 +02:00 [DBG] Socket closed.
2024-01-10 20:43:18.848 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:43:18.857 +02:00 [DBG] Removing connection B0WRhyrUsqZD8NjJK1YkpQ from the list of connections.
2024-01-10 20:43:18.858 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:43:18.859 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 166088.5359 ms
2024-01-10 20:43:18.862 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 166090.4983ms
2024-01-10 20:43:18.868 +02:00 [DBG] Connection id "0HN0HV0G0T553" stopped.
2024-01-10 20:43:19.076 +02:00 [DBG] Connection id "0HN0HV0G0T554" accepted.
2024-01-10 20:43:19.076 +02:00 [DBG] Connection id "0HN0HV0G0T554" started.
2024-01-10 20:43:19.077 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:43:19.077 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:43:19.077 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:43:19.077 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:43:19.077 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:43:19.077 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:43:19.077 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:43:19.077 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:43:19.077 +02:00 [DBG] New connection MBMajnNiIjimbAa39oli8A created.
2024-01-10 20:43:19.077 +02:00 [DBG] Establishing new connection.
2024-01-10 20:43:19.077 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:43:19.077 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:43:19.083 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:43:19.083 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:43:19.085 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:43:19.086 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:43:19.086 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:43:19.086 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:43:19.086 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:43:19.087 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:43:19.087 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:43:19.100 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:43:19.101 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:43:19.101 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:43:19.101 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:43:19.101 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:47:17.741 +02:00 [DBG] Connection id "0HN0HV0G0T555" accepted.
2024-01-10 20:47:17.741 +02:00 [DBG] Connection id "0HN0HV0G0T555" started.
2024-01-10 20:47:17.746 +02:00 [DBG] Connection 0HN0HV0G0T555 established using the following protocol: "Tls12"
2024-01-10 20:47:17.747 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:47:17.747 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:47:17.747 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:47:17.747 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:47:17.747 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.6946ms
2024-01-10 20:47:17.749 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:47:17.749 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:47:17.750 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:47:17.750 +02:00 [DBG] POST requests are not supported
2024-01-10 20:47:17.750 +02:00 [DBG] POST requests are not supported
2024-01-10 20:47:17.751 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:47:17.775 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:47:17.775 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:47:17.776 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:47:17.776 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:47:17.776 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:47:17.776 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:47:17.776 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:47:17.776 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:47:17.776 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:47:17.776 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:47:17.777 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:47:17.777 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:47:17.778 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:47:17.778 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:47:17.779 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:47:17.779 +02:00 [DBG] Connection id "0HN0HV0G0T555", Request id "0HN0HV0G0T555:00000003": started reading request body.
2024-01-10 20:47:17.779 +02:00 [DBG] Connection id "0HN0HV0G0T555", Request id "0HN0HV0G0T555:00000003": done reading request body.
2024-01-10 20:47:17.779 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:47:17.779 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:47:17.780 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:47:17.780 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:47:17.780 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:47:17.780 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:47:17.780 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:47:17.780 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:47:17.780 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:47:17.780 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:47:17.787 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:47:17.787 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:47:17.787 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:47:17.787 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:47:17.787 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:47:17.787 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:47:17.788 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:47:17.788 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:47:17.788 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:47:17.788 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:47:17.788 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:47:17.788 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:47:17.790 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:47:17.790 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:47:17.790 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:47:17.790 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:47:17.790 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:47:17.790 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:47:17.790 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:47:17.790 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:47:17.790 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:47:17.790 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:47:17.790 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:47:17.790 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:47:17.790 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:47:17.791 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:47:17.791 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:47:17.791 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:47:17.791 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:47:17.791 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:47:17.794 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:47:17.794 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:47:17.794 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:47:17.794 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:47:17.794 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:47:17.794 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:47:17.794 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:47:17.795 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:47:17.795 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:47:17.795 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:47:17.795 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:47:17.795 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:47:17.795 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:47:17.795 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 18.8324ms
2024-01-10 20:47:17.795 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:47:17.795 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 43.6154 ms
2024-01-10 20:47:17.795 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 45.7097ms
2024-01-10 20:47:24.125 +02:00 [DBG] Connection id "0HN0HV0G0T555" received FIN.
2024-01-10 20:47:24.125 +02:00 [DBG] Connection id "0HN0HV0G0T555" is closed. The last processed stream ID was 3.
2024-01-10 20:47:24.125 +02:00 [DBG] Connection id "0HN0HV0G0T555" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:47:24.139 +02:00 [DBG] Connection id "0HN0HV0G0T555" stopped.
2024-01-10 20:48:25.173 +02:00 [DBG] Connection id "0HN0HV0G0T556" accepted.
2024-01-10 20:48:25.173 +02:00 [DBG] Connection id "0HN0HV0G0T556" started.
2024-01-10 20:48:25.179 +02:00 [DBG] Connection 0HN0HV0G0T556 established using the following protocol: "Tls12"
2024-01-10 20:48:25.180 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:48:25.180 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:48:25.180 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:48:25.180 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:48:25.180 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.7165ms
2024-01-10 20:48:25.182 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:48:25.182 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:48:25.182 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:48:25.182 +02:00 [DBG] POST requests are not supported
2024-01-10 20:48:25.182 +02:00 [DBG] POST requests are not supported
2024-01-10 20:48:25.185 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:48:25.186 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:48:25.186 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:48:25.186 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:48:25.186 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:48:25.187 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:48:25.188 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:48:25.188 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:48:25.188 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:48:25.188 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:48:25.188 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:48:25.188 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:48:25.188 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:48:25.188 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:48:25.188 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:48:25.188 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:48:25.188 +02:00 [DBG] Connection id "0HN0HV0G0T556", Request id "0HN0HV0G0T556:00000003": started reading request body.
2024-01-10 20:48:25.188 +02:00 [DBG] Connection id "0HN0HV0G0T556", Request id "0HN0HV0G0T556:00000003": done reading request body.
2024-01-10 20:48:25.188 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:48:25.188 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:48:25.188 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:48:25.189 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:48:25.189 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:48:25.189 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:25.189 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:25.189 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:25.190 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:25.190 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:48:25.196 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:48:25.196 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:48:25.196 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:25.196 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:48:25.196 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:25.196 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:48:25.197 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:48:25.197 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:25.197 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:25.197 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:25.197 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:25.197 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:48:25.199 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:48:25.199 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:25.199 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:48:25.199 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:25.199 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:48:25.199 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:48:25.199 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:48:25.199 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:48:25.199 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:48:25.199 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:48:25.199 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:48:25.199 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:48:25.199 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:25.199 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:25.199 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:48:25.199 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:25.199 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:25.199 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:48:25.203 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:48:25.204 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:25.204 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:48:25.204 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:25.204 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:48:25.204 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:48:25.204 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:48:25.204 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:48:25.204 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:48:25.204 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:48:25.204 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:48:25.204 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:48:25.204 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:48:25.204 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 16.475ms
2024-01-10 20:48:25.204 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:48:25.204 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 19.3360 ms
2024-01-10 20:48:25.204 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 22.9895ms
2024-01-10 20:48:31.460 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:48:31.460 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:48:31.460 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:48:31.460 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:48:31.460 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.5479ms
2024-01-10 20:48:31.462 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:48:31.463 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:48:31.463 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:48:31.463 +02:00 [DBG] POST requests are not supported
2024-01-10 20:48:31.463 +02:00 [DBG] POST requests are not supported
2024-01-10 20:48:31.463 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:48:31.463 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:48:31.463 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:48:31.463 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:48:31.463 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:48:31.463 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:48:31.463 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:48:31.463 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:48:31.463 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:48:31.463 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:48:31.463 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:48:31.464 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:48:31.464 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:48:31.464 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:48:31.464 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:48:31.464 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:48:31.464 +02:00 [DBG] Connection id "0HN0HV0G0T556", Request id "0HN0HV0G0T556:00000007": started reading request body.
2024-01-10 20:48:31.464 +02:00 [DBG] Connection id "0HN0HV0G0T556", Request id "0HN0HV0G0T556:00000007": done reading request body.
2024-01-10 20:48:31.464 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:48:31.464 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:48:31.464 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:48:31.464 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:48:31.464 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:48:31.464 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:31.464 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:31.465 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:31.465 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:31.465 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:48:31.468 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:48:31.468 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:48:31.468 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:31.468 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:48:31.469 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:31.469 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:48:31.469 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:48:31.469 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:31.470 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:31.470 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:31.470 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:31.470 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:48:31.472 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:48:31.473 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:31.473 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:48:31.473 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:31.473 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:48:31.473 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:48:31.473 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:48:31.473 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:48:31.473 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:48:31.473 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:48:31.473 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:48:31.473 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:48:31.473 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:31.474 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:31.474 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:48:31.474 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:31.474 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:31.474 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:48:31.479 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:48:31.479 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:31.479 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:48:31.479 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:31.479 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:48:31.480 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:48:31.480 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:48:31.480 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:48:31.480 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:48:31.480 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:48:31.480 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:48:31.480 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:48:31.480 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:48:31.481 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 17.0732ms
2024-01-10 20:48:31.481 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:48:31.481 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 17.8047 ms
2024-01-10 20:48:31.481 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 18.5544ms
2024-01-10 20:48:34.198 +02:00 [DBG] Connection id "0HN0HV0G0T556" received FIN.
2024-01-10 20:48:34.198 +02:00 [DBG] Connection id "0HN0HV0G0T556" is closed. The last processed stream ID was 7.
2024-01-10 20:48:34.198 +02:00 [DBG] Connection id "0HN0HV0G0T556" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:48:34.206 +02:00 [DBG] Connection id "0HN0HV0G0T556" stopped.
2024-01-10 20:48:46.588 +02:00 [DBG] Connection id "0HN0HV0G0T554" received FIN.
2024-01-10 20:48:46.588 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:48:46.593 +02:00 [DBG] Connection id "0HN0HV0G0T554" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:48:46.593 +02:00 [DBG] Socket closed.
2024-01-10 20:48:46.594 +02:00 [DBG] Connection id "0HN0HV0G0T554" disconnecting.
2024-01-10 20:48:46.594 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:48:46.634 +02:00 [DBG] Removing connection MBMajnNiIjimbAa39oli8A from the list of connections.
2024-01-10 20:48:46.641 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:48:46.641 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 327563.9012 ms
2024-01-10 20:48:46.667 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 327564.4379ms
2024-01-10 20:48:46.667 +02:00 [DBG] Connection id "0HN0HV0G0T554" stopped.
2024-01-10 20:48:47.361 +02:00 [DBG] Connection id "0HN0HV0G0T557" accepted.
2024-01-10 20:48:47.362 +02:00 [DBG] Connection id "0HN0HV0G0T557" started.
2024-01-10 20:48:47.369 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:48:47.370 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:48:47.370 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:48:47.370 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:48:47.370 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:48:47.370 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:48:47.370 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:48:47.370 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:48:47.371 +02:00 [DBG] New connection kTURGjGTCbt3g45XJdAWJg created.
2024-01-10 20:48:47.371 +02:00 [DBG] Establishing new connection.
2024-01-10 20:48:47.371 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:48:47.371 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:48:47.426 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:48:47.426 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:48:47.429 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:48:47.430 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:48:47.430 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:47.430 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:47.430 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:47.430 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:47.430 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:48:47.432 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:48:47.433 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:47.433 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:48:47.433 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:47.433 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:48:51.627 +02:00 [DBG] Connection id "0HN0HV0G0T558" accepted.
2024-01-10 20:48:51.627 +02:00 [DBG] Connection id "0HN0HV0G0T558" started.
2024-01-10 20:48:51.634 +02:00 [DBG] Connection 0HN0HV0G0T558 established using the following protocol: "Tls12"
2024-01-10 20:48:51.635 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:48:51.635 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:48:51.635 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:48:51.635 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:48:51.636 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.8358ms
2024-01-10 20:48:51.638 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:48:51.638 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:48:51.638 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:48:51.638 +02:00 [DBG] POST requests are not supported
2024-01-10 20:48:51.638 +02:00 [DBG] POST requests are not supported
2024-01-10 20:48:51.638 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:48:51.638 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:48:51.638 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:48:51.638 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:48:51.638 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:48:51.638 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:48:51.638 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:48:51.638 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:48:51.638 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:48:51.638 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:48:51.639 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:48:51.639 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:48:51.639 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:48:51.639 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:48:51.639 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:48:51.639 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:48:51.639 +02:00 [DBG] Connection id "0HN0HV0G0T558", Request id "0HN0HV0G0T558:00000003": started reading request body.
2024-01-10 20:48:51.639 +02:00 [DBG] Connection id "0HN0HV0G0T558", Request id "0HN0HV0G0T558:00000003": done reading request body.
2024-01-10 20:48:51.639 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:48:51.639 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:48:51.639 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:48:51.639 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:48:51.640 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:48:51.640 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:51.640 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:51.640 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:51.640 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:51.640 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:48:51.644 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:48:51.644 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:48:51.644 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:51.645 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:48:51.645 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:51.645 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:48:51.645 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:48:51.645 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:51.645 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:51.645 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:51.646 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:51.646 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:48:51.647 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:48:51.647 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:51.647 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:48:51.647 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:51.648 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:48:51.648 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:48:51.648 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:48:51.648 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:48:51.648 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:48:51.648 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:48:51.648 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:48:51.648 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:48:51.648 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:51.648 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:51.648 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:48:51.648 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:51.648 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:48:51.648 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:48:51.653 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:48:51.653 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:51.654 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:48:51.654 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:48:51.654 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:48:51.654 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:48:51.654 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:48:51.654 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:48:51.654 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:48:51.654 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:48:51.654 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:48:51.654 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:48:51.654 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:48:51.654 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 15.6719ms
2024-01-10 20:48:51.654 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:48:51.654 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 16.3499 ms
2024-01-10 20:48:51.654 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 17.2185ms
2024-01-10 20:48:54.230 +02:00 [DBG] Connection id "0HN0HV0G0T558" received FIN.
2024-01-10 20:48:54.230 +02:00 [DBG] Connection id "0HN0HV0G0T558" is closed. The last processed stream ID was 3.
2024-01-10 20:48:54.230 +02:00 [DBG] Connection id "0HN0HV0G0T558" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:48:54.231 +02:00 [DBG] Connection id "0HN0HV0G0T558" stopped.
2024-01-10 20:49:01.220 +02:00 [DBG] Connection id "0HN0HV0G0T559" accepted.
2024-01-10 20:49:01.220 +02:00 [DBG] Connection id "0HN0HV0G0T559" started.
2024-01-10 20:49:01.221 +02:00 [DBG] Connection 0HN0HV0G0T559 established using the following protocol: "Tls12"
2024-01-10 20:49:01.223 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:49:01.223 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:49:01.223 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:49:01.223 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:49:01.223 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.8939ms
2024-01-10 20:49:01.225 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:49:01.225 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:49:01.225 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:49:01.225 +02:00 [DBG] POST requests are not supported
2024-01-10 20:49:01.225 +02:00 [DBG] POST requests are not supported
2024-01-10 20:49:01.225 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:49:01.225 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:49:01.225 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:49:01.225 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:49:01.225 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:49:01.225 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:49:01.226 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:49:01.226 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:49:01.226 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:49:01.226 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:49:01.226 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:49:01.226 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:49:01.226 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:49:01.226 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:49:01.226 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:49:01.226 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:49:01.227 +02:00 [DBG] Connection id "0HN0HV0G0T559", Request id "0HN0HV0G0T559:00000003": started reading request body.
2024-01-10 20:49:01.227 +02:00 [DBG] Connection id "0HN0HV0G0T559", Request id "0HN0HV0G0T559:00000003": done reading request body.
2024-01-10 20:49:01.227 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:49:01.227 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:49:01.227 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:49:01.227 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:49:01.228 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:49:01.228 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:49:01.228 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:49:01.228 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:49:01.228 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:49:01.228 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:49:01.232 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:49:01.232 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:49:01.232 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:49:01.232 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:49:01.233 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:49:01.233 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:49:01.233 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:49:01.233 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:49:01.233 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:49:01.233 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:49:01.233 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:49:01.233 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:49:01.234 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:49:01.234 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:49:01.235 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:49:01.235 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:49:01.235 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:49:01.235 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:49:01.235 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:49:01.235 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:49:01.235 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:49:01.235 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:49:01.235 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:49:01.235 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:49:01.235 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:49:01.235 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:49:01.235 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:49:01.235 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:49:01.235 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:49:01.235 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:49:01.239 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:49:01.239 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:49:01.239 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:49:01.239 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:49:01.239 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:49:01.240 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:49:01.240 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:49:01.240 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:49:01.240 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:49:01.240 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:49:01.240 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:49:01.240 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-10 20:49:01.240 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-10 20:49:01.240 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 14.3682ms
2024-01-10 20:49:01.240 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:49:01.240 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 15.2675 ms
2024-01-10 20:49:01.241 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 - text/plain;+charset=utf-8 16.0940ms
2024-01-10 20:49:04.238 +02:00 [DBG] Connection id "0HN0HV0G0T559" received FIN.
2024-01-10 20:49:04.238 +02:00 [DBG] Connection id "0HN0HV0G0T559" is closed. The last processed stream ID was 3.
2024-01-10 20:49:04.238 +02:00 [DBG] Connection id "0HN0HV0G0T559" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:49:04.238 +02:00 [DBG] Connection id "0HN0HV0G0T559" stopped.
2024-01-10 20:49:58.746 +02:00 [INF] Application starting up
2024-01-10 20:50:00.042 +02:00 [DBG] Hosting starting
2024-01-10 20:50:00.582 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 20:50:01.676 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 20:50:02.118 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 20:50:02.118 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 20:50:02.118 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 20:50:02.118 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 20:50:02.119 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 20:50:02.615 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 20:50:02.646 +02:00 [DBG] Creating DbConnection.
2024-01-10 20:50:02.662 +02:00 [DBG] Created DbConnection. (9ms).
2024-01-10 20:50:02.667 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:02.683 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:02.823 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:02.841 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 20:50:02.853 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2024-01-10 20:50:02.857 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (21ms).
2024-01-10 20:50:02.874 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 20:50:02.934 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 20:50:02.939 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:02.953 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (8ms).
2024-01-10 20:50:02.959 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 20:50:02.959 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 20:50:02.959 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 20:50:02.959 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:02.961 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:02.963 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 20:50:03.010 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 20:50:03.010 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:03.011 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:50:03.012 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:03.012 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:03.012 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 20:50:03.013 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 20:50:03.013 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 20:50:03.013 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 20:50:03.014 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 20:50:03.014 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:03.015 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:50:03.015 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 20:50:03.015 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 20:50:03.015 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 20:50:03.015 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:03.015 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:03.015 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 20:50:03.016 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 20:50:03.016 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:03.016 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:50:03.059 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:50:03.060 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:50:03.060 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:50:03.060 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:03.060 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:03.062 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 20:50:03.072 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 20:50:03.080 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:03.084 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 7ms reading results.
2024-01-10 20:50:03.085 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:03.085 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:50:03.160 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 20:50:03.408 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 20:50:03.799 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 20:50:04.192 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 20:50:04.416 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 20:50:04.416 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 20:50:04.416 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 20:50:04.416 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 20:50:04.416 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 20:50:04.422 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 20:50:04.423 +02:00 [INF] Hosting environment: Development
2024-01-10 20:50:04.424 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 20:50:04.424 +02:00 [DBG] Hosting started
2024-01-10 20:50:04.481 +02:00 [DBG] Connection id "0HN0I1JQLEI9V" received FIN.
2024-01-10 20:50:04.490 +02:00 [DBG] Connection id "0HN0I1JQLEI9V" accepted.
2024-01-10 20:50:04.492 +02:00 [DBG] Connection id "0HN0I1JQLEI9V" started.
2024-01-10 20:50:04.532 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 20:50:04.626 +02:00 [DBG] Connection id "0HN0I1JQLEI9V" stopped.
2024-01-10 20:50:04.634 +02:00 [DBG] Connection id "0HN0I1JQLEI9V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:50:05.444 +02:00 [DBG] Connection id "0HN0I1JQLEIA0" accepted.
2024-01-10 20:50:05.454 +02:00 [DBG] Connection id "0HN0I1JQLEIA0" started.
2024-01-10 20:50:05.720 +02:00 [DBG] Connection 0HN0I1JQLEIA0 established using the following protocol: "Tls12"
2024-01-10 20:50:05.852 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 20:50:05.970 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 20:50:06.490 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 20:50:06.818 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 20:50:06.818 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 20:50:06.821 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 20:50:06.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 29.4197ms
2024-01-10 20:50:06.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 1008.7242ms
2024-01-10 20:50:06.958 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 140.2070ms
2024-01-10 20:50:07.056 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 20:50:07.485 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 428.8241ms
2024-01-10 20:50:09.328 +02:00 [DBG] Connection id "0HN0I1JQLEIA0" received FIN.
2024-01-10 20:50:09.329 +02:00 [DBG] Connection id "0HN0I1JQLEIA0" is closed. The last processed stream ID was 7.
2024-01-10 20:50:09.329 +02:00 [DBG] Connection id "0HN0I1JQLEIA0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:50:09.334 +02:00 [DBG] Connection id "0HN0I1JQLEIA0" stopped.
2024-01-10 20:50:22.425 +02:00 [DBG] Connection id "0HN0I1JQLEIA1" accepted.
2024-01-10 20:50:22.425 +02:00 [DBG] Connection id "0HN0I1JQLEIA1" started.
2024-01-10 20:50:22.439 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:50:22.441 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:50:22.441 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:50:22.445 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:50:22.447 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:50:22.489 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:50:22.489 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:50:22.490 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:50:22.511 +02:00 [DBG] New connection 6bzURRiqWWzq3QRI9X-IEg created.
2024-01-10 20:50:22.522 +02:00 [DBG] Establishing new connection.
2024-01-10 20:50:22.532 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:50:22.545 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:50:22.571 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:50:22.576 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:50:22.617 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:50:22.763 +02:00 [DBG] Compiling query expression: 
'DbSet<DeviceReading>()
    .Where(d => !(d.IsAlertRead) && d.AlertType != null)
    .Count()'
2024-01-10 20:50:23.209 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM DeviceReadings AS d
            WHERE Not(d.IsAlertRead) && (d.AlertType != NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccessLayer.InternshipContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-10 20:50:23.312 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:50:23.312 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:50:23.312 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:50:23.323 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:23.324 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:23.326 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:50:23.380 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:50:23.412 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:23.414 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 34ms reading results.
2024-01-10 20:50:23.422 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:23.423 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 20:50:26.204 +02:00 [DBG] Connection id "0HN0I1JQLEIA2" accepted.
2024-01-10 20:50:26.204 +02:00 [DBG] Connection id "0HN0I1JQLEIA2" started.
2024-01-10 20:50:26.211 +02:00 [DBG] Connection 0HN0I1JQLEIA2 established using the following protocol: "Tls12"
2024-01-10 20:50:26.213 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:50:26.213 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:50:26.213 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:50:26.213 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:50:26.214 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 1.5169ms
2024-01-10 20:50:26.220 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:50:26.220 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:50:26.220 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:50:26.220 +02:00 [DBG] POST requests are not supported
2024-01-10 20:50:26.220 +02:00 [DBG] POST requests are not supported
2024-01-10 20:50:26.221 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:50:26.222 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:50:26.222 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:50:26.222 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:50:26.254 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:50:26.254 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:50:26.255 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:50:26.255 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:50:26.255 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:50:26.255 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:50:26.257 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:50:26.259 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:50:26.265 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:50:26.268 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:50:26.269 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:50:26.270 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:50:26.295 +02:00 [DBG] Connection id "0HN0I1JQLEIA2", Request id "0HN0I1JQLEIA2:00000003": started reading request body.
2024-01-10 20:50:26.296 +02:00 [DBG] Connection id "0HN0I1JQLEIA2", Request id "0HN0I1JQLEIA2:00000003": done reading request body.
2024-01-10 20:50:26.424 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:50:26.424 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:50:26.424 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:50:26.439 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:50:26.445 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Username == __userObj_Username_0)'
2024-01-10 20:50:26.495 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FirstName (string), 2], [Property: User.IsActive (bool?) ValueGenerated.OnAdd, 3], [Property: User.LastName (string), 4], [Property: User.Password (string), 5], [Property: User.RefreshToken (string), 6], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 7], [Property: User.RoleId (int?) FK Index, 8], [Property: User.Token (string), 9], [Property: User.Username (string) Index, 10] }
            SELECT TOP(1) u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RefreshToken, u.RefreshTokenExpiryTime, u.RoleId, u.Token, u.Username
            FROM Users AS u
            WHERE u.Username == @__userObj_Username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        DataAccessLayer.InternshipContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-10 20:50:26.519 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:50:26.519 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:50:26.524 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-10 20:50:26.525 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:26.525 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:26.531 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:50:26.586 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:50:26.624 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:50:26.668 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:26.670 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 83ms reading results.
2024-01-10 20:50:26.670 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:26.670 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:50:26.927 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(a => a.RefreshToken == __refreshToken_0)'
2024-01-10 20:50:26.932 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 20:50:26.941 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:50:26.941 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:50:26.941 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:50:26.942 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:26.942 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:26.942 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:50:26.944 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:50:26.945 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:26.945 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:50:26.945 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:26.945 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:50:26.953 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:50:26.957 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:50:26.979 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:50:26.991 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:50:26.995 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:50:26.998 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:50:27.003 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:50:27.112 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:27.113 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:27.123 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:50:27.124 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:50:27.126 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-10 20:50:27.128 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:50:27.132 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:50:27.145 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:27.145 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2024-01-10 20:50:27.147 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:50:27.147 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:50:27.158 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:50:27.162 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:50:27.167 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:50:27.170 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:50:27.170 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:50:27.170 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:50:27.171 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:50:27.171 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:50:27.222 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 961.9779ms
2024-01-10 20:50:27.224 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:50:27.230 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 1005.2873 ms
2024-01-10 20:50:27.231 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 1011.4098ms
2024-01-10 20:50:29.343 +02:00 [DBG] Connection id "0HN0I1JQLEIA2" received FIN.
2024-01-10 20:50:29.343 +02:00 [DBG] Connection id "0HN0I1JQLEIA2" is closed. The last processed stream ID was 3.
2024-01-10 20:50:29.343 +02:00 [DBG] Connection id "0HN0I1JQLEIA2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:50:29.352 +02:00 [DBG] Connection id "0HN0I1JQLEIA2" stopped.
2024-01-10 20:51:02.267 +02:00 [DBG] Connection id "0HN0I1JQLEIA3" accepted.
2024-01-10 20:51:02.267 +02:00 [DBG] Connection id "0HN0I1JQLEIA3" started.
2024-01-10 20:51:02.277 +02:00 [DBG] Connection 0HN0I1JQLEIA3 established using the following protocol: "Tls12"
2024-01-10 20:51:02.278 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:51:02.279 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:51:02.279 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:51:02.279 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:51:02.279 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 1.1817ms
2024-01-10 20:51:02.281 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:51:02.281 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:51:02.281 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:51:02.281 +02:00 [DBG] POST requests are not supported
2024-01-10 20:51:02.281 +02:00 [DBG] POST requests are not supported
2024-01-10 20:51:02.284 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:51:02.284 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:51:02.284 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:51:02.284 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:51:02.284 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:51:02.285 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:51:02.285 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:51:02.285 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:51:02.285 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:51:02.285 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:51:02.285 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:51:02.285 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:51:02.286 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:51:02.286 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:51:02.286 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:51:02.286 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:51:02.286 +02:00 [DBG] Connection id "0HN0I1JQLEIA3", Request id "0HN0I1JQLEIA3:00000003": started reading request body.
2024-01-10 20:51:02.286 +02:00 [DBG] Connection id "0HN0I1JQLEIA3", Request id "0HN0I1JQLEIA3:00000003": done reading request body.
2024-01-10 20:51:02.286 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:51:02.286 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:51:02.286 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:51:02.287 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:51:02.290 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:51:02.290 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:02.290 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:02.291 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:02.291 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:02.291 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:51:02.299 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:51:02.300 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:51:02.300 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:02.300 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:51:02.300 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:02.300 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:51:02.301 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:51:02.301 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:02.301 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:02.302 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:02.302 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:02.302 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:51:02.304 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:51:02.304 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:02.304 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:51:02.304 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:02.304 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:51:02.304 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:51:02.304 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:51:02.304 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:51:02.305 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:51:02.305 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:51:02.305 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:51:02.305 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:51:02.306 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:02.306 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:02.306 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:51:02.306 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:02.306 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:02.306 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:51:02.310 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:51:02.310 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:02.310 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:51:02.310 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:02.310 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:51:02.311 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:51:02.311 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:51:02.311 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:51:02.311 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:51:02.311 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:51:02.311 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:51:02.311 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:51:02.311 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:51:02.311 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 26.6002ms
2024-01-10 20:51:02.311 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:51:02.311 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 30.1909 ms
2024-01-10 20:51:02.312 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 30.6741ms
2024-01-10 20:51:03.045 +02:00 [DBG] Connection id "0HN0I1JQLEIA1" received FIN.
2024-01-10 20:51:03.055 +02:00 [DBG] Connection id "0HN0I1JQLEIA1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:51:03.059 +02:00 [DBG] Connection id "0HN0I1JQLEIA1" disconnecting.
2024-01-10 20:51:03.060 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:51:03.069 +02:00 [DBG] Socket closed.
2024-01-10 20:51:03.101 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:51:03.110 +02:00 [DBG] Removing connection 6bzURRiqWWzq3QRI9X-IEg from the list of connections.
2024-01-10 20:51:03.116 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:51:03.116 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 40667.3382 ms
2024-01-10 20:51:03.117 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 40677.7099ms
2024-01-10 20:51:03.117 +02:00 [DBG] Connection id "0HN0I1JQLEIA1" stopped.
2024-01-10 20:51:03.326 +02:00 [DBG] Connection id "0HN0I1JQLEIA4" accepted.
2024-01-10 20:51:03.327 +02:00 [DBG] Connection id "0HN0I1JQLEIA4" started.
2024-01-10 20:51:03.329 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:51:03.329 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:51:03.329 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:51:03.329 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:51:03.329 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:51:03.329 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:51:03.329 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:51:03.330 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:51:03.330 +02:00 [DBG] New connection zKRrNvY4S0Jx0pqDKdQRdQ created.
2024-01-10 20:51:03.330 +02:00 [DBG] Establishing new connection.
2024-01-10 20:51:03.330 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:51:03.331 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:51:03.354 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:51:03.354 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:51:03.357 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:51:03.359 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:51:03.359 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:03.359 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:03.359 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:03.360 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:03.360 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:51:03.365 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:51:03.365 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:03.365 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:51:03.365 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:03.365 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:51:04.379 +02:00 [DBG] Connection id "0HN0I1JQLEIA3" received FIN.
2024-01-10 20:51:04.379 +02:00 [DBG] Connection id "0HN0I1JQLEIA3" is closed. The last processed stream ID was 3.
2024-01-10 20:51:04.379 +02:00 [DBG] Connection id "0HN0I1JQLEIA3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:51:04.379 +02:00 [DBG] Connection id "0HN0I1JQLEIA3" stopped.
2024-01-10 20:51:35.801 +02:00 [DBG] Connection id "0HN0I1JQLEIA4" received FIN.
2024-01-10 20:51:35.801 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:51:35.803 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:51:35.803 +02:00 [DBG] Connection id "0HN0I1JQLEIA4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:51:35.803 +02:00 [DBG] Socket closed.
2024-01-10 20:51:35.805 +02:00 [DBG] Connection id "0HN0I1JQLEIA4" disconnecting.
2024-01-10 20:51:35.832 +02:00 [DBG] Removing connection zKRrNvY4S0Jx0pqDKdQRdQ from the list of connections.
2024-01-10 20:51:35.832 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:51:35.832 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 32502.5809 ms
2024-01-10 20:51:35.832 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 32503.3310ms
2024-01-10 20:51:35.832 +02:00 [DBG] Connection id "0HN0I1JQLEIA4" stopped.
2024-01-10 20:51:36.124 +02:00 [DBG] Connection id "0HN0I1JQLEIA5" accepted.
2024-01-10 20:51:36.125 +02:00 [DBG] Connection id "0HN0I1JQLEIA5" started.
2024-01-10 20:51:36.125 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:51:36.125 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:51:36.125 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:51:36.125 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:51:36.125 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:51:36.125 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:51:36.126 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:51:36.126 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:51:36.126 +02:00 [DBG] New connection qOmURMUkHoa_TgDEypLI5w created.
2024-01-10 20:51:36.126 +02:00 [DBG] Establishing new connection.
2024-01-10 20:51:36.126 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:51:36.126 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:51:36.141 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:51:36.141 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:51:36.143 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:51:36.143 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:51:36.143 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:36.143 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:36.143 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:36.143 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:36.143 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:51:36.146 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:51:36.147 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:36.147 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:51:36.147 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:36.147 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:51:39.277 +02:00 [DBG] Connection id "0HN0I1JQLEIA6" accepted.
2024-01-10 20:51:39.277 +02:00 [DBG] Connection id "0HN0I1JQLEIA6" started.
2024-01-10 20:51:39.284 +02:00 [DBG] Connection 0HN0I1JQLEIA6 established using the following protocol: "Tls12"
2024-01-10 20:51:39.285 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:51:39.286 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:51:39.286 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:51:39.286 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:51:39.286 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.8425ms
2024-01-10 20:51:39.288 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:51:39.288 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:51:39.288 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:51:39.288 +02:00 [DBG] POST requests are not supported
2024-01-10 20:51:39.288 +02:00 [DBG] POST requests are not supported
2024-01-10 20:51:39.288 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:51:39.288 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:51:39.288 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:51:39.288 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:51:39.288 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:51:39.288 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:51:39.288 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:51:39.288 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:51:39.288 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:51:39.288 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:51:39.288 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:51:39.290 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:51:39.290 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:51:39.290 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:51:39.290 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:51:39.290 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:51:39.290 +02:00 [DBG] Connection id "0HN0I1JQLEIA6", Request id "0HN0I1JQLEIA6:00000003": started reading request body.
2024-01-10 20:51:39.290 +02:00 [DBG] Connection id "0HN0I1JQLEIA6", Request id "0HN0I1JQLEIA6:00000003": done reading request body.
2024-01-10 20:51:39.290 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:51:39.290 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:51:39.290 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:51:39.290 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:51:39.291 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:51:39.291 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:39.291 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:39.291 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:39.291 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:39.291 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:51:39.296 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:51:39.297 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:51:39.297 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:39.297 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:51:39.297 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:39.297 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:51:39.298 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:51:39.298 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:39.298 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:39.298 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:39.298 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:39.298 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:51:39.300 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:51:39.300 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:39.300 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:51:39.300 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:39.300 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:51:39.300 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:51:39.300 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:51:39.300 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:51:39.300 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:51:39.300 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:51:39.300 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:51:39.300 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:51:39.301 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:39.301 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:39.301 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:51:39.301 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:39.301 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:51:39.301 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:51:39.303 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:51:39.303 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:39.303 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:51:39.304 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:51:39.304 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:51:39.304 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:51:39.304 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:51:39.304 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:51:39.304 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:51:39.304 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:51:39.304 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:51:39.304 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:51:39.304 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:51:39.304 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 15.9099ms
2024-01-10 20:51:39.304 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:51:39.305 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 16.5347 ms
2024-01-10 20:51:39.305 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 17.1539ms
2024-01-10 20:51:44.439 +02:00 [DBG] Connection id "0HN0I1JQLEIA6" received FIN.
2024-01-10 20:51:44.439 +02:00 [DBG] Connection id "0HN0I1JQLEIA6" is closed. The last processed stream ID was 3.
2024-01-10 20:51:44.439 +02:00 [DBG] Connection id "0HN0I1JQLEIA6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:51:44.440 +02:00 [DBG] Connection id "0HN0I1JQLEIA6" stopped.
2024-01-10 20:55:48.236 +02:00 [DBG] Connection id "0HN0I1JQLEIA5" received FIN.
2024-01-10 20:55:48.236 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:55:48.237 +02:00 [DBG] Socket closed.
2024-01-10 20:55:48.246 +02:00 [DBG] Connection id "0HN0I1JQLEIA5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:55:48.256 +02:00 [DBG] Connection id "0HN0I1JQLEIA5" disconnecting.
2024-01-10 20:55:48.311 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:55:48.311 +02:00 [DBG] Removing connection qOmURMUkHoa_TgDEypLI5w from the list of connections.
2024-01-10 20:55:48.311 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:55:48.312 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 252185.7961 ms
2024-01-10 20:55:48.312 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 252186.5378ms
2024-01-10 20:55:48.312 +02:00 [DBG] Connection id "0HN0I1JQLEIA5" stopped.
2024-01-10 20:55:49.100 +02:00 [DBG] Connection id "0HN0I1JQLEIA7" accepted.
2024-01-10 20:55:49.100 +02:00 [DBG] Connection id "0HN0I1JQLEIA7" started.
2024-01-10 20:55:49.101 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:55:49.101 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:55:49.101 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:55:49.101 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:55:49.101 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:55:49.101 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:55:49.101 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:55:49.101 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:55:49.101 +02:00 [DBG] New connection ub4gchuJgUa_2WKnznaGKA created.
2024-01-10 20:55:49.101 +02:00 [DBG] Establishing new connection.
2024-01-10 20:55:49.101 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:55:49.101 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:55:49.112 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:55:49.113 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:55:49.121 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:55:49.121 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:55:49.121 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:49.122 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:49.122 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:49.122 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:49.122 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:55:49.127 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:55:49.127 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:49.127 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:55:49.127 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:49.127 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:55:57.067 +02:00 [DBG] Connection id "0HN0I1JQLEIA8" accepted.
2024-01-10 20:55:57.067 +02:00 [DBG] Connection id "0HN0I1JQLEIA8" started.
2024-01-10 20:55:57.069 +02:00 [DBG] Connection 0HN0I1JQLEIA8 established using the following protocol: "Tls12"
2024-01-10 20:55:57.070 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:55:57.070 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:55:57.070 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:55:57.070 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:55:57.071 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 1.0080ms
2024-01-10 20:55:57.072 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 46
2024-01-10 20:55:57.072 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:55:57.072 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:55:57.072 +02:00 [DBG] POST requests are not supported
2024-01-10 20:55:57.072 +02:00 [DBG] POST requests are not supported
2024-01-10 20:55:57.072 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:55:57.072 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:55:57.072 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:55:57.072 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:55:57.072 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:55:57.072 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:55:57.072 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:55:57.072 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:55:57.072 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:55:57.072 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:55:57.073 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:55:57.073 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:55:57.073 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:55:57.073 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:55:57.073 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:55:57.073 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:55:57.073 +02:00 [DBG] Connection id "0HN0I1JQLEIA8", Request id "0HN0I1JQLEIA8:00000003": started reading request body.
2024-01-10 20:55:57.073 +02:00 [DBG] Connection id "0HN0I1JQLEIA8", Request id "0HN0I1JQLEIA8:00000003": done reading request body.
2024-01-10 20:55:57.073 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:55:57.073 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:55:57.073 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:55:57.073 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:55:57.073 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:55:57.073 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:57.073 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:57.073 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:57.073 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:57.074 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:55:57.077 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:55:57.077 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:55:57.077 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:57.077 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:55:57.077 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:57.077 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:55:57.078 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:55:57.078 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:57.078 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:57.078 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:57.079 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:57.079 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:55:57.080 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:55:57.080 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:57.080 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:55:57.080 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:57.080 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:55:57.080 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:55:57.081 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:55:57.081 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:55:57.081 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:55:57.081 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:55:57.081 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:55:57.081 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:55:57.081 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:57.081 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:57.081 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:55:57.081 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:57.081 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:57.081 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:55:57.083 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:55:57.083 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:57.083 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:55:57.083 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:57.083 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:55:57.084 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:55:57.084 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:55:57.084 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:55:57.084 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:55:57.084 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:55:57.084 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:55:57.084 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:55:57.084 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:55:57.084 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 11.5119ms
2024-01-10 20:55:57.084 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:55:57.084 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 12.0526 ms
2024-01-10 20:55:57.084 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 46 - 200 315 application/json;+charset=utf-8 12.6727ms
2024-01-10 20:55:58.178 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 46
2024-01-10 20:55:58.178 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:55:58.178 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:55:58.178 +02:00 [DBG] POST requests are not supported
2024-01-10 20:55:58.178 +02:00 [DBG] POST requests are not supported
2024-01-10 20:55:58.178 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:55:58.178 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:55:58.178 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:55:58.178 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:55:58.178 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:55:58.178 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:55:58.178 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:55:58.178 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:55:58.179 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:55:58.179 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:55:58.179 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:55:58.179 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:55:58.179 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:55:58.179 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:55:58.179 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:55:58.179 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:55:58.179 +02:00 [DBG] Connection id "0HN0I1JQLEIA8", Request id "0HN0I1JQLEIA8:00000005": started reading request body.
2024-01-10 20:55:58.179 +02:00 [DBG] Connection id "0HN0I1JQLEIA8", Request id "0HN0I1JQLEIA8:00000005": done reading request body.
2024-01-10 20:55:58.179 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:55:58.179 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:55:58.179 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:55:58.179 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:55:58.179 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:55:58.179 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:58.179 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:58.179 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:58.180 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:58.180 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:55:58.182 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:55:58.182 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:55:58.182 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:58.182 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:55:58.182 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:58.182 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:55:58.182 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:55:58.183 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:58.183 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:58.183 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:58.183 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:58.183 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:55:58.184 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:55:58.184 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:58.184 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:55:58.184 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:58.184 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:55:58.184 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:55:58.184 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:55:58.184 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:55:58.184 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:55:58.184 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:55:58.184 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:55:58.185 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:55:58.185 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:58.185 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:58.185 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:55:58.185 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:58.185 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:55:58.185 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:55:58.187 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:55:58.187 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:58.187 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:55:58.188 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:55:58.188 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:55:58.188 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:55:58.188 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:55:58.188 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:55:58.188 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:55:58.188 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:55:58.188 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:55:58.188 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:55:58.188 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:55:58.188 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 9.5362ms
2024-01-10 20:55:58.188 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:55:58.188 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 10.0974 ms
2024-01-10 20:55:58.188 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 46 - 200 315 application/json;+charset=utf-8 10.5311ms
2024-01-10 20:55:59.766 +02:00 [DBG] Connection id "0HN0I1JQLEIA8" received FIN.
2024-01-10 20:55:59.767 +02:00 [DBG] Connection id "0HN0I1JQLEIA8" is closed. The last processed stream ID was 5.
2024-01-10 20:55:59.767 +02:00 [DBG] Connection id "0HN0I1JQLEIA8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:55:59.782 +02:00 [DBG] Connection id "0HN0I1JQLEIA8" stopped.
2024-01-10 20:56:13.914 +02:00 [DBG] Connection id "0HN0I1JQLEIA7" received FIN.
2024-01-10 20:56:13.914 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:56:13.915 +02:00 [DBG] Connection id "0HN0I1JQLEIA7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:56:13.916 +02:00 [DBG] Connection id "0HN0I1JQLEIA7" disconnecting.
2024-01-10 20:56:13.916 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:56:13.917 +02:00 [DBG] Socket closed.
2024-01-10 20:56:13.939 +02:00 [DBG] Removing connection ub4gchuJgUa_2WKnznaGKA from the list of connections.
2024-01-10 20:56:13.939 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:56:13.939 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 24838.3223 ms
2024-01-10 20:56:13.940 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 24838.9310ms
2024-01-10 20:56:13.941 +02:00 [DBG] Connection id "0HN0I1JQLEIA7" stopped.
2024-01-10 20:56:14.673 +02:00 [DBG] Connection id "0HN0I1JQLEIA9" accepted.
2024-01-10 20:56:14.674 +02:00 [DBG] Connection id "0HN0I1JQLEIA9" started.
2024-01-10 20:56:14.679 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:56:14.679 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:56:14.679 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:56:14.679 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:56:14.679 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:56:14.679 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:56:14.679 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:56:14.679 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:56:14.679 +02:00 [DBG] New connection Giko8D4yHNJI8uD-krlatg created.
2024-01-10 20:56:14.679 +02:00 [DBG] Establishing new connection.
2024-01-10 20:56:14.680 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:56:14.680 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:56:14.715 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:56:14.716 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:56:14.718 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:56:14.719 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:56:14.719 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:14.719 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:14.719 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:14.719 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:14.719 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:56:14.721 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:56:14.721 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:14.721 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:56:14.721 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:14.721 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:56:20.412 +02:00 [DBG] Connection id "0HN0I1JQLEIAA" accepted.
2024-01-10 20:56:20.412 +02:00 [DBG] Connection id "0HN0I1JQLEIAA" started.
2024-01-10 20:56:20.414 +02:00 [DBG] Connection 0HN0I1JQLEIAA established using the following protocol: "Tls12"
2024-01-10 20:56:20.415 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:56:20.416 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:56:20.416 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:56:20.416 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:56:20.416 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 1.0014ms
2024-01-10 20:56:20.418 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:56:20.418 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:56:20.418 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:56:20.418 +02:00 [DBG] POST requests are not supported
2024-01-10 20:56:20.418 +02:00 [DBG] POST requests are not supported
2024-01-10 20:56:20.418 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:56:20.418 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:56:20.418 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:56:20.418 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:56:20.419 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:56:20.419 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:56:20.419 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:56:20.419 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:56:20.419 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:56:20.419 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:56:20.419 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:56:20.419 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:56:20.419 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:56:20.419 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:56:20.420 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:56:20.420 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:56:20.420 +02:00 [DBG] Connection id "0HN0I1JQLEIAA", Request id "0HN0I1JQLEIAA:00000003": started reading request body.
2024-01-10 20:56:20.420 +02:00 [DBG] Connection id "0HN0I1JQLEIAA", Request id "0HN0I1JQLEIAA:00000003": done reading request body.
2024-01-10 20:56:20.420 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:56:20.420 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:56:20.420 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:56:20.420 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:56:20.420 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:56:20.420 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:20.420 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:20.420 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:20.421 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:20.421 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:56:20.423 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:56:20.423 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:56:20.423 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:20.424 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:56:20.424 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:20.424 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:56:20.424 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:56:20.424 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:20.424 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:20.424 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:20.424 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:20.424 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:56:20.426 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:56:20.426 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:20.426 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:56:20.427 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:20.427 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:56:20.427 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:56:20.427 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:56:20.427 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:56:20.427 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:56:20.427 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:56:20.427 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:56:20.427 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:56:20.427 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:20.427 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:20.427 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:56:20.427 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:20.427 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:20.427 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:56:20.432 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:56:20.432 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:20.432 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:56:20.432 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:20.432 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:56:20.432 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:56:20.432 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:56:20.432 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:56:20.432 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:56:20.432 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:56:20.432 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:56:20.432 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:56:20.432 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:56:20.433 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 13.2914ms
2024-01-10 20:56:20.433 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:56:20.433 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 14.5078 ms
2024-01-10 20:56:20.433 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 15.4304ms
2024-01-10 20:56:23.202 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:56:23.203 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:56:23.203 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:56:23.203 +02:00 [DBG] POST requests are not supported
2024-01-10 20:56:23.203 +02:00 [DBG] POST requests are not supported
2024-01-10 20:56:23.203 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:56:23.203 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:56:23.203 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:56:23.203 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:56:23.203 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:56:23.203 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:56:23.203 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:56:23.203 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:56:23.203 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:56:23.203 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:56:23.203 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:56:23.203 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:56:23.203 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:56:23.203 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:56:23.203 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:56:23.203 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:56:23.203 +02:00 [DBG] Connection id "0HN0I1JQLEIAA", Request id "0HN0I1JQLEIAA:00000005": started reading request body.
2024-01-10 20:56:23.203 +02:00 [DBG] Connection id "0HN0I1JQLEIAA", Request id "0HN0I1JQLEIAA:00000005": done reading request body.
2024-01-10 20:56:23.203 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:56:23.204 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:56:23.204 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:56:23.204 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:56:23.204 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:56:23.204 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:23.204 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:23.204 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:23.204 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:23.204 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:56:23.206 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:56:23.206 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:56:23.206 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:23.206 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:56:23.206 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:23.206 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:56:23.207 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:56:23.207 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:23.207 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:23.207 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:23.207 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:23.207 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:56:23.208 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:56:23.208 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:23.208 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:56:23.208 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:23.208 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:56:23.208 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:56:23.208 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:56:23.208 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:56:23.208 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:56:23.209 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:56:23.209 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:56:23.209 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:56:23.209 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:23.209 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:23.209 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:56:23.209 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:23.209 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:23.209 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:56:23.211 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:56:23.211 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:23.211 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:56:23.212 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:23.212 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:56:23.212 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:56:23.212 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:56:23.212 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:56:23.212 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:56:23.212 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:56:23.212 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:56:23.212 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:56:23.212 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:56:23.212 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 9.132ms
2024-01-10 20:56:23.212 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:56:23.212 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 9.6850 ms
2024-01-10 20:56:23.213 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 10.1828ms
2024-01-10 20:56:29.812 +02:00 [DBG] Connection id "0HN0I1JQLEIAA" received FIN.
2024-01-10 20:56:29.812 +02:00 [DBG] Connection id "0HN0I1JQLEIAA" is closed. The last processed stream ID was 5.
2024-01-10 20:56:29.812 +02:00 [DBG] Connection id "0HN0I1JQLEIAA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:56:29.826 +02:00 [DBG] Connection id "0HN0I1JQLEIAA" stopped.
2024-01-10 20:56:39.536 +02:00 [DBG] Connection id "0HN0I1JQLEIA9" received FIN.
2024-01-10 20:56:39.536 +02:00 [DBG] Connection id "0HN0I1JQLEIA9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:56:39.537 +02:00 [DBG] Connection id "0HN0I1JQLEIA9" disconnecting.
2024-01-10 20:56:39.537 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:56:39.538 +02:00 [DBG] Waiting for the client to close the socket.
2024-01-10 20:56:39.538 +02:00 [DBG] Socket closed.
2024-01-10 20:56:39.538 +02:00 [DBG] Removing connection Giko8D4yHNJI8uD-krlatg from the list of connections.
2024-01-10 20:56:39.538 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:56:39.538 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 24859.0693 ms
2024-01-10 20:56:39.539 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 24859.5982ms
2024-01-10 20:56:39.539 +02:00 [DBG] Connection id "0HN0I1JQLEIA9" stopped.
2024-01-10 20:56:39.870 +02:00 [DBG] Connection id "0HN0I1JQLEIAB" accepted.
2024-01-10 20:56:39.871 +02:00 [DBG] Connection id "0HN0I1JQLEIAB" started.
2024-01-10 20:56:39.871 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:56:39.871 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:56:39.871 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:56:39.871 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:56:39.871 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:56:39.871 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:56:39.871 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:56:39.871 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:56:39.871 +02:00 [DBG] New connection 2KT3N39L80hKBCZLK6Xrjw created.
2024-01-10 20:56:39.871 +02:00 [DBG] Establishing new connection.
2024-01-10 20:56:39.871 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:56:39.871 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:56:39.912 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:56:39.912 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:56:39.919 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:56:39.920 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:56:39.920 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:39.920 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:39.920 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:39.920 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:39.920 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:56:39.923 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:56:39.923 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:39.924 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:56:39.924 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:39.924 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:56:47.823 +02:00 [DBG] Connection id "0HN0I1JQLEIAC" accepted.
2024-01-10 20:56:47.823 +02:00 [DBG] Connection id "0HN0I1JQLEIAC" started.
2024-01-10 20:56:47.825 +02:00 [DBG] Connection 0HN0I1JQLEIAC established using the following protocol: "Tls12"
2024-01-10 20:56:47.826 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:56:47.826 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:56:47.826 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:56:47.826 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:56:47.826 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.5690ms
2024-01-10 20:56:47.828 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:56:47.828 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:56:47.828 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:56:47.828 +02:00 [DBG] POST requests are not supported
2024-01-10 20:56:47.828 +02:00 [DBG] POST requests are not supported
2024-01-10 20:56:47.828 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:56:47.828 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:56:47.828 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:56:47.828 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:56:47.828 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:56:47.828 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:56:47.828 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:56:47.828 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:56:47.828 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:56:47.828 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:56:47.828 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:56:47.828 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:56:47.828 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:56:47.828 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:56:47.828 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:56:47.828 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:56:47.828 +02:00 [DBG] Connection id "0HN0I1JQLEIAC", Request id "0HN0I1JQLEIAC:00000003": started reading request body.
2024-01-10 20:56:47.829 +02:00 [DBG] Connection id "0HN0I1JQLEIAC", Request id "0HN0I1JQLEIAC:00000003": done reading request body.
2024-01-10 20:56:47.829 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:56:47.829 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:56:47.829 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:56:47.829 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:56:47.829 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:56:47.829 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:47.829 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:47.829 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:47.829 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:47.829 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:56:47.831 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:56:47.831 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:56:47.831 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:47.831 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:56:47.831 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:47.831 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:56:47.832 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:56:47.832 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:47.832 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:47.832 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:47.832 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:47.832 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:56:47.833 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:56:47.833 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:47.833 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:56:47.833 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:47.833 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:56:47.833 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:56:47.833 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:56:47.833 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:56:47.834 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:56:47.834 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:56:47.834 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:56:47.834 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:56:47.834 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:47.834 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:47.834 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:56:47.834 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:47.834 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:56:47.834 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:56:47.836 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:56:47.836 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:47.836 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:56:47.836 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:56:47.837 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:56:47.837 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:56:47.837 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:56:47.837 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:56:47.837 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:56:47.837 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:56:47.837 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:56:47.837 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:56:47.837 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:56:47.837 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 9.1276ms
2024-01-10 20:56:47.837 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:56:47.837 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 9.6753 ms
2024-01-10 20:56:47.838 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 10.1490ms
2024-01-10 20:56:49.835 +02:00 [DBG] Connection id "0HN0I1JQLEIAC" received FIN.
2024-01-10 20:56:49.835 +02:00 [DBG] Connection id "0HN0I1JQLEIAC" is closed. The last processed stream ID was 3.
2024-01-10 20:56:49.835 +02:00 [DBG] Connection id "0HN0I1JQLEIAC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:56:49.841 +02:00 [DBG] Connection id "0HN0I1JQLEIAC" stopped.
2024-01-10 20:57:21.308 +02:00 [DBG] Connection id "0HN0I1JQLEIAB" received FIN.
2024-01-10 20:57:21.309 +02:00 [DBG] Connection id "0HN0I1JQLEIAB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:57:21.308 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:57:21.309 +02:00 [DBG] Connection id "0HN0I1JQLEIAB" disconnecting.
2024-01-10 20:57:21.310 +02:00 [DBG] Socket closed.
2024-01-10 20:57:21.310 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:57:21.333 +02:00 [DBG] Removing connection 2KT3N39L80hKBCZLK6Xrjw from the list of connections.
2024-01-10 20:57:21.333 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:57:21.338 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 41462.2528 ms
2024-01-10 20:57:21.339 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 41468.3634ms
2024-01-10 20:57:21.341 +02:00 [DBG] Connection id "0HN0I1JQLEIAB" stopped.
2024-01-10 20:57:21.742 +02:00 [DBG] Connection id "0HN0I1JQLEIAD" accepted.
2024-01-10 20:57:21.742 +02:00 [DBG] Connection id "0HN0I1JQLEIAD" started.
2024-01-10 20:57:21.748 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:57:21.748 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:57:21.748 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:57:21.748 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:57:21.748 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:57:21.749 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:57:21.749 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:57:21.749 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:57:21.749 +02:00 [DBG] New connection 4ANaDe03EvWRSDCOK8LSXA created.
2024-01-10 20:57:21.749 +02:00 [DBG] Establishing new connection.
2024-01-10 20:57:21.749 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:57:21.749 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:57:21.782 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:57:21.782 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:57:21.785 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:57:21.785 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:57:21.785 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:57:21.785 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:57:21.785 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:57:21.785 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:57:21.785 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:57:21.787 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:57:21.787 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:57:21.787 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:57:21.787 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:57:21.787 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:58:11.670 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:58:11.671 +02:00 [DBG] Connection id "0HN0I1JQLEIAD" received FIN.
2024-01-10 20:58:11.677 +02:00 [DBG] Connection id "0HN0I1JQLEIAD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:58:11.678 +02:00 [DBG] Connection id "0HN0I1JQLEIAD" disconnecting.
2024-01-10 20:58:11.677 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:58:11.704 +02:00 [DBG] Socket closed.
2024-01-10 20:58:11.711 +02:00 [DBG] Removing connection 4ANaDe03EvWRSDCOK8LSXA from the list of connections.
2024-01-10 20:58:11.714 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:58:11.714 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 49965.6109 ms
2024-01-10 20:58:11.714 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 49966.1269ms
2024-01-10 20:58:11.714 +02:00 [DBG] Connection id "0HN0I1JQLEIAD" stopped.
2024-01-10 20:58:11.888 +02:00 [DBG] Connection id "0HN0I1JQLEIAE" accepted.
2024-01-10 20:58:11.888 +02:00 [DBG] Connection id "0HN0I1JQLEIAE" started.
2024-01-10 20:58:11.888 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:58:11.888 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:58:11.888 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:58:11.888 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:58:11.888 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:58:11.888 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:58:11.889 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:58:11.889 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:58:11.889 +02:00 [DBG] New connection H8wHiXh7NqZcRMpTfpQEZg created.
2024-01-10 20:58:11.889 +02:00 [DBG] Establishing new connection.
2024-01-10 20:58:11.889 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:58:11.889 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:58:11.903 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:58:11.904 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:58:11.905 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:58:11.905 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:58:11.906 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:11.906 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:11.906 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:11.906 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:11.906 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:58:11.908 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:58:11.908 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:11.908 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:58:11.908 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:11.908 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:58:17.033 +02:00 [DBG] Connection id "0HN0I1JQLEIAF" accepted.
2024-01-10 20:58:17.033 +02:00 [DBG] Connection id "0HN0I1JQLEIAF" started.
2024-01-10 20:58:17.035 +02:00 [DBG] Connection 0HN0I1JQLEIAF established using the following protocol: "Tls12"
2024-01-10 20:58:17.036 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:58:17.036 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:58:17.036 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:58:17.036 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:58:17.036 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.6191ms
2024-01-10 20:58:17.037 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:58:17.037 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:58:17.037 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:58:17.037 +02:00 [DBG] POST requests are not supported
2024-01-10 20:58:17.037 +02:00 [DBG] POST requests are not supported
2024-01-10 20:58:17.037 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:58:17.037 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:58:17.037 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:58:17.037 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:58:17.038 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:58:17.038 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:58:17.038 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:58:17.038 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:58:17.038 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:58:17.038 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:58:17.038 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:58:17.038 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:58:17.038 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:58:17.038 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:58:17.038 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:58:17.038 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:58:17.038 +02:00 [DBG] Connection id "0HN0I1JQLEIAF", Request id "0HN0I1JQLEIAF:00000003": started reading request body.
2024-01-10 20:58:17.038 +02:00 [DBG] Connection id "0HN0I1JQLEIAF", Request id "0HN0I1JQLEIAF:00000003": done reading request body.
2024-01-10 20:58:17.038 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:58:17.038 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:58:17.038 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:58:17.038 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:58:17.039 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:58:17.039 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:17.039 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:17.039 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:17.039 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:17.039 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:58:17.041 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:58:17.041 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:58:17.041 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:17.041 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:58:17.041 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:17.041 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:58:17.041 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:58:17.041 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:17.041 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:17.041 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:17.042 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:17.042 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:58:17.043 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:58:17.043 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:17.043 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:58:17.043 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:17.043 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:58:17.043 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:58:17.043 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:58:17.043 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:58:17.043 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:58:17.043 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:58:17.043 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:58:17.043 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:58:17.043 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:17.043 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:17.043 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:58:17.044 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:17.044 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:17.044 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:58:17.048 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:58:17.048 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:17.048 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:58:17.048 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:17.048 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:58:17.048 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:58:17.048 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:58:17.048 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:58:17.048 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:58:17.048 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:58:17.048 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:58:17.048 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:58:17.048 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:58:17.049 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 10.7739ms
2024-01-10 20:58:17.049 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:58:17.049 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 11.2683 ms
2024-01-10 20:58:17.049 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 11.7299ms
2024-01-10 20:58:18.406 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:58:18.406 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:58:18.406 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:58:18.406 +02:00 [DBG] POST requests are not supported
2024-01-10 20:58:18.406 +02:00 [DBG] POST requests are not supported
2024-01-10 20:58:18.406 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:58:18.407 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:58:18.407 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:58:18.407 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:58:18.407 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:58:18.407 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:58:18.407 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:58:18.407 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:58:18.407 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:58:18.407 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:58:18.407 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:58:18.407 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:58:18.407 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:58:18.407 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:58:18.407 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:58:18.407 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:58:18.407 +02:00 [DBG] Connection id "0HN0I1JQLEIAF", Request id "0HN0I1JQLEIAF:00000005": started reading request body.
2024-01-10 20:58:18.407 +02:00 [DBG] Connection id "0HN0I1JQLEIAF", Request id "0HN0I1JQLEIAF:00000005": done reading request body.
2024-01-10 20:58:18.407 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:58:18.407 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:58:18.407 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:58:18.407 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:58:18.408 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:58:18.408 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:18.408 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:18.408 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:18.408 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:18.408 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:58:18.411 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:58:18.412 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:58:18.412 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:18.412 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:58:18.412 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:18.412 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:58:18.412 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:58:18.412 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:18.412 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:18.412 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:18.413 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:18.413 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:58:18.414 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:58:18.414 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:18.414 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:58:18.414 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:18.414 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:58:18.414 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:58:18.414 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:58:18.414 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:58:18.414 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:58:18.414 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:58:18.414 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:58:18.414 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:58:18.414 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:18.414 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:18.415 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:58:18.415 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:18.415 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:18.415 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:58:18.419 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:58:18.419 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:18.419 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:58:18.419 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:18.419 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:58:18.419 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:58:18.419 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:58:18.419 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:58:18.419 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:58:18.419 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:58:18.419 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:58:18.419 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:58:18.419 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:58:18.419 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 12.5361ms
2024-01-10 20:58:18.420 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:58:18.420 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 13.2125 ms
2024-01-10 20:58:18.420 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 13.9906ms
2024-01-10 20:58:24.995 +02:00 [DBG] Connection id "0HN0I1JQLEIAF" received FIN.
2024-01-10 20:58:24.995 +02:00 [DBG] Connection id "0HN0I1JQLEIAF" is closed. The last processed stream ID was 5.
2024-01-10 20:58:24.995 +02:00 [DBG] Connection id "0HN0I1JQLEIAF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:58:25.003 +02:00 [DBG] Connection id "0HN0I1JQLEIAF" stopped.
2024-01-10 20:58:41.129 +02:00 [DBG] Connection id "0HN0I1JQLEIAE" received FIN.
2024-01-10 20:58:41.129 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:58:41.129 +02:00 [DBG] Connection id "0HN0I1JQLEIAE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:58:41.129 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:58:41.129 +02:00 [DBG] Connection id "0HN0I1JQLEIAE" disconnecting.
2024-01-10 20:58:41.130 +02:00 [DBG] Socket closed.
2024-01-10 20:58:41.130 +02:00 [DBG] Removing connection H8wHiXh7NqZcRMpTfpQEZg from the list of connections.
2024-01-10 20:58:41.130 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:58:41.130 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 29241.4977 ms
2024-01-10 20:58:41.130 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 29242.1104ms
2024-01-10 20:58:41.130 +02:00 [DBG] Connection id "0HN0I1JQLEIAE" stopped.
2024-01-10 20:58:41.715 +02:00 [DBG] Connection id "0HN0I1JQLEIAG" accepted.
2024-01-10 20:58:41.715 +02:00 [DBG] Connection id "0HN0I1JQLEIAG" started.
2024-01-10 20:58:41.715 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:58:41.715 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:58:41.715 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:58:41.716 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:58:41.716 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:58:41.716 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:58:41.716 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:58:41.716 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:58:41.716 +02:00 [DBG] New connection _rHoIvRqi5n-920SmaAe6Q created.
2024-01-10 20:58:41.716 +02:00 [DBG] Establishing new connection.
2024-01-10 20:58:41.716 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:58:41.716 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:58:41.725 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:58:41.725 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:58:41.726 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:58:41.726 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:58:41.726 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:41.726 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:41.726 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:41.727 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:41.727 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:58:41.728 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:58:41.728 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:41.729 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:58:41.729 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:41.729 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:58:44.371 +02:00 [DBG] Connection id "0HN0I1JQLEIAH" accepted.
2024-01-10 20:58:44.371 +02:00 [DBG] Connection id "0HN0I1JQLEIAH" started.
2024-01-10 20:58:44.377 +02:00 [DBG] Connection 0HN0I1JQLEIAH established using the following protocol: "Tls12"
2024-01-10 20:58:44.378 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:58:44.379 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:58:44.379 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:58:44.379 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:58:44.379 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.8947ms
2024-01-10 20:58:44.380 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:58:44.380 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:58:44.380 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:58:44.380 +02:00 [DBG] POST requests are not supported
2024-01-10 20:58:44.380 +02:00 [DBG] POST requests are not supported
2024-01-10 20:58:44.380 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:58:44.380 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:58:44.381 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:58:44.381 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:58:44.381 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:58:44.381 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:58:44.381 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:58:44.381 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:58:44.381 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:58:44.381 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:58:44.381 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:58:44.381 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:58:44.381 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:58:44.381 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:58:44.382 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:58:44.382 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:58:44.382 +02:00 [DBG] Connection id "0HN0I1JQLEIAH", Request id "0HN0I1JQLEIAH:00000003": started reading request body.
2024-01-10 20:58:44.382 +02:00 [DBG] Connection id "0HN0I1JQLEIAH", Request id "0HN0I1JQLEIAH:00000003": done reading request body.
2024-01-10 20:58:44.382 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:58:44.382 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:58:44.382 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:58:44.382 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:58:44.382 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:58:44.383 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:44.383 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:44.383 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:44.383 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:44.383 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:58:44.385 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:58:44.385 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:58:44.385 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:44.385 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:58:44.385 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:44.385 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:58:44.385 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:58:44.386 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:44.386 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:44.386 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:44.386 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:44.386 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:58:44.387 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:58:44.387 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:44.387 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:58:44.387 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:44.387 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:58:44.387 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:58:44.387 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:58:44.387 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:58:44.387 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:58:44.387 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:58:44.387 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:58:44.387 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:58:44.387 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:44.388 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:44.388 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:58:44.388 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:44.388 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:44.388 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:58:44.392 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:58:44.392 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:44.392 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:58:44.392 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:44.392 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:58:44.392 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:58:44.392 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:58:44.392 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:58:44.392 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:58:44.392 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:58:44.392 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:58:44.392 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:58:44.392 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:58:44.393 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 11.5412ms
2024-01-10 20:58:44.393 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:58:44.393 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 12.2354 ms
2024-01-10 20:58:44.393 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 12.9093ms
2024-01-10 20:58:45.007 +02:00 [DBG] Connection id "0HN0I1JQLEIAH" received FIN.
2024-01-10 20:58:45.007 +02:00 [DBG] Connection id "0HN0I1JQLEIAH" is closed. The last processed stream ID was 3.
2024-01-10 20:58:45.007 +02:00 [DBG] Connection id "0HN0I1JQLEIAH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:58:45.016 +02:00 [DBG] Connection id "0HN0I1JQLEIAH" stopped.
2024-01-10 20:58:58.469 +02:00 [DBG] Connection id "0HN0I1JQLEIAG" received FIN.
2024-01-10 20:58:58.469 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:58:58.469 +02:00 [DBG] Connection id "0HN0I1JQLEIAG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:58:58.469 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:58:58.469 +02:00 [DBG] Connection id "0HN0I1JQLEIAG" disconnecting.
2024-01-10 20:58:58.470 +02:00 [DBG] Socket closed.
2024-01-10 20:58:58.470 +02:00 [DBG] Removing connection _rHoIvRqi5n-920SmaAe6Q from the list of connections.
2024-01-10 20:58:58.470 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:58:58.470 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 16754.3576 ms
2024-01-10 20:58:58.470 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 16754.7544ms
2024-01-10 20:58:58.470 +02:00 [DBG] Connection id "0HN0I1JQLEIAG" stopped.
2024-01-10 20:58:58.768 +02:00 [DBG] Connection id "0HN0I1JQLEIAI" accepted.
2024-01-10 20:58:58.768 +02:00 [DBG] Connection id "0HN0I1JQLEIAI" started.
2024-01-10 20:58:58.768 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:58:58.768 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:58:58.768 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:58:58.768 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:58:58.768 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:58:58.768 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:58:58.768 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:58:58.768 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:58:58.768 +02:00 [DBG] New connection Q4NRDqkmclnmGF3z7oJV8Q created.
2024-01-10 20:58:58.768 +02:00 [DBG] Establishing new connection.
2024-01-10 20:58:58.769 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:58:58.769 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:58:58.784 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:58:58.784 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:58:58.786 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:58:58.786 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:58:58.786 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:58.786 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:58:58.786 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:58.786 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:58.786 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:58:58.788 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:58:58.788 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:58.788 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:58:58.788 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:58:58.788 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:59:01.558 +02:00 [DBG] Connection id "0HN0I1JQLEIAJ" accepted.
2024-01-10 20:59:01.558 +02:00 [DBG] Connection id "0HN0I1JQLEIAJ" started.
2024-01-10 20:59:01.560 +02:00 [DBG] Connection 0HN0I1JQLEIAJ established using the following protocol: "Tls12"
2024-01-10 20:59:01.561 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:59:01.561 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:59:01.561 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:59:01.561 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:59:01.561 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.8304ms
2024-01-10 20:59:01.563 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:59:01.563 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:59:01.563 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:59:01.563 +02:00 [DBG] POST requests are not supported
2024-01-10 20:59:01.563 +02:00 [DBG] POST requests are not supported
2024-01-10 20:59:01.563 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:59:01.563 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:59:01.563 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:59:01.563 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:59:01.563 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:59:01.563 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:59:01.563 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:59:01.563 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:59:01.563 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:59:01.563 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:59:01.563 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:59:01.563 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:59:01.563 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:59:01.564 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:59:01.564 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:59:01.564 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:59:01.564 +02:00 [DBG] Connection id "0HN0I1JQLEIAJ", Request id "0HN0I1JQLEIAJ:00000003": started reading request body.
2024-01-10 20:59:01.564 +02:00 [DBG] Connection id "0HN0I1JQLEIAJ", Request id "0HN0I1JQLEIAJ:00000003": done reading request body.
2024-01-10 20:59:01.564 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:59:01.564 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:59:01.564 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:59:01.564 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:59:01.564 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:59:01.564 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:01.564 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:01.564 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:01.564 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:01.564 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:59:01.567 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:59:01.567 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:59:01.567 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:01.567 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:59:01.567 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:01.567 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:59:01.568 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:59:01.568 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:01.568 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:01.568 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:01.568 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:01.569 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:59:01.570 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:59:01.570 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:01.570 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:59:01.570 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:01.570 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:59:01.570 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:59:01.570 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:59:01.570 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:59:01.570 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:59:01.570 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:59:01.570 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:59:01.570 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:59:01.570 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:01.571 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:01.571 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:59:01.571 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:01.571 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:01.571 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:59:01.573 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:59:01.573 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:01.573 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:59:01.573 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:01.573 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:59:01.573 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:59:01.573 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:59:01.573 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:59:01.573 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:59:01.574 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:59:01.574 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:59:01.574 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:59:01.574 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:59:01.574 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 10.571ms
2024-01-10 20:59:01.574 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:59:01.574 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 11.1726 ms
2024-01-10 20:59:01.574 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 11.7901ms
2024-01-10 20:59:03.557 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:59:03.557 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:59:03.557 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:59:03.557 +02:00 [DBG] POST requests are not supported
2024-01-10 20:59:03.557 +02:00 [DBG] POST requests are not supported
2024-01-10 20:59:03.557 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:59:03.557 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:59:03.557 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:59:03.557 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:59:03.557 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:59:03.557 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:59:03.557 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:59:03.557 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:59:03.558 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:59:03.558 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:59:03.558 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:59:03.558 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:59:03.558 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:59:03.558 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:59:03.558 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:59:03.558 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:59:03.558 +02:00 [DBG] Connection id "0HN0I1JQLEIAJ", Request id "0HN0I1JQLEIAJ:00000005": started reading request body.
2024-01-10 20:59:03.558 +02:00 [DBG] Connection id "0HN0I1JQLEIAJ", Request id "0HN0I1JQLEIAJ:00000005": done reading request body.
2024-01-10 20:59:03.558 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:59:03.558 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:59:03.558 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:59:03.558 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:59:03.558 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:59:03.558 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:03.558 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:03.558 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:03.559 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:03.559 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:59:03.561 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:59:03.561 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:59:03.561 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:03.561 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:59:03.561 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:03.561 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:59:03.561 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:59:03.561 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:03.561 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:03.561 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:03.562 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:03.562 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:59:03.563 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:59:03.563 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:03.563 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:59:03.563 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:03.563 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:59:03.563 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:59:03.563 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:59:03.563 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:59:03.563 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:59:03.563 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:59:03.563 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:59:03.563 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:59:03.563 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:03.563 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:03.563 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:59:03.564 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:03.564 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:03.564 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:59:03.568 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:59:03.568 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:03.568 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:59:03.569 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:03.569 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:59:03.569 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:59:03.569 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:59:03.569 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:59:03.569 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:59:03.569 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:59:03.569 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:59:03.569 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:59:03.569 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:59:03.569 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 11.6012ms
2024-01-10 20:59:03.569 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:59:03.569 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 12.1059 ms
2024-01-10 20:59:03.569 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 12.6941ms
2024-01-10 20:59:10.031 +02:00 [DBG] Connection id "0HN0I1JQLEIAJ" received FIN.
2024-01-10 20:59:10.032 +02:00 [DBG] Connection id "0HN0I1JQLEIAJ" is closed. The last processed stream ID was 5.
2024-01-10 20:59:10.032 +02:00 [DBG] Connection id "0HN0I1JQLEIAJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:59:10.041 +02:00 [DBG] Connection id "0HN0I1JQLEIAJ" stopped.
2024-01-10 20:59:43.795 +02:00 [DBG] Connection id "0HN0I1JQLEIAI" received FIN.
2024-01-10 20:59:43.796 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:59:43.796 +02:00 [DBG] Connection id "0HN0I1JQLEIAI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:59:43.796 +02:00 [DBG] Connection id "0HN0I1JQLEIAI" disconnecting.
2024-01-10 20:59:43.797 +02:00 [DBG] Socket closed.
2024-01-10 20:59:43.803 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:59:43.821 +02:00 [DBG] Removing connection Q4NRDqkmclnmGF3z7oJV8Q from the list of connections.
2024-01-10 20:59:43.821 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:59:43.821 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 45052.7474 ms
2024-01-10 20:59:43.822 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 45053.1327ms
2024-01-10 20:59:43.822 +02:00 [DBG] Connection id "0HN0I1JQLEIAI" stopped.
2024-01-10 20:59:44.008 +02:00 [DBG] Connection id "0HN0I1JQLEIAK" accepted.
2024-01-10 20:59:44.008 +02:00 [DBG] Connection id "0HN0I1JQLEIAK" started.
2024-01-10 20:59:44.016 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:59:44.016 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:59:44.016 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:59:44.016 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:59:44.016 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:59:44.016 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:59:44.016 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:59:44.016 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:59:44.017 +02:00 [DBG] New connection PPQ7qUH1Id0670CmewY7Aw created.
2024-01-10 20:59:44.017 +02:00 [DBG] Establishing new connection.
2024-01-10 20:59:44.017 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:59:44.017 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:59:44.026 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:59:44.027 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:59:44.029 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:59:44.030 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:59:44.030 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:44.030 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:44.030 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:44.030 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:44.030 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:59:44.033 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:59:44.033 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:44.033 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:59:44.033 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:44.033 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:59:50.595 +02:00 [DBG] Connection id "0HN0I1JQLEIAL" accepted.
2024-01-10 20:59:50.595 +02:00 [DBG] Connection id "0HN0I1JQLEIAL" started.
2024-01-10 20:59:50.597 +02:00 [DBG] Connection 0HN0I1JQLEIAL established using the following protocol: "Tls12"
2024-01-10 20:59:50.598 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 20:59:50.598 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:59:50.599 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:59:50.599 +02:00 [DBG] The request is a preflight request.
2024-01-10 20:59:50.601 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 3.3063ms
2024-01-10 20:59:50.602 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 20:59:50.602 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:59:50.602 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:59:50.603 +02:00 [DBG] POST requests are not supported
2024-01-10 20:59:50.603 +02:00 [DBG] POST requests are not supported
2024-01-10 20:59:50.603 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 20:59:50.603 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 20:59:50.603 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:59:50.603 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:59:50.603 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 20:59:50.603 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 20:59:50.603 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 20:59:50.603 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 20:59:50.603 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 20:59:50.603 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 20:59:50.603 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:59:50.603 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 20:59:50.603 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:59:50.603 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 20:59:50.603 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 20:59:50.603 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 20:59:50.603 +02:00 [DBG] Connection id "0HN0I1JQLEIAL", Request id "0HN0I1JQLEIAL:00000003": started reading request body.
2024-01-10 20:59:50.603 +02:00 [DBG] Connection id "0HN0I1JQLEIAL", Request id "0HN0I1JQLEIAL:00000003": done reading request body.
2024-01-10 20:59:50.603 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:59:50.603 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:59:50.603 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 20:59:50.603 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 20:59:50.604 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:59:50.604 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:50.604 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:50.604 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:50.604 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:50.604 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:59:50.606 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 20:59:50.606 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:59:50.607 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:50.607 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:59:50.607 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:50.607 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:59:50.607 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:59:50.607 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:50.607 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:50.607 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:50.607 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:50.607 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:59:50.609 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 20:59:50.609 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:50.609 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:59:50.609 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:50.609 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:59:50.609 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 20:59:50.609 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 20:59:50.609 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:59:50.609 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:59:50.609 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:59:50.609 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 20:59:50.609 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 20:59:50.610 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:50.610 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:50.610 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:59:50.610 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:50.610 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:50.610 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:59:50.613 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 20:59:50.613 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:50.613 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:59:50.614 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:50.614 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 20:59:50.614 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 20:59:50.614 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 20:59:50.615 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 20:59:50.615 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 20:59:50.615 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 20:59:50.615 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 20:59:50.615 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 20:59:50.615 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 20:59:50.615 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 12.0838ms
2024-01-10 20:59:50.615 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 20:59:50.615 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 12.6552 ms
2024-01-10 20:59:50.615 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 13.2489ms
2024-01-10 20:59:56.969 +02:00 [DBG] Connection id "0HN0I1JQLEIAK" received FIN.
2024-01-10 20:59:56.968 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 20:59:56.969 +02:00 [DBG] Connection id "0HN0I1JQLEIAK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 20:59:56.970 +02:00 [DBG] Connection id "0HN0I1JQLEIAK" disconnecting.
2024-01-10 20:59:56.970 +02:00 [DBG] Socket closed.
2024-01-10 20:59:56.973 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 20:59:56.974 +02:00 [DBG] Removing connection PPQ7qUH1Id0670CmewY7Aw from the list of connections.
2024-01-10 20:59:56.974 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 20:59:56.975 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 12958.3992 ms
2024-01-10 20:59:56.977 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 12960.7834ms
2024-01-10 20:59:56.978 +02:00 [DBG] Connection id "0HN0I1JQLEIAK" stopped.
2024-01-10 20:59:57.244 +02:00 [DBG] Connection id "0HN0I1JQLEIAM" accepted.
2024-01-10 20:59:57.244 +02:00 [DBG] Connection id "0HN0I1JQLEIAM" started.
2024-01-10 20:59:57.244 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 20:59:57.245 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 20:59:57.245 +02:00 [INF] CORS policy execution successful.
2024-01-10 20:59:57.245 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 20:59:57.245 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 20:59:57.245 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 20:59:57.245 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 20:59:57.245 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 20:59:57.245 +02:00 [DBG] New connection 0MAZfGoX0mq0VKdQD0oBdQ created.
2024-01-10 20:59:57.245 +02:00 [DBG] Establishing new connection.
2024-01-10 20:59:57.245 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 20:59:57.245 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 20:59:57.252 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 20:59:57.253 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 20:59:57.255 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 20:59:57.256 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 20:59:57.256 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:57.256 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 20:59:57.256 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:57.256 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:57.256 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:59:57.259 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 20:59:57.259 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:57.259 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 20:59:57.259 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 20:59:57.259 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:00:01.349 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 21:00:01.349 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:00:01.350 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:00:01.350 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:00:01.350 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.5602ms
2024-01-10 21:00:01.351 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 21:00:01.351 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:00:01.351 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:00:01.351 +02:00 [DBG] POST requests are not supported
2024-01-10 21:00:01.351 +02:00 [DBG] POST requests are not supported
2024-01-10 21:00:01.351 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 21:00:01.351 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 21:00:01.351 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 21:00:01.351 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 21:00:01.352 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 21:00:01.352 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:00:01.352 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:00:01.352 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:00:01.352 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:00:01.352 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:00:01.352 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:00:01.352 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:00:01.352 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 21:00:01.352 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 21:00:01.352 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 21:00:01.352 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 21:00:01.352 +02:00 [DBG] Connection id "0HN0I1JQLEIAL", Request id "0HN0I1JQLEIAL:00000007": started reading request body.
2024-01-10 21:00:01.352 +02:00 [DBG] Connection id "0HN0I1JQLEIAL", Request id "0HN0I1JQLEIAL:00000007": done reading request body.
2024-01-10 21:00:01.352 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 21:00:01.352 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 21:00:01.352 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 21:00:01.352 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 21:00:01.352 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:00:01.353 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:00:01.353 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:00:01.353 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:01.353 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:01.353 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 21:00:01.355 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 21:00:01.355 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:00:01.355 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:01.355 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:00:01.355 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:01.355 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:00:01.355 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:00:01.355 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:00:01.355 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:00:01.356 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:01.356 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:01.356 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:00:01.357 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:00:01.357 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:01.357 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:00:01.357 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:01.357 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:00:01.357 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 21:00:01.357 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 21:00:01.357 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:00:01.357 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:00:01.357 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:00:01.357 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:00:01.357 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 21:00:01.357 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:01.357 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:01.357 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:00:01.357 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:00:01.358 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:00:01.358 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 21:00:01.362 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 21:00:01.362 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:01.362 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:00:01.362 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:01.362 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:00:01.363 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:00:01.363 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 21:00:01.363 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:00:01.363 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:00:01.363 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:00:01.363 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:00:01.363 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:00:01.363 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 21:00:01.363 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 11.6475ms
2024-01-10 21:00:01.363 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 21:00:01.364 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 12.1705 ms
2024-01-10 21:00:01.364 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 12.7873ms
2024-01-10 21:00:01.376 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard - -
2024-01-10 21:00:01.376 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:00:01.376 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:00:01.377 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:00:01.377 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard - - - 204 - - 1.2122ms
2024-01-10 21:00:01.382 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json -
2024-01-10 21:00:01.382 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:00:01.382 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:00:01.382 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:00:01.382 +02:00 [DBG] The request path /api/DeviceMaintenance/getAllMaintenancesDashboard does not match a supported file type
2024-01-10 21:00:01.383 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 21:00:01.383 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 21:00:01.383 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:00:01.383 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:00:01.389 +02:00 [INF] Route matched with {action = "GetDeviceMaintenanceById", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenanceByIdAsync(Int32) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-01-10 21:00:01.389 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:00:01.389 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:00:01.389 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:00:01.389 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:00:01.389 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:00:01.389 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 21:00:01.390 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 21:00:01.391 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-01-10 21:00:01.392 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-01-10 21:00:01.400 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-01-10 21:00:01.400 +02:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-01-10 21:00:01.401 +02:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-01-10 21:00:01.401 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 21:00:01.405 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 21:00:01.405 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:00:01.405 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:00:01.406 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 21:00:01.406 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 21:00:01.406 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 21:00:01.448 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi) in 58.6594ms
2024-01-10 21:00:01.448 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:00:01.448 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getAllMaintenancesDashboard responded 400 in 65.6763 ms
2024-01-10 21:00:01.448 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json - - 400 265 application/problem+json;+charset=utf-8 66.5107ms
2024-01-10 21:00:09.762 +02:00 [DBG] Connection id "0HN0I1JQLEIAM" received FIN.
2024-01-10 21:00:09.762 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:00:09.762 +02:00 [DBG] Connection id "0HN0I1JQLEIAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:00:09.763 +02:00 [DBG] Connection id "0HN0I1JQLEIAM" disconnecting.
2024-01-10 21:00:09.763 +02:00 [DBG] Socket closed.
2024-01-10 21:00:09.764 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:00:09.765 +02:00 [DBG] Removing connection 0MAZfGoX0mq0VKdQD0oBdQ from the list of connections.
2024-01-10 21:00:09.766 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:00:09.766 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 12521.2128 ms
2024-01-10 21:00:09.766 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 12521.6820ms
2024-01-10 21:00:09.766 +02:00 [DBG] Connection id "0HN0I1JQLEIAM" stopped.
2024-01-10 21:00:09.952 +02:00 [DBG] Connection id "0HN0I1JQLEIAN" accepted.
2024-01-10 21:00:09.952 +02:00 [DBG] Connection id "0HN0I1JQLEIAN" started.
2024-01-10 21:00:09.953 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:00:09.953 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:00:09.953 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:00:09.953 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:00:09.953 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:00:09.953 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:00:09.953 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:00:09.953 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:00:09.953 +02:00 [DBG] New connection vqCC-Pyqu8ULPNwgvif-ew created.
2024-01-10 21:00:09.953 +02:00 [DBG] Establishing new connection.
2024-01-10 21:00:09.954 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:00:09.954 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:00:09.960 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard - -
2024-01-10 21:00:09.961 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:00:09.961 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:00:09.961 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:00:09.961 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard - - - 204 - - 0.4662ms
2024-01-10 21:00:09.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json -
2024-01-10 21:00:09.963 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:00:09.963 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:00:09.963 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:00:09.963 +02:00 [DBG] The request path /api/DeviceMaintenance/getAllMaintenancesDashboard does not match a supported file type
2024-01-10 21:00:09.965 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 21:00:09.965 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 21:00:09.965 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:00:09.965 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:00:09.965 +02:00 [INF] Route matched with {action = "GetDeviceMaintenanceById", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenanceByIdAsync(Int32) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-01-10 21:00:09.965 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:00:09.966 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:00:09.966 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:00:09.966 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:00:09.966 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:00:09.966 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 21:00:09.966 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 21:00:09.966 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-01-10 21:00:09.966 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-01-10 21:00:09.967 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-01-10 21:00:09.967 +02:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-01-10 21:00:09.967 +02:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-01-10 21:00:09.967 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 21:00:09.967 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 21:00:09.967 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:00:09.967 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:00:09.967 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 21:00:09.967 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 21:00:09.967 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 21:00:09.968 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi) in 1.8694ms
2024-01-10 21:00:09.968 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:00:09.968 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getAllMaintenancesDashboard responded 400 in 4.6243 ms
2024-01-10 21:00:09.968 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json - - 400 265 application/problem+json;+charset=utf-8 5.4424ms
2024-01-10 21:00:09.970 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:00:09.970 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:00:09.975 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:00:09.975 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:00:09.975 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:00:09.975 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:00:09.975 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:09.975 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:09.975 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:00:09.977 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:00:09.977 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:09.977 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:00:09.977 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:00:09.978 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:00:35.162 +02:00 [DBG] Connection id "0HN0I1JQLEIAL" received FIN.
2024-01-10 21:00:35.163 +02:00 [DBG] Connection id "0HN0I1JQLEIAL" is closed. The last processed stream ID was 15.
2024-01-10 21:00:35.163 +02:00 [DBG] Connection id "0HN0I1JQLEIAL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:00:35.177 +02:00 [DBG] Connection id "0HN0I1JQLEIAL" stopped.
2024-01-10 21:01:13.782 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:01:13.809 +02:00 [DBG] Connection id "0HN0I1JQLEIAN" received FIN.
2024-01-10 21:01:13.811 +02:00 [DBG] Connection id "0HN0I1JQLEIAN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:01:13.811 +02:00 [DBG] Socket closed.
2024-01-10 21:01:13.823 +02:00 [DBG] Connection id "0HN0I1JQLEIAN" disconnecting.
2024-01-10 21:01:13.823 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:01:13.832 +02:00 [DBG] Removing connection vqCC-Pyqu8ULPNwgvif-ew from the list of connections.
2024-01-10 21:01:13.832 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:01:13.832 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 63878.7879 ms
2024-01-10 21:01:13.832 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 63879.2908ms
2024-01-10 21:01:13.832 +02:00 [DBG] Connection id "0HN0I1JQLEIAN" stopped.
2024-01-10 21:01:14.175 +02:00 [DBG] Connection id "0HN0I1JQLEIAO" accepted.
2024-01-10 21:01:14.175 +02:00 [DBG] Connection id "0HN0I1JQLEIAO" started.
2024-01-10 21:01:14.180 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:01:14.180 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:01:14.180 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:01:14.180 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:01:14.180 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:01:14.180 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:01:14.180 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:01:14.180 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:01:14.180 +02:00 [DBG] New connection n6ThA_im6bVUdGj-Cucsyw created.
2024-01-10 21:01:14.180 +02:00 [DBG] Establishing new connection.
2024-01-10 21:01:14.181 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:01:14.181 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:01:14.200 +02:00 [DBG] Connection id "0HN0I1JQLEIAP" accepted.
2024-01-10 21:01:14.200 +02:00 [DBG] Connection id "0HN0I1JQLEIAP" started.
2024-01-10 21:01:14.208 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:01:14.209 +02:00 [DBG] Connection 0HN0I1JQLEIAP established using the following protocol: "Tls12"
2024-01-10 21:01:14.209 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:01:14.210 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard - -
2024-01-10 21:01:14.210 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:01:14.210 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:01:14.210 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:01:14.210 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard - - - 204 - - 0.7198ms
2024-01-10 21:01:14.212 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:01:14.212 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json -
2024-01-10 21:01:14.213 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:01:14.213 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:01:14.213 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:01:14.213 +02:00 [DBG] The request path /api/DeviceMaintenance/getAllMaintenancesDashboard does not match a supported file type
2024-01-10 21:01:14.213 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:01:14.213 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 21:01:14.213 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:01:14.213 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:01:14.213 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 21:01:14.213 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:01:14.213 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:01:14.213 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:01:14.213 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:01:14.213 +02:00 [INF] Route matched with {action = "GetDeviceMaintenanceById", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenanceByIdAsync(Int32) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-01-10 21:01:14.213 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:01:14.213 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:01:14.213 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:01:14.213 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:01:14.214 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:01:14.214 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:01:14.215 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 21:01:14.215 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:01:14.216 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:01:14.216 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:01:14.216 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:01:14.216 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:01:14.219 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 21:01:14.219 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-01-10 21:01:14.219 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-01-10 21:01:14.219 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-01-10 21:01:14.219 +02:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-01-10 21:01:14.219 +02:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-01-10 21:01:14.219 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 21:01:14.219 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 21:01:14.219 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:01:14.219 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:01:14.220 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 21:01:14.220 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 21:01:14.220 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 21:01:14.220 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi) in 5.2807ms
2024-01-10 21:01:14.220 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:01:14.220 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getAllMaintenancesDashboard responded 400 in 7.0528 ms
2024-01-10 21:01:14.220 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json - - 400 265 application/problem+json;+charset=utf-8 7.7717ms
2024-01-10 21:01:15.241 +02:00 [DBG] Connection id "0HN0I1JQLEIAP" received FIN.
2024-01-10 21:01:15.241 +02:00 [DBG] Connection id "0HN0I1JQLEIAP" is closed. The last processed stream ID was 3.
2024-01-10 21:01:15.241 +02:00 [DBG] Connection id "0HN0I1JQLEIAP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:01:15.250 +02:00 [DBG] Connection id "0HN0I1JQLEIAP" stopped.
2024-01-10 21:02:01.062 +02:00 [DBG] Connection id "0HN0I1JQLEIAO" received FIN.
2024-01-10 21:02:01.062 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:02:01.063 +02:00 [DBG] Connection id "0HN0I1JQLEIAO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:02:01.063 +02:00 [DBG] Connection id "0HN0I1JQLEIAO" disconnecting.
2024-01-10 21:02:01.063 +02:00 [DBG] Socket closed.
2024-01-10 21:02:01.070 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:02:01.070 +02:00 [DBG] Removing connection n6ThA_im6bVUdGj-Cucsyw from the list of connections.
2024-01-10 21:02:01.073 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:02:01.073 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 46892.6832 ms
2024-01-10 21:02:01.081 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 46899.5123ms
2024-01-10 21:02:01.081 +02:00 [DBG] Connection id "0HN0I1JQLEIAO" stopped.
2024-01-10 21:02:01.334 +02:00 [DBG] Connection id "0HN0I1JQLEIAQ" accepted.
2024-01-10 21:02:01.335 +02:00 [DBG] Connection id "0HN0I1JQLEIAQ" started.
2024-01-10 21:02:01.336 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:02:01.336 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:02:01.336 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:02:01.336 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:02:01.336 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:02:01.336 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:02:01.337 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:02:01.337 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:02:01.337 +02:00 [DBG] New connection 0JhftM7ieetBf9X-L7NlXg created.
2024-01-10 21:02:01.337 +02:00 [DBG] Establishing new connection.
2024-01-10 21:02:01.337 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:02:01.337 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:02:01.465 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:02:01.465 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:02:01.469 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:02:01.470 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:02:01.470 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:01.470 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:01.470 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:01.470 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:01.471 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:02:01.473 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:02:01.473 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:01.473 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:02:01.473 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:01.474 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:02:23.249 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:02:23.250 +02:00 [DBG] Connection id "0HN0I1JQLEIAQ" received FIN.
2024-01-10 21:02:23.250 +02:00 [DBG] Socket closed.
2024-01-10 21:02:23.255 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:02:23.255 +02:00 [DBG] Removing connection 0JhftM7ieetBf9X-L7NlXg from the list of connections.
2024-01-10 21:02:23.255 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:02:23.255 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 21918.8990 ms
2024-01-10 21:02:23.256 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 21919.9343ms
2024-01-10 21:02:23.256 +02:00 [DBG] Connection id "0HN0I1JQLEIAQ" disconnecting.
2024-01-10 21:02:23.256 +02:00 [DBG] Connection id "0HN0I1JQLEIAQ" stopped.
2024-01-10 21:02:23.256 +02:00 [DBG] Connection id "0HN0I1JQLEIAQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:02:23.571 +02:00 [DBG] Connection id "0HN0I1JQLEIAR" accepted.
2024-01-10 21:02:23.571 +02:00 [DBG] Connection id "0HN0I1JQLEIAR" started.
2024-01-10 21:02:23.576 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:02:23.576 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:02:23.576 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:02:23.577 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:02:23.577 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:02:23.577 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:02:23.577 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:02:23.577 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:02:23.577 +02:00 [DBG] New connection HLq0m-fH2ZC5IQfA0zQoOQ created.
2024-01-10 21:02:23.577 +02:00 [DBG] Establishing new connection.
2024-01-10 21:02:23.577 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:02:23.577 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:02:23.653 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:02:23.653 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:02:23.655 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:02:23.658 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 21:02:23.658 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:02:23.658 +02:00 [DBG] Creating DbConnection.
2024-01-10 21:02:23.659 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-10 21:02:23.659 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:23.659 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:23.659 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:23.659 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:23.659 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:02:23.664 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:02:23.664 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:23.664 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:02:23.664 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:23.664 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:02:27.147 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:02:27.147 +02:00 [DBG] Connection id "0HN0I1JQLEIAR" received FIN.
2024-01-10 21:02:27.149 +02:00 [DBG] Connection id "0HN0I1JQLEIAR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:02:27.150 +02:00 [DBG] Connection id "0HN0I1JQLEIAR" disconnecting.
2024-01-10 21:02:27.149 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:02:27.154 +02:00 [DBG] Socket closed.
2024-01-10 21:02:27.178 +02:00 [DBG] Removing connection HLq0m-fH2ZC5IQfA0zQoOQ from the list of connections.
2024-01-10 21:02:27.178 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:02:27.178 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 3601.3481 ms
2024-01-10 21:02:27.178 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 3601.9310ms
2024-01-10 21:02:27.216 +02:00 [DBG] Connection id "0HN0I1JQLEIAR" stopped.
2024-01-10 21:02:27.340 +02:00 [DBG] Connection id "0HN0I1JQLEIAS" accepted.
2024-01-10 21:02:27.340 +02:00 [DBG] Connection id "0HN0I1JQLEIAS" started.
2024-01-10 21:02:27.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:02:27.341 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:02:27.341 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:02:27.341 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:02:27.341 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:02:27.341 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:02:27.341 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:02:27.341 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:02:27.341 +02:00 [DBG] New connection CCxMrfWMRA7Hrxbqmnfbxw created.
2024-01-10 21:02:27.341 +02:00 [DBG] Establishing new connection.
2024-01-10 21:02:27.342 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:02:27.342 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:02:27.403 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:02:27.404 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:02:27.413 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:02:27.414 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:02:27.414 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:27.414 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:27.414 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:27.414 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:27.414 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:02:27.417 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:02:27.417 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:27.417 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:02:27.417 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:27.417 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:02:29.939 +02:00 [DBG] Connection id "0HN0I1JQLEIAS" received FIN.
2024-01-10 21:02:29.939 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:02:29.939 +02:00 [DBG] Connection id "0HN0I1JQLEIAS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:02:29.939 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:02:29.940 +02:00 [DBG] Connection id "0HN0I1JQLEIAS" disconnecting.
2024-01-10 21:02:29.940 +02:00 [DBG] Socket closed.
2024-01-10 21:02:29.940 +02:00 [DBG] Removing connection CCxMrfWMRA7Hrxbqmnfbxw from the list of connections.
2024-01-10 21:02:29.940 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:02:29.941 +02:00 [DBG] Connection id "0HN0I1JQLEIAT" accepted.
2024-01-10 21:02:29.941 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 2599.2965 ms
2024-01-10 21:02:29.941 +02:00 [DBG] Connection id "0HN0I1JQLEIAT" started.
2024-01-10 21:02:29.941 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 2599.7529ms
2024-01-10 21:02:29.941 +02:00 [DBG] Connection id "0HN0I1JQLEIAS" stopped.
2024-01-10 21:02:29.941 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:02:29.942 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:02:29.942 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:02:29.942 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:02:29.942 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:02:29.942 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:02:29.942 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:02:29.942 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:02:29.942 +02:00 [DBG] New connection Z633TtEfhOH9rGQLTB3Z2A created.
2024-01-10 21:02:29.943 +02:00 [DBG] Establishing new connection.
2024-01-10 21:02:29.943 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:02:29.943 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:02:29.949 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:02:29.950 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:02:29.954 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:02:29.955 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:02:29.955 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:29.955 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:29.955 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:29.955 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:29.955 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:02:29.957 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:02:29.957 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:29.957 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:02:29.957 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:29.957 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:02:33.279 +02:00 [DBG] Connection id "0HN0I1JQLEIAU" accepted.
2024-01-10 21:02:33.279 +02:00 [DBG] Connection id "0HN0I1JQLEIAU" started.
2024-01-10 21:02:33.280 +02:00 [DBG] Connection 0HN0I1JQLEIAU established using the following protocol: "Tls12"
2024-01-10 21:02:33.281 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 21:02:33.282 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:02:33.282 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:02:33.282 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:02:33.282 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.8587ms
2024-01-10 21:02:33.283 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 21:02:33.283 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:02:33.283 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:02:33.283 +02:00 [DBG] POST requests are not supported
2024-01-10 21:02:33.283 +02:00 [DBG] POST requests are not supported
2024-01-10 21:02:33.283 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 21:02:33.284 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 21:02:33.284 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 21:02:33.284 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 21:02:33.284 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 21:02:33.284 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:02:33.284 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:02:33.284 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:02:33.284 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:02:33.284 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:02:33.284 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:02:33.284 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:02:33.284 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 21:02:33.284 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 21:02:33.284 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 21:02:33.284 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 21:02:33.284 +02:00 [DBG] Connection id "0HN0I1JQLEIAU", Request id "0HN0I1JQLEIAU:00000003": started reading request body.
2024-01-10 21:02:33.284 +02:00 [DBG] Connection id "0HN0I1JQLEIAU", Request id "0HN0I1JQLEIAU:00000003": done reading request body.
2024-01-10 21:02:33.284 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 21:02:33.284 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 21:02:33.284 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 21:02:33.284 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 21:02:33.285 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:02:33.285 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:33.285 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:33.285 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:33.285 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:33.285 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 21:02:33.287 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 21:02:33.287 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:02:33.287 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:33.287 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:02:33.287 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:33.287 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:02:33.288 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:02:33.288 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:33.288 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:33.288 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:33.288 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:33.288 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:02:33.289 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:02:33.289 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:33.289 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:02:33.289 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:33.289 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:02:33.289 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 21:02:33.289 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 21:02:33.289 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:02:33.289 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:02:33.290 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:02:33.290 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:02:33.290 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 21:02:33.290 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:33.290 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:33.290 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:02:33.290 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:33.290 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:02:33.290 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 21:02:33.294 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 21:02:33.294 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:33.294 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:02:33.294 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:02:33.294 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:02:33.295 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:02:33.295 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 21:02:33.295 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:02:33.295 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:02:33.295 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:02:33.295 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:02:33.295 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:02:33.295 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 21:02:33.295 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 11.2299ms
2024-01-10 21:02:33.295 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 21:02:33.295 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 11.7259 ms
2024-01-10 21:02:33.295 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 12.3016ms
2024-01-10 21:02:35.345 +02:00 [DBG] Connection id "0HN0I1JQLEIAU" received FIN.
2024-01-10 21:02:35.345 +02:00 [DBG] Connection id "0HN0I1JQLEIAU" is closed. The last processed stream ID was 3.
2024-01-10 21:02:35.345 +02:00 [DBG] Connection id "0HN0I1JQLEIAU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:02:35.345 +02:00 [DBG] Connection id "0HN0I1JQLEIAU" stopped.
2024-01-10 21:03:26.288 +02:00 [DBG] Connection id "0HN0I1JQLEIAT" received FIN.
2024-01-10 21:03:26.288 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:03:26.288 +02:00 [DBG] Connection id "0HN0I1JQLEIAT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:03:26.289 +02:00 [DBG] Connection id "0HN0I1JQLEIAT" disconnecting.
2024-01-10 21:03:26.289 +02:00 [DBG] Socket closed.
2024-01-10 21:03:26.289 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:03:26.290 +02:00 [DBG] Removing connection Z633TtEfhOH9rGQLTB3Z2A from the list of connections.
2024-01-10 21:03:26.290 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:03:26.296 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 56353.3423 ms
2024-01-10 21:03:26.306 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 56364.7732ms
2024-01-10 21:03:26.306 +02:00 [DBG] Connection id "0HN0I1JQLEIAT" stopped.
2024-01-10 21:03:26.858 +02:00 [DBG] Connection id "0HN0I1JQLEIAV" accepted.
2024-01-10 21:03:26.859 +02:00 [DBG] Connection id "0HN0I1JQLEIAV" started.
2024-01-10 21:03:26.861 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:03:26.861 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:03:26.861 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:03:26.861 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:03:26.861 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:03:26.861 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:03:26.861 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:03:26.861 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:03:26.861 +02:00 [DBG] New connection 0x7HxeWOj4XlvfdYJgM6rw created.
2024-01-10 21:03:26.861 +02:00 [DBG] Establishing new connection.
2024-01-10 21:03:26.861 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:03:26.861 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:03:26.927 +02:00 [DBG] Connection id "0HN0I1JQLEIB0" accepted.
2024-01-10 21:03:26.928 +02:00 [DBG] Connection id "0HN0I1JQLEIB0" started.
2024-01-10 21:03:26.934 +02:00 [DBG] Connection 0HN0I1JQLEIB0 established using the following protocol: "Tls12"
2024-01-10 21:03:26.937 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard - -
2024-01-10 21:03:26.937 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:03:26.937 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:03:26.937 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:03:26.937 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard - - - 204 - - 1.0044ms
2024-01-10 21:03:26.940 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json -
2024-01-10 21:03:26.940 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:03:26.940 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:03:26.940 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:03:26.940 +02:00 [DBG] The request path /api/DeviceMaintenance/getAllMaintenancesDashboard does not match a supported file type
2024-01-10 21:03:26.940 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 21:03:26.940 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 21:03:26.940 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:03:26.940 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:03:26.940 +02:00 [INF] Route matched with {action = "GetDeviceMaintenanceById", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenanceByIdAsync(Int32) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-01-10 21:03:26.940 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:03:26.940 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:03:26.941 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:03:26.941 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:03:26.941 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:03:26.941 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 21:03:26.941 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 21:03:26.941 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-01-10 21:03:26.941 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-01-10 21:03:26.942 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-01-10 21:03:26.942 +02:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-01-10 21:03:26.942 +02:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-01-10 21:03:26.942 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 21:03:26.942 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 21:03:26.942 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:03:26.942 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:03:26.942 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 21:03:26.942 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 21:03:26.942 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 21:03:26.943 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi) in 1.9531ms
2024-01-10 21:03:26.943 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:03:26.943 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getAllMaintenancesDashboard responded 400 in 3.1026 ms
2024-01-10 21:03:26.943 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json - - 400 265 application/problem+json;+charset=utf-8 4.0029ms
2024-01-10 21:03:26.977 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:03:26.977 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:03:26.981 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:03:26.981 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:03:26.981 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:03:26.981 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:03:26.981 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:26.981 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:26.981 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:03:26.984 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:03:26.985 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:26.985 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:03:26.985 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:26.985 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:03:30.888 +02:00 [DBG] Connection id "0HN0I1JQLEIAV" received FIN.
2024-01-10 21:03:30.888 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:03:30.889 +02:00 [DBG] Connection id "0HN0I1JQLEIAV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:03:30.889 +02:00 [DBG] Connection id "0HN0I1JQLEIAV" disconnecting.
2024-01-10 21:03:30.889 +02:00 [DBG] Socket closed.
2024-01-10 21:03:30.889 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:03:30.891 +02:00 [DBG] Removing connection 0x7HxeWOj4XlvfdYJgM6rw from the list of connections.
2024-01-10 21:03:30.892 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:03:30.899 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 4037.8317 ms
2024-01-10 21:03:30.900 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 4039.8576ms
2024-01-10 21:03:30.904 +02:00 [DBG] Connection id "0HN0I1JQLEIAV" stopped.
2024-01-10 21:03:31.029 +02:00 [DBG] Connection id "0HN0I1JQLEIB1" accepted.
2024-01-10 21:03:31.029 +02:00 [DBG] Connection id "0HN0I1JQLEIB1" started.
2024-01-10 21:03:31.029 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:03:31.029 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:03:31.029 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:03:31.030 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:03:31.030 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:03:31.030 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:03:31.030 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:03:31.030 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:03:31.030 +02:00 [DBG] New connection pSmjJP56lZiqx9hESpWGyQ created.
2024-01-10 21:03:31.030 +02:00 [DBG] Establishing new connection.
2024-01-10 21:03:31.030 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:03:31.030 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:03:31.055 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json -
2024-01-10 21:03:31.056 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:03:31.056 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:03:31.056 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:03:31.056 +02:00 [DBG] The request path /api/DeviceMaintenance/getAllMaintenancesDashboard does not match a supported file type
2024-01-10 21:03:31.056 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 21:03:31.056 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getAllMaintenancesDashboard'
2024-01-10 21:03:31.056 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:03:31.056 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:03:31.056 +02:00 [INF] Route matched with {action = "GetDeviceMaintenanceById", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenanceByIdAsync(Int32) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-01-10 21:03:31.056 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:03:31.056 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:03:31.056 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:03:31.056 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:03:31.056 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:03:31.056 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 21:03:31.057 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 21:03:31.057 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-01-10 21:03:31.057 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-01-10 21:03:31.057 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-01-10 21:03:31.057 +02:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-01-10 21:03:31.057 +02:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-01-10 21:03:31.057 +02:00 [DBG] The request has model state errors, returning an error response.
2024-01-10 21:03:31.057 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-10 21:03:31.057 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:03:31.057 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:03:31.057 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-10 21:03:31.057 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-10 21:03:31.057 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-10 21:03:31.058 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi) in 1.0875ms
2024-01-10 21:03:31.058 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-01-10 21:03:31.058 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getAllMaintenancesDashboard responded 400 in 1.7964 ms
2024-01-10 21:03:31.058 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenancesDashboard application/json - - 400 265 application/problem+json;+charset=utf-8 2.5400ms
2024-01-10 21:03:31.095 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:03:31.096 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:03:31.102 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:03:31.102 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:03:31.102 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:03:31.102 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:03:31.102 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:31.102 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:31.102 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:03:31.104 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:03:31.104 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:31.104 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:03:31.104 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:31.104 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:03:36.449 +02:00 [DBG] Connection id "0HN0I1JQLEIB1" received FIN.
2024-01-10 21:03:36.449 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:03:36.450 +02:00 [DBG] Connection id "0HN0I1JQLEIB1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:03:36.450 +02:00 [DBG] Connection id "0HN0I1JQLEIB1" disconnecting.
2024-01-10 21:03:36.450 +02:00 [DBG] Socket closed.
2024-01-10 21:03:36.451 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:03:36.452 +02:00 [DBG] Removing connection pSmjJP56lZiqx9hESpWGyQ from the list of connections.
2024-01-10 21:03:36.453 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:03:36.453 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 5423.1529 ms
2024-01-10 21:03:36.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 5423.6094ms
2024-01-10 21:03:36.453 +02:00 [DBG] Connection id "0HN0I1JQLEIB1" stopped.
2024-01-10 21:03:36.508 +02:00 [DBG] Connection id "0HN0I1JQLEIB2" accepted.
2024-01-10 21:03:36.508 +02:00 [DBG] Connection id "0HN0I1JQLEIB2" started.
2024-01-10 21:03:36.508 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:03:36.508 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:03:36.508 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:03:36.508 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:03:36.508 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:03:36.508 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:03:36.508 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:03:36.509 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:03:36.509 +02:00 [DBG] New connection x5HejA6p08kl8t6gh7JnZg created.
2024-01-10 21:03:36.509 +02:00 [DBG] Establishing new connection.
2024-01-10 21:03:36.509 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:03:36.509 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:03:36.521 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:03:36.522 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:03:36.524 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:03:36.524 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:03:36.524 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:03:36.524 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:03:36.524 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:36.525 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:36.525 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:03:36.535 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:03:36.535 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:36.535 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:03:36.535 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:36.535 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:03:43.599 +02:00 [DBG] Connection id "0HN0I1JQLEIB2" received FIN.
2024-01-10 21:03:43.599 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:03:43.599 +02:00 [DBG] Connection id "0HN0I1JQLEIB2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:03:43.599 +02:00 [DBG] Connection id "0HN0I1JQLEIB2" disconnecting.
2024-01-10 21:03:43.599 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:03:43.599 +02:00 [DBG] Socket closed.
2024-01-10 21:03:43.600 +02:00 [DBG] Removing connection x5HejA6p08kl8t6gh7JnZg from the list of connections.
2024-01-10 21:03:43.600 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:03:43.600 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 7091.5117 ms
2024-01-10 21:03:43.600 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 7091.9132ms
2024-01-10 21:03:43.600 +02:00 [DBG] Connection id "0HN0I1JQLEIB2" stopped.
2024-01-10 21:03:43.724 +02:00 [DBG] Connection id "0HN0I1JQLEIB3" accepted.
2024-01-10 21:03:43.724 +02:00 [DBG] Connection id "0HN0I1JQLEIB3" started.
2024-01-10 21:03:43.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:03:43.725 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:03:43.725 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:03:43.725 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:03:43.725 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:03:43.725 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:03:43.725 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:03:43.725 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:03:43.725 +02:00 [DBG] New connection BwKcGlw8GoNILnD3QbJGPw created.
2024-01-10 21:03:43.725 +02:00 [DBG] Establishing new connection.
2024-01-10 21:03:43.725 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:03:43.726 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:03:43.730 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:03:43.731 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:03:43.732 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:03:43.732 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:03:43.732 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:03:43.732 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:03:43.732 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:43.733 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:43.733 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:03:43.739 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:03:43.739 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:43.739 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:03:43.739 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:03:43.739 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:05:39.309 +02:00 [DBG] Connection id "0HN0I1JQLEIB3" received FIN.
2024-01-10 21:05:39.309 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:05:39.309 +02:00 [DBG] Connection id "0HN0I1JQLEIB3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:05:39.309 +02:00 [DBG] Connection id "0HN0I1JQLEIB3" disconnecting.
2024-01-10 21:05:39.310 +02:00 [DBG] Socket closed.
2024-01-10 21:05:39.310 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:05:39.310 +02:00 [DBG] Removing connection BwKcGlw8GoNILnD3QbJGPw from the list of connections.
2024-01-10 21:05:39.310 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:05:39.311 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 115586.1461 ms
2024-01-10 21:05:39.311 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 115586.7370ms
2024-01-10 21:05:39.312 +02:00 [DBG] Connection id "0HN0I1JQLEIB3" stopped.
2024-01-10 21:05:39.568 +02:00 [DBG] Connection id "0HN0I1JQLEIB4" accepted.
2024-01-10 21:05:39.568 +02:00 [DBG] Connection id "0HN0I1JQLEIB4" started.
2024-01-10 21:05:39.579 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:05:39.579 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:05:39.579 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:05:39.579 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:05:39.579 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:05:39.579 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:05:39.579 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:05:39.579 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:05:39.579 +02:00 [DBG] New connection g3hlJL4miYPErxx2EpGqEQ created.
2024-01-10 21:05:39.579 +02:00 [DBG] Establishing new connection.
2024-01-10 21:05:39.580 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:05:39.580 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:05:39.582 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:05:39.583 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:05:39.587 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:05:39.588 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:05:39.588 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:05:39.588 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:05:39.588 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:05:39.588 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:05:39.588 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:05:39.590 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:05:39.590 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:05:39.590 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:05:39.590 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:05:39.590 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:06:18.426 +02:00 [DBG] Connection id "0HN0I1JQLEIB4" received FIN.
2024-01-10 21:06:18.426 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:06:18.426 +02:00 [DBG] Connection id "0HN0I1JQLEIB4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:06:18.427 +02:00 [DBG] Connection id "0HN0I1JQLEIB4" disconnecting.
2024-01-10 21:06:18.427 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:06:18.428 +02:00 [DBG] Socket closed.
2024-01-10 21:06:18.465 +02:00 [DBG] Removing connection g3hlJL4miYPErxx2EpGqEQ from the list of connections.
2024-01-10 21:06:18.466 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:06:18.466 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 38886.8819 ms
2024-01-10 21:06:18.468 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 38887.5037ms
2024-01-10 21:06:18.468 +02:00 [DBG] Connection id "0HN0I1JQLEIB4" stopped.
2024-01-10 21:06:18.754 +02:00 [DBG] Connection id "0HN0I1JQLEIB5" accepted.
2024-01-10 21:06:18.754 +02:00 [DBG] Connection id "0HN0I1JQLEIB5" started.
2024-01-10 21:06:18.754 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:06:18.754 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:06:18.754 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:06:18.755 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:06:18.755 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:06:18.755 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:06:18.755 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:06:18.755 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:06:18.755 +02:00 [DBG] New connection IXm19_BfGcC1h48J4LSr2Q created.
2024-01-10 21:06:18.755 +02:00 [DBG] Establishing new connection.
2024-01-10 21:06:18.755 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:06:18.755 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:06:18.773 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:06:18.773 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:06:18.774 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:06:18.775 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:06:18.775 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:18.775 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:18.775 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:18.775 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:18.775 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:06:18.777 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:06:18.777 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:18.777 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:06:18.777 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:18.777 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:06:23.064 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 21:06:23.064 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:06:23.064 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:06:23.064 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:06:23.065 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.4454ms
2024-01-10 21:06:23.066 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-01-10 21:06:23.066 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:06:23.066 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:06:23.066 +02:00 [DBG] POST requests are not supported
2024-01-10 21:06:23.066 +02:00 [DBG] POST requests are not supported
2024-01-10 21:06:23.066 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 21:06:23.066 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 21:06:23.066 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 21:06:23.066 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 21:06:23.066 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 21:06:23.066 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:06:23.066 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:06:23.067 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:06:23.067 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:06:23.067 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:06:23.067 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:06:23.067 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:06:23.067 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 21:06:23.067 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 21:06:23.067 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 21:06:23.067 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 21:06:23.067 +02:00 [DBG] Connection id "0HN0I1JQLEIB0", Request id "0HN0I1JQLEIB0:00000009": started reading request body.
2024-01-10 21:06:23.067 +02:00 [DBG] Connection id "0HN0I1JQLEIB0", Request id "0HN0I1JQLEIB0:00000009": done reading request body.
2024-01-10 21:06:23.067 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 21:06:23.067 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 21:06:23.067 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 21:06:23.067 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 21:06:23.067 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:06:23.067 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:23.067 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:23.067 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.068 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.068 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 21:06:23.071 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 21:06:23.071 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:06:23.071 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.071 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:06:23.071 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.071 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:06:23.071 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:06:23.071 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:23.071 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:23.071 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.071 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.072 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:06:23.073 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:06:23.073 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.073 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:06:23.073 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.073 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:06:23.073 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 21:06:23.073 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 21:06:23.073 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:06:23.073 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:06:23.074 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:06:23.074 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:06:23.074 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 21:06:23.074 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.074 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.074 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:06:23.074 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:23.074 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:23.074 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 21:06:23.076 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 21:06:23.076 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.076 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:06:23.076 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.076 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:06:23.076 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:06:23.077 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 21:06:23.077 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:06:23.077 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:06:23.077 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:06:23.077 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:06:23.077 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:06:23.077 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 21:06:23.077 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 10.3914ms
2024-01-10 21:06:23.077 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 21:06:23.077 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 10.8691 ms
2024-01-10 21:06:23.077 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 11.5695ms
2024-01-10 21:06:23.105 +02:00 [DBG] Connection id "0HN0I1JQLEIB6" accepted.
2024-01-10 21:06:23.105 +02:00 [DBG] Connection id "0HN0I1JQLEIB6" started.
2024-01-10 21:06:23.106 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:06:23.106 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:06:23.106 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:06:23.106 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:06:23.106 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:06:23.106 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:06:23.106 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:06:23.106 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:06:23.106 +02:00 [DBG] New connection 3cu_NJNYd_-qQtnNCtzY3Q created.
2024-01-10 21:06:23.106 +02:00 [DBG] Establishing new connection.
2024-01-10 21:06:23.107 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:06:23.107 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:06:23.138 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:06:23.138 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:06:23.141 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:06:23.141 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:06:23.141 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:23.141 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:23.141 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.142 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.142 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:06:23.143 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:06:23.143 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.143 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:06:23.143 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:23.143 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:06:28.000 +02:00 [DBG] Connection id "0HN0I1JQLEIB7" accepted.
2024-01-10 21:06:28.000 +02:00 [DBG] Connection id "0HN0I1JQLEIB7" started.
2024-01-10 21:06:28.000 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:06:28.000 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:06:28.000 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:06:28.000 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:06:28.000 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:06:28.000 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:06:28.000 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:06:28.001 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:06:28.001 +02:00 [DBG] New connection VBIRrRAXIwqhQxwK3cOaLQ created.
2024-01-10 21:06:28.001 +02:00 [DBG] Establishing new connection.
2024-01-10 21:06:28.001 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:06:28.001 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:06:28.017 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:06:28.018 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:06:28.019 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:06:28.020 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:06:28.020 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:28.020 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:28.020 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:28.020 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:28.020 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:06:28.021 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:06:28.021 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:28.021 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:06:28.021 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:28.021 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:06:29.900 +02:00 [DBG] Connection id "0HN0I1JQLEIB8" accepted.
2024-01-10 21:06:29.900 +02:00 [DBG] Connection id "0HN0I1JQLEIB8" started.
2024-01-10 21:06:29.900 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:06:29.900 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:06:29.900 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:06:29.900 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:06:29.900 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:06:29.900 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:06:29.900 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:06:29.900 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:06:29.900 +02:00 [DBG] New connection ObngYX5-X0c4c7CDVnk-1A created.
2024-01-10 21:06:29.900 +02:00 [DBG] Establishing new connection.
2024-01-10 21:06:29.901 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:06:29.901 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:06:29.916 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:06:29.916 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:06:29.918 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:06:29.918 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:06:29.918 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:29.918 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:29.918 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:29.918 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:29.918 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:06:29.919 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:06:29.920 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:29.920 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:06:29.920 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:29.920 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:06:57.008 +02:00 [DBG] Connection id "0HN0I1JQLEIB7" received FIN.
2024-01-10 21:06:57.008 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:06:57.008 +02:00 [DBG] Connection id "0HN0I1JQLEIB7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:06:57.009 +02:00 [DBG] Connection id "0HN0I1JQLEIB5" received FIN.
2024-01-10 21:06:57.009 +02:00 [DBG] Connection id "0HN0I1JQLEIB5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:06:57.009 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:06:57.009 +02:00 [DBG] Connection id "0HN0I1JQLEIB5" disconnecting.
2024-01-10 21:06:57.009 +02:00 [DBG] Connection id "0HN0I1JQLEIB8" received FIN.
2024-01-10 21:06:57.010 +02:00 [DBG] Socket closed.
2024-01-10 21:06:57.011 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:06:57.011 +02:00 [DBG] Connection id "0HN0I1JQLEIB6" received FIN.
2024-01-10 21:06:57.011 +02:00 [DBG] Connection id "0HN0I1JQLEIB8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:06:57.011 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:06:57.011 +02:00 [DBG] Removing connection ObngYX5-X0c4c7CDVnk-1A from the list of connections.
2024-01-10 21:06:57.011 +02:00 [DBG] Connection id "0HN0I1JQLEIB8" disconnecting.
2024-01-10 21:06:57.012 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:06:57.013 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:06:57.013 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 27112.5020 ms
2024-01-10 21:06:57.013 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:06:57.013 +02:00 [DBG] Connection id "0HN0I1JQLEIB6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:06:57.013 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 27112.9626ms
2024-01-10 21:06:57.013 +02:00 [DBG] Connection id "0HN0I1JQLEIB8" stopped.
2024-01-10 21:06:57.017 +02:00 [DBG] Connection id "0HN0I1JQLEIB6" disconnecting.
2024-01-10 21:06:57.018 +02:00 [DBG] Socket closed.
2024-01-10 21:06:57.022 +02:00 [DBG] Socket closed.
2024-01-10 21:06:57.024 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:06:57.027 +02:00 [DBG] Connection id "0HN0I1JQLEIB7" disconnecting.
2024-01-10 21:06:57.027 +02:00 [DBG] Removing connection IXm19_BfGcC1h48J4LSr2Q from the list of connections.
2024-01-10 21:06:57.027 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:06:57.027 +02:00 [DBG] Socket closed.
2024-01-10 21:06:57.027 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:06:57.027 +02:00 [DBG] Removing connection 3cu_NJNYd_-qQtnNCtzY3Q from the list of connections.
2024-01-10 21:06:57.027 +02:00 [DBG] Removing connection VBIRrRAXIwqhQxwK3cOaLQ from the list of connections.
2024-01-10 21:06:57.027 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 38272.5717 ms
2024-01-10 21:06:57.027 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:06:57.027 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:06:57.027 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 33921.1909 ms
2024-01-10 21:06:57.027 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 29026.9229 ms
2024-01-10 21:06:57.027 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 38272.9790ms
2024-01-10 21:06:57.028 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 33921.6574ms
2024-01-10 21:06:57.028 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 29027.3174ms
2024-01-10 21:06:57.028 +02:00 [DBG] Connection id "0HN0I1JQLEIB5" stopped.
2024-01-10 21:06:57.028 +02:00 [DBG] Connection id "0HN0I1JQLEIB6" stopped.
2024-01-10 21:06:57.028 +02:00 [DBG] Connection id "0HN0I1JQLEIB7" stopped.
2024-01-10 21:06:57.227 +02:00 [DBG] Connection id "0HN0I1JQLEIB9" accepted.
2024-01-10 21:06:57.228 +02:00 [DBG] Connection id "0HN0I1JQLEIB9" started.
2024-01-10 21:06:57.229 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:06:57.229 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:06:57.229 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:06:57.229 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:06:57.229 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:06:57.229 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:06:57.229 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:06:57.229 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:06:57.229 +02:00 [DBG] New connection EzrIxDIDnflKSOYnotY49g created.
2024-01-10 21:06:57.229 +02:00 [DBG] Establishing new connection.
2024-01-10 21:06:57.229 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:06:57.229 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:06:57.258 +02:00 [DBG] Connection id "0HN0I1JQLEIBA" accepted.
2024-01-10 21:06:57.259 +02:00 [DBG] Connection id "0HN0I1JQLEIBA" started.
2024-01-10 21:06:57.259 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:06:57.259 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:06:57.259 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:06:57.259 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:06:57.259 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:06:57.259 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:06:57.259 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:06:57.259 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:06:57.259 +02:00 [DBG] New connection CWhTNsb3J11rZFzv5qL8gA created.
2024-01-10 21:06:57.259 +02:00 [DBG] Establishing new connection.
2024-01-10 21:06:57.259 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:06:57.259 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:06:57.303 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:06:57.303 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:06:57.305 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:06:57.305 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:06:57.307 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:06:57.311 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:06:57.311 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:57.312 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:57.312 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:57.312 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:57.312 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:06:57.316 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:06:57.316 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:57.316 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:06:57.316 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:57.316 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:06:57.317 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "1", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:06:57.317 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:06:57.317 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:57.317 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:06:57.317 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:57.318 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:57.318 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:06:57.319 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:06:57.319 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:57.319 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:06:57.319 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:06:57.319 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:07:02.504 +02:00 [DBG] Connection id "0HN0I1JQLEIB9" received FIN.
2024-01-10 21:07:02.504 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:07:02.506 +02:00 [DBG] Connection id "0HN0I1JQLEIBA" received FIN.
2024-01-10 21:07:02.506 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:07:02.506 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:07:02.505 +02:00 [DBG] Connection id "0HN0I1JQLEIB9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:07:02.507 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:07:02.507 +02:00 [DBG] Connection id "0HN0I1JQLEIBA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:07:02.509 +02:00 [DBG] Connection id "0HN0I1JQLEIBA" disconnecting.
2024-01-10 21:07:02.509 +02:00 [DBG] Connection id "0HN0I1JQLEIB9" disconnecting.
2024-01-10 21:07:02.509 +02:00 [DBG] Socket closed.
2024-01-10 21:07:02.509 +02:00 [DBG] Socket closed.
2024-01-10 21:07:02.510 +02:00 [DBG] Removing connection EzrIxDIDnflKSOYnotY49g from the list of connections.
2024-01-10 21:07:02.510 +02:00 [DBG] Removing connection CWhTNsb3J11rZFzv5qL8gA from the list of connections.
2024-01-10 21:07:02.510 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:07:02.510 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:07:02.510 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 5281.0716 ms
2024-01-10 21:07:02.510 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 5250.9899 ms
2024-01-10 21:07:02.510 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 5251.3563ms
2024-01-10 21:07:02.510 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 5281.6672ms
2024-01-10 21:07:02.510 +02:00 [DBG] Connection id "0HN0I1JQLEIBA" stopped.
2024-01-10 21:07:02.510 +02:00 [DBG] Connection id "0HN0I1JQLEIB9" stopped.
2024-01-10 21:07:02.737 +02:00 [DBG] Connection id "0HN0I1JQLEIBB" accepted.
2024-01-10 21:07:02.737 +02:00 [DBG] Connection id "0HN0I1JQLEIBB" started.
2024-01-10 21:07:02.738 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:07:02.738 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:07:02.738 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:07:02.738 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:07:02.738 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:07:02.738 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:07:02.738 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:07:02.738 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:07:02.738 +02:00 [DBG] New connection AcTdZsQaalO46CmsjfcSbw created.
2024-01-10 21:07:02.738 +02:00 [DBG] Establishing new connection.
2024-01-10 21:07:02.738 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:07:02.738 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:07:02.764 +02:00 [DBG] Connection id "0HN0I1JQLEIBC" accepted.
2024-01-10 21:07:02.764 +02:00 [DBG] Connection id "0HN0I1JQLEIBC" started.
2024-01-10 21:07:02.765 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:07:02.765 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:07:02.765 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:07:02.765 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:07:02.765 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:07:02.765 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:07:02.765 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:07:02.765 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:07:02.765 +02:00 [DBG] New connection LlGI-3bt6QR13fYaR9WESA created.
2024-01-10 21:07:02.765 +02:00 [DBG] Establishing new connection.
2024-01-10 21:07:02.765 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:07:02.765 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:07:02.795 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:07:02.795 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:07:02.797 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:07:02.798 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:07:02.800 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:07:02.800 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:07:02.800 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:07:02.800 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:07:02.800 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:02.801 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:02.801 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:07:02.803 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:07:02.804 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:02.804 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:07:02.804 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:02.804 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:07:02.804 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "1", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:07:02.804 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:07:02.804 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:07:02.804 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:07:02.804 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:02.805 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:02.805 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:07:02.806 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:07:02.806 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:02.806 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:07:02.806 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:02.806 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:07:20.300 +02:00 [DBG] Connection id "0HN0I1JQLEIBB" received FIN.
2024-01-10 21:07:20.300 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:07:20.307 +02:00 [DBG] Connection id "0HN0I1JQLEIBC" received FIN.
2024-01-10 21:07:20.307 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:07:20.308 +02:00 [DBG] Connection id "0HN0I1JQLEIBC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:07:20.315 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:07:20.320 +02:00 [DBG] Connection id "0HN0I1JQLEIBB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:07:20.320 +02:00 [DBG] Socket closed.
2024-01-10 21:07:20.321 +02:00 [DBG] Connection id "0HN0I1JQLEIBB" disconnecting.
2024-01-10 21:07:20.332 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:07:20.336 +02:00 [DBG] Connection id "0HN0I1JQLEIBC" disconnecting.
2024-01-10 21:07:20.359 +02:00 [DBG] Removing connection AcTdZsQaalO46CmsjfcSbw from the list of connections.
2024-01-10 21:07:20.359 +02:00 [DBG] Socket closed.
2024-01-10 21:07:20.360 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:07:20.360 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 17622.2389 ms
2024-01-10 21:07:20.361 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 17622.5921ms
2024-01-10 21:07:20.362 +02:00 [DBG] Removing connection LlGI-3bt6QR13fYaR9WESA from the list of connections.
2024-01-10 21:07:20.363 +02:00 [DBG] Connection id "0HN0I1JQLEIBB" stopped.
2024-01-10 21:07:20.363 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:07:20.363 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 17597.6679 ms
2024-01-10 21:07:20.363 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 17598.0086ms
2024-01-10 21:07:20.363 +02:00 [DBG] Connection id "0HN0I1JQLEIBC" stopped.
2024-01-10 21:07:20.470 +02:00 [DBG] Connection id "0HN0I1JQLEIBD" accepted.
2024-01-10 21:07:20.470 +02:00 [DBG] Connection id "0HN0I1JQLEIBD" started.
2024-01-10 21:07:20.470 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:07:20.470 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:07:20.471 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:07:20.471 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:07:20.471 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:07:20.471 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:07:20.471 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:07:20.471 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:07:20.471 +02:00 [DBG] New connection FbXJU3zRssb0v1i2h72xLw created.
2024-01-10 21:07:20.471 +02:00 [DBG] Establishing new connection.
2024-01-10 21:07:20.471 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:07:20.471 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:07:20.496 +02:00 [DBG] Connection id "0HN0I1JQLEIBE" accepted.
2024-01-10 21:07:20.496 +02:00 [DBG] Connection id "0HN0I1JQLEIBE" started.
2024-01-10 21:07:20.496 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:07:20.496 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:07:20.496 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:07:20.496 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:07:20.496 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:07:20.496 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:07:20.496 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:07:20.496 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:07:20.496 +02:00 [DBG] New connection zqqUXrZ5F02VYXzgMPkJZQ created.
2024-01-10 21:07:20.496 +02:00 [DBG] Establishing new connection.
2024-01-10 21:07:20.496 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:07:20.497 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:07:20.524 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:07:20.524 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:07:20.527 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:07:20.527 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:07:20.529 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:07:20.530 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:07:20.531 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:07:20.531 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:07:20.531 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:20.531 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:20.531 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:07:20.532 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:07:20.533 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:20.533 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:07:20.533 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:20.533 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:07:20.534 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "1", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:07:20.534 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:07:20.534 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:07:20.534 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:07:20.534 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:20.535 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:20.535 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:07:20.536 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:07:20.536 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:20.537 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:07:20.537 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:07:20.537 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:08:55.870 +02:00 [DBG] Connection id "0HN0I1JQLEIB0" received FIN.
2024-01-10 21:08:55.871 +02:00 [DBG] Connection id "0HN0I1JQLEIB0" is closed. The last processed stream ID was 9.
2024-01-10 21:08:55.871 +02:00 [DBG] Connection id "0HN0I1JQLEIB0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:08:55.871 +02:00 [DBG] Connection id "0HN0I1JQLEIB0" stopped.
2024-01-10 21:10:32.416 +02:00 [DBG] Connection id "0HN0I1JQLEIBD" received FIN.
2024-01-10 21:10:32.416 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:10:32.422 +02:00 [DBG] Connection id "0HN0I1JQLEIBE" received FIN.
2024-01-10 21:10:32.422 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:10:32.423 +02:00 [DBG] Connection id "0HN0I1JQLEIBD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:10:32.423 +02:00 [DBG] Connection id "0HN0I1JQLEIBE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:10:32.426 +02:00 [DBG] Connection id "0HN0I1JQLEIBD" disconnecting.
2024-01-10 21:10:32.447 +02:00 [DBG] Socket closed.
2024-01-10 21:10:32.447 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:10:32.479 +02:00 [DBG] Removing connection FbXJU3zRssb0v1i2h72xLw from the list of connections.
2024-01-10 21:10:32.479 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:10:32.479 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 192008.0927 ms
2024-01-10 21:10:32.476 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:10:32.483 +02:00 [DBG] Connection id "0HN0I1JQLEIBE" disconnecting.
2024-01-10 21:10:32.483 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 192012.7812ms
2024-01-10 21:10:32.484 +02:00 [DBG] Socket closed.
2024-01-10 21:10:32.484 +02:00 [DBG] Connection id "0HN0I1JQLEIBD" stopped.
2024-01-10 21:10:32.493 +02:00 [DBG] Removing connection zqqUXrZ5F02VYXzgMPkJZQ from the list of connections.
2024-01-10 21:10:32.494 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:10:32.494 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 191997.4183 ms
2024-01-10 21:10:32.499 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 191997.7868ms
2024-01-10 21:10:32.499 +02:00 [DBG] Connection id "0HN0I1JQLEIBE" stopped.
2024-01-10 21:10:32.743 +02:00 [DBG] Connection id "0HN0I1JQLEIBF" accepted.
2024-01-10 21:10:32.743 +02:00 [DBG] Connection id "0HN0I1JQLEIBF" started.
2024-01-10 21:10:32.743 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:10:32.743 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:10:32.743 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:10:32.743 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:10:32.743 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:10:32.744 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:10:32.744 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:10:32.744 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:10:32.744 +02:00 [DBG] New connection KNL8m813pKWSkeMWfLEUaw created.
2024-01-10 21:10:32.744 +02:00 [DBG] Establishing new connection.
2024-01-10 21:10:32.744 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:10:32.744 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:10:32.776 +02:00 [DBG] Connection id "0HN0I1JQLEIBG" accepted.
2024-01-10 21:10:32.776 +02:00 [DBG] Connection id "0HN0I1JQLEIBG" started.
2024-01-10 21:10:32.776 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:10:32.776 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:10:32.776 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:10:32.776 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:10:32.776 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:10:32.776 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:10:32.776 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:10:32.777 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:10:32.777 +02:00 [DBG] New connection BGsqd6Me-es7gpIMYw3Waw created.
2024-01-10 21:10:32.777 +02:00 [DBG] Establishing new connection.
2024-01-10 21:10:32.777 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:10:32.777 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:10:32.804 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:10:32.804 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:10:32.805 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:10:32.806 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:10:32.807 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:10:32.808 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:10:32.808 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:32.808 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:32.808 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:32.808 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:32.808 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:10:32.811 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:10:32.811 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:32.811 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:10:32.811 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:32.811 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:10:32.811 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "1", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:10:32.811 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:10:32.812 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:32.812 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:32.812 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:32.812 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:32.812 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:10:32.813 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:10:32.813 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:32.813 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:10:32.813 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:32.813 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:10:40.477 +02:00 [DBG] Connection id "0HN0I1JQLEIBH" accepted.
2024-01-10 21:10:40.477 +02:00 [DBG] Connection id "0HN0I1JQLEIBH" started.
2024-01-10 21:10:40.478 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:10:40.478 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:10:40.478 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:10:40.478 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:10:40.478 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:10:40.478 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:10:40.478 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:10:40.478 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:10:40.478 +02:00 [DBG] New connection RuIiHpOsQVWvarEjuXopLw created.
2024-01-10 21:10:40.478 +02:00 [DBG] Establishing new connection.
2024-01-10 21:10:40.478 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:10:40.479 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:10:40.495 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:10:40.495 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:10:40.498 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:10:40.499 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:10:40.499 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:40.499 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:40.499 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:40.499 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:40.499 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:10:40.501 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:10:40.502 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:40.502 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:10:40.502 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:40.502 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:10:44.618 +02:00 [DBG] Connection id "0HN0I1JQLEIBI" accepted.
2024-01-10 21:10:44.618 +02:00 [DBG] Connection id "0HN0I1JQLEIBI" started.
2024-01-10 21:10:44.620 +02:00 [DBG] Connection 0HN0I1JQLEIBI established using the following protocol: "Tls12"
2024-01-10 21:10:44.621 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 21:10:44.621 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:10:44.621 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:10:44.621 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:10:44.621 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.6778ms
2024-01-10 21:10:44.623 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 21:10:44.624 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:10:44.624 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:10:44.624 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:10:44.624 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 21:10:44.624 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 21:10:44.624 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 21:10:44.624 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 21:10:44.624 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 21:10:44.624 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 21:10:44.631 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 21:10:44.631 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:10:44.631 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:10:44.631 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:10:44.631 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:10:44.631 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:10:44.631 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:10:44.631 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:10:44.638 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 21:10:44.638 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 21:10:44.645 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 21:10:44.646 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 21:10:44.646 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 21:10:44.647 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 21:10:44.647 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 21:10:44.647 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 21:10:44.647 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 21:10:44.647 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 21:10:44.647 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 21:10:44.648 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 21:10:44.648 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 21:10:44.648 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 21:10:44.648 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 21:10:44.648 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 21:10:44.648 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 21:10:44.648 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 21:10:44.648 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 21:10:44.649 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 21:10:44.649 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 21:10:44.649 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 21:10:44.649 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 21:10:44.650 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 21:10:44.658 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 21:10:44.675 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Count()'
2024-01-10 21:10:44.689 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Users AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 21:10:44.692 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:10:44.692 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:44.692 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:44.692 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:44.693 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:44.693 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 21:10:44.696 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 21:10:44.696 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:44.696 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:10:44.696 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:44.696 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:10:44.704 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .OrderBy(d => d.Username)
    .Skip(__p_0)
    .Take(__p_1)'
2024-01-10 21:10:44.725 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-10 21:10:44.817 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FirstName (string), 2], [Property: User.IsActive (bool?) ValueGenerated.OnAdd, 3], [Property: User.LastName (string), 4], [Property: User.Password (string), 5], [Property: User.RefreshToken (string), 6], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 7], [Property: User.RoleId (int?) FK Index, 8], [Property: User.Token (string), 9], [Property: User.Username (string) Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Role.RoleType (string) Required, 12] }
        SELECT t.Id, t.Email, t.FirstName, t.IsActive, t.LastName, t.Password, t.RefreshToken, t.RefreshTokenExpiryTime, t.RoleId, t.Token, t.Username, r.Id, r.RoleType
        FROM 
        (
            SELECT u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RefreshToken, u.RefreshTokenExpiryTime, u.RoleId, u.Token, u.Username
            FROM Users AS u
            ORDER BY u.Username ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        LEFT JOIN Roles AS r ON t.RoleId == r.Id
        ORDER BY t.Username ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 21:10:44.820 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:10:44.820 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:44.820 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:44.820 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:44.820 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:44.820 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[RoleId], [t].[Token], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 21:10:44.828 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[RoleId], [t].[Token], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 21:10:44.828 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:10:44.844 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:10:44.852 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:10:44.855 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:10:44.856 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:10:44.856 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:10:44.856 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:44.856 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 27ms reading results.
2024-01-10 21:10:44.856 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:44.856 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:10:44.857 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:10:44.857 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:10:44.857 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:10:44.857 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:10:44.857 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:10:44.857 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:10:44.865 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 234.2884ms
2024-01-10 21:10:44.865 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 21:10:44.865 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 241.6293 ms
2024-01-10 21:10:44.865 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 276 application/json;+charset=utf-8 242.2531ms
2024-01-10 21:10:46.034 +02:00 [DBG] Connection id "0HN0I1JQLEIBJ" accepted.
2024-01-10 21:10:46.034 +02:00 [DBG] Connection id "0HN0I1JQLEIBJ" started.
2024-01-10 21:10:46.034 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:10:46.034 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:10:46.034 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:10:46.034 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:10:46.034 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:10:46.034 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:10:46.034 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:10:46.034 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:10:46.034 +02:00 [DBG] New connection fqLFX5Yn03V880K1f18xuQ created.
2024-01-10 21:10:46.034 +02:00 [DBG] Establishing new connection.
2024-01-10 21:10:46.035 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:10:46.035 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:10:46.053 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:10:46.053 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:10:46.055 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:10:46.056 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:10:46.056 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:46.056 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:46.056 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:46.056 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:46.056 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:10:46.060 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:10:46.060 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:46.060 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:10:46.060 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:46.060 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:10:48.131 +02:00 [DBG] Connection id "0HN0I1JQLEIBK" accepted.
2024-01-10 21:10:48.131 +02:00 [DBG] Connection id "0HN0I1JQLEIBK" started.
2024-01-10 21:10:48.132 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:10:48.132 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:10:48.132 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:10:48.132 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:10:48.132 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:10:48.132 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:10:48.132 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:10:48.132 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:10:48.132 +02:00 [DBG] New connection GfuLZs8xBrI55BYFrZ98Gg created.
2024-01-10 21:10:48.132 +02:00 [DBG] Establishing new connection.
2024-01-10 21:10:48.132 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:10:48.132 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:10:48.151 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:10:48.151 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:10:48.153 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:10:48.154 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:10:48.154 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:48.154 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:10:48.154 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:48.154 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:48.154 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:10:48.157 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:10:48.157 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:48.157 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:10:48.157 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:10:48.157 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:10:50.998 +02:00 [DBG] Connection id "0HN0I1JQLEIBI" received FIN.
2024-01-10 21:10:50.998 +02:00 [DBG] Connection id "0HN0I1JQLEIBI" is closed. The last processed stream ID was 3.
2024-01-10 21:10:50.998 +02:00 [DBG] Connection id "0HN0I1JQLEIBI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:10:51.012 +02:00 [DBG] Connection id "0HN0I1JQLEIBI" stopped.
2024-01-10 21:11:40.473 +02:00 [DBG] Connection id "0HN0I1JQLEIBG" received FIN.
2024-01-10 21:11:40.473 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:11:40.473 +02:00 [DBG] Connection id "0HN0I1JQLEIBG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:11:40.473 +02:00 [DBG] Connection id "0HN0I1JQLEIBG" disconnecting.
2024-01-10 21:11:40.473 +02:00 [DBG] Socket closed.
2024-01-10 21:11:40.474 +02:00 [DBG] Connection id "0HN0I1JQLEIBH" received FIN.
2024-01-10 21:11:40.475 +02:00 [DBG] Connection id "0HN0I1JQLEIBJ" received FIN.
2024-01-10 21:11:40.475 +02:00 [DBG] Connection id "0HN0I1JQLEIBF" received FIN.
2024-01-10 21:11:40.475 +02:00 [DBG] Connection id "0HN0I1JQLEIBK" received FIN.
2024-01-10 21:11:40.475 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:11:40.475 +02:00 [DBG] Connection id "0HN0I1JQLEIBH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:11:40.475 +02:00 [DBG] Connection id "0HN0I1JQLEIBH" disconnecting.
2024-01-10 21:11:40.475 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:11:40.476 +02:00 [DBG] Connection id "0HN0I1JQLEIBJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:11:40.476 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:11:40.476 +02:00 [DBG] Connection id "0HN0I1JQLEIBJ" disconnecting.
2024-01-10 21:11:40.476 +02:00 [DBG] Connection id "0HN0I1JQLEIBF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:11:40.476 +02:00 [DBG] Connection id "0HN0I1JQLEIBF" disconnecting.
2024-01-10 21:11:40.476 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:11:40.476 +02:00 [DBG] Connection id "0HN0I1JQLEIBK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:11:40.477 +02:00 [DBG] Connection id "0HN0I1JQLEIBK" disconnecting.
2024-01-10 21:11:40.477 +02:00 [DBG] Socket closed.
2024-01-10 21:11:40.478 +02:00 [DBG] Socket closed.
2024-01-10 21:11:40.484 +02:00 [DBG] Socket closed.
2024-01-10 21:11:40.484 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:11:40.484 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:11:40.484 +02:00 [DBG] Removing connection RuIiHpOsQVWvarEjuXopLw from the list of connections.
2024-01-10 21:11:40.484 +02:00 [DBG] Removing connection fqLFX5Yn03V880K1f18xuQ from the list of connections.
2024-01-10 21:11:40.484 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:11:40.485 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:11:40.484 +02:00 [DBG] Socket closed.
2024-01-10 21:11:40.485 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 60006.3964 ms
2024-01-10 21:11:40.485 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 54450.3646 ms
2024-01-10 21:11:40.485 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 60007.0589ms
2024-01-10 21:11:40.485 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 54451.0006ms
2024-01-10 21:11:40.485 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:11:40.485 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:11:40.485 +02:00 [DBG] Connection id "0HN0I1JQLEIBH" stopped.
2024-01-10 21:11:40.485 +02:00 [DBG] Connection id "0HN0I1JQLEIBJ" stopped.
2024-01-10 21:11:40.485 +02:00 [DBG] Removing connection GfuLZs8xBrI55BYFrZ98Gg from the list of connections.
2024-01-10 21:11:40.485 +02:00 [DBG] Removing connection KNL8m813pKWSkeMWfLEUaw from the list of connections.
2024-01-10 21:11:40.486 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:11:40.486 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 52353.6698 ms
2024-01-10 21:11:40.486 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:11:40.486 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 67742.1496 ms
2024-01-10 21:11:40.486 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 52354.0981ms
2024-01-10 21:11:40.486 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 67742.5520ms
2024-01-10 21:11:40.486 +02:00 [DBG] Connection id "0HN0I1JQLEIBK" stopped.
2024-01-10 21:11:40.486 +02:00 [DBG] Connection id "0HN0I1JQLEIBF" stopped.
2024-01-10 21:11:40.486 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:11:40.487 +02:00 [DBG] Removing connection BGsqd6Me-es7gpIMYw3Waw from the list of connections.
2024-01-10 21:11:40.488 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:11:40.492 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 67715.1262 ms
2024-01-10 21:11:40.494 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 67718.2057ms
2024-01-10 21:11:40.495 +02:00 [DBG] Connection id "0HN0I1JQLEIBG" stopped.
2024-01-10 21:11:40.881 +02:00 [DBG] Connection id "0HN0I1JQLEIBL" accepted.
2024-01-10 21:11:40.881 +02:00 [DBG] Connection id "0HN0I1JQLEIBL" started.
2024-01-10 21:11:40.882 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:11:40.882 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:11:40.882 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:11:40.882 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:11:40.882 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:11:40.883 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:11:40.883 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:11:40.883 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:11:40.883 +02:00 [DBG] New connection lbElyQDTzJfDJgmSAngD9A created.
2024-01-10 21:11:40.883 +02:00 [DBG] Establishing new connection.
2024-01-10 21:11:40.884 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:11:40.885 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:11:40.973 +02:00 [DBG] Connection id "0HN0I1JQLEIBM" accepted.
2024-01-10 21:11:40.973 +02:00 [DBG] Connection id "0HN0I1JQLEIBM" started.
2024-01-10 21:11:40.974 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:11:40.974 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:11:40.974 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:11:40.974 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:11:40.974 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:11:40.974 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:11:40.974 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:11:40.974 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:11:40.974 +02:00 [DBG] New connection dKhVO-R2AYZsxKobl_M8_A created.
2024-01-10 21:11:40.974 +02:00 [DBG] Establishing new connection.
2024-01-10 21:11:40.974 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:11:40.974 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:11:41.042 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:11:41.042 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:11:41.043 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:11:41.043 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:11:41.047 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:11:41.048 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:11:41.048 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:11:41.048 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:11:41.048 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:41.048 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:41.048 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:11:41.055 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:11:41.055 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:41.055 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:11:41.056 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:41.056 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:11:41.056 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "1", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:11:41.056 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:11:41.056 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:11:41.056 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:11:41.056 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:41.056 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:41.056 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:11:41.057 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:11:41.058 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:41.058 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:11:41.058 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:41.058 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:11:42.752 +02:00 [DBG] Connection id "0HN0I1JQLEIBN" accepted.
2024-01-10 21:11:42.752 +02:00 [DBG] Connection id "0HN0I1JQLEIBN" started.
2024-01-10 21:11:42.753 +02:00 [DBG] Connection 0HN0I1JQLEIBN established using the following protocol: "Tls12"
2024-01-10 21:11:42.754 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/location/getLocationsPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&country=&city=&address=&contactEmail=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false - -
2024-01-10 21:11:42.755 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:11:42.755 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:11:42.755 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:11:42.755 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/location/getLocationsPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&country=&city=&address=&contactEmail=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false - - - 204 - - 1.2466ms
2024-01-10 21:11:42.756 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/location/getLocationsPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&country=&city=&address=&contactEmail=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 21:11:42.757 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:11:42.757 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:11:42.757 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:11:42.757 +02:00 [DBG] The request path /api/location/getLocationsPagedAndFiltered does not match a supported file type
2024-01-10 21:11:42.757 +02:00 [DBG] 2 candidate(s) found for the request path '/api/location/getLocationsPagedAndFiltered'
2024-01-10 21:11:42.757 +02:00 [DBG] Endpoint 'WebApi.Controllers.LocationController.GetLocationsFilteredPagedAsync (WebApi)' with route pattern 'api/Location/getLocationsPagedAndFiltered' is valid for the request path '/api/location/getLocationsPagedAndFiltered'
2024-01-10 21:11:42.757 +02:00 [DBG] Endpoint 'WebApi.Controllers.LocationController.GetLocationByIdAsync (WebApi)' with route pattern 'api/Location/{locationId}' is valid for the request path '/api/location/getLocationsPagedAndFiltered'
2024-01-10 21:11:42.757 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.LocationController.GetLocationsFilteredPagedAsync (WebApi)'
2024-01-10 21:11:42.757 +02:00 [INF] Executing endpoint 'WebApi.Controllers.LocationController.GetLocationsFilteredPagedAsync (WebApi)'
2024-01-10 21:11:42.764 +02:00 [INF] Route matched with {action = "GetLocationsFilteredPaged", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationsFilteredPagedAsync(BusinessLogicLayer.DTOs.LocationParameters) on controller WebApi.Controllers.LocationController (WebApi).
2024-01-10 21:11:42.765 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:11:42.765 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:11:42.765 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:11:42.765 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:11:42.765 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:11:42.765 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.LocationController (WebApi)
2024-01-10 21:11:42.766 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.LocationController (WebApi)
2024-01-10 21:11:42.766 +02:00 [DBG] Attempting to bind parameter 'locationParameters' of type 'BusinessLogicLayer.DTOs.LocationParameters' ...
2024-01-10 21:11:42.766 +02:00 [DBG] Attempting to bind parameter 'locationParameters' of type 'BusinessLogicLayer.DTOs.LocationParameters' using the name '' in request data ...
2024-01-10 21:11:42.767 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.Name' of type 'System.String' using the name 'Name' in request data ...
2024-01-10 21:11:42.767 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.Name' of type 'System.String'.
2024-01-10 21:11:42.767 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.Country' of type 'System.String' using the name 'Country' in request data ...
2024-01-10 21:11:42.767 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.Country' of type 'System.String'.
2024-01-10 21:11:42.768 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.City' of type 'System.String' using the name 'City' in request data ...
2024-01-10 21:11:42.768 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.City' of type 'System.String'.
2024-01-10 21:11:42.768 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.Address' of type 'System.String' using the name 'Address' in request data ...
2024-01-10 21:11:42.768 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.Address' of type 'System.String'.
2024-01-10 21:11:42.769 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.ContactEmail' of type 'System.String' using the name 'ContactEmail' in request data ...
2024-01-10 21:11:42.769 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.ContactEmail' of type 'System.String'.
2024-01-10 21:11:42.769 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 21:11:42.769 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 21:11:42.769 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 21:11:42.769 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 21:11:42.769 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 21:11:42.769 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 21:11:42.769 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 21:11:42.769 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 21:11:42.770 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 21:11:42.770 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 21:11:42.770 +02:00 [DBG] Done attempting to bind parameter 'locationParameters' of type 'BusinessLogicLayer.DTOs.LocationParameters'.
2024-01-10 21:11:42.770 +02:00 [DBG] Done attempting to bind parameter 'locationParameters' of type 'BusinessLogicLayer.DTOs.LocationParameters'.
2024-01-10 21:11:42.770 +02:00 [DBG] Attempting to validate the bound parameter 'locationParameters' of type 'BusinessLogicLayer.DTOs.LocationParameters' ...
2024-01-10 21:11:42.771 +02:00 [DBG] Done attempting to validate the bound parameter 'locationParameters' of type 'BusinessLogicLayer.DTOs.LocationParameters'.
2024-01-10 21:11:42.780 +02:00 [INF] GetLocationsFilteredPaged for {
  "Name": null,
  "Country": null,
  "City": null,
  "Address": null,
  "ContactEmail": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Name",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 21:11:42.791 +02:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .Where(l => True)
    .Where(l => True)
    .Where(l => True)
    .Where(l => True)
    .Where(l => True)
    .Count()'
2024-01-10 21:11:42.794 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Locations AS l), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 21:11:42.794 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:11:42.794 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:11:42.794 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:11:42.794 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:42.794 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:42.794 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Locations] AS [l]
2024-01-10 21:11:42.799 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Locations] AS [l]
2024-01-10 21:11:42.800 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:42.800 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:11:42.800 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:42.800 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:11:42.802 +02:00 [DBG] Compiling query expression: 
'DbSet<Location>()
    .Where(l => True)
    .Where(l => True)
    .Where(l => True)
    .Where(l => True)
    .Where(l => True)
    .OrderBy(l => l.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-01-10 21:11:42.806 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Location>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.LocationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Address (string) Required, 1], [Property: Location.City (string) Required, 2], [Property: Location.ContactEmail (string), 3], [Property: Location.Country (string) Required, 4], [Property: Location.EmailAlertsActive (bool) Required, 5], [Property: Location.EmailRecipient (string), 6], [Property: Location.Latitude (double?), 7], [Property: Location.Longitude (double?), 8], [Property: Location.Name (string) Required, 9], [Property: Location.Phone (string), 10] }
        SELECT l.LocationId, l.Address, l.City, l.ContactEmail, l.Country, l.EmailAlertsActive, l.EmailRecipient, l.Latitude, l.Longitude, l.Name, l.Phone
        FROM Locations AS l
        ORDER BY l.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 21:11:42.807 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:11:42.807 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:11:42.807 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:11:42.807 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:42.807 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:42.807 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone]
FROM [Locations] AS [l]
ORDER BY [l].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-01-10 21:11:42.814 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone]
FROM [Locations] AS [l]
ORDER BY [l].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-01-10 21:11:42.822 +02:00 [DBG] Context 'InternshipContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:11:42.844 +02:00 [DBG] Context 'InternshipContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:11:42.845 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:42.845 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 30ms reading results.
2024-01-10 21:11:42.845 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:42.845 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:11:42.845 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:11:42.845 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:11:42.845 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:11:42.845 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:11:42.845 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:11:42.846 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.LocationInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:11:42.850 +02:00 [INF] Executed action WebApi.Controllers.LocationController.GetLocationsFilteredPagedAsync (WebApi) in 85.2217ms
2024-01-10 21:11:42.850 +02:00 [INF] Executed endpoint 'WebApi.Controllers.LocationController.GetLocationsFilteredPagedAsync (WebApi)'
2024-01-10 21:11:42.850 +02:00 [INF] HTTP GET /api/location/getLocationsPagedAndFiltered responded 200 in 93.6171 ms
2024-01-10 21:11:42.850 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/location/getLocationsPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&country=&city=&address=&contactEmail=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false application/json - - 200 445 application/json;+charset=utf-8 94.1720ms
2024-01-10 21:11:44.192 +02:00 [DBG] Connection id "0HN0I1JQLEIBO" accepted.
2024-01-10 21:11:44.192 +02:00 [DBG] Connection id "0HN0I1JQLEIBO" started.
2024-01-10 21:11:44.193 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:11:44.193 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:11:44.193 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:11:44.193 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:11:44.193 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:11:44.193 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:11:44.193 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:11:44.193 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:11:44.193 +02:00 [DBG] New connection -rccfCtXA5bB8ifT5rwIGQ created.
2024-01-10 21:11:44.193 +02:00 [DBG] Establishing new connection.
2024-01-10 21:11:44.193 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:11:44.193 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:11:44.214 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:11:44.214 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:11:44.215 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:11:44.216 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:11:44.216 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:11:44.216 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:11:44.216 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:44.216 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:44.216 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:11:44.218 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:11:44.218 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:44.218 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:11:44.218 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:44.218 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:11:45.981 +02:00 [DBG] Connection id "0HN0I1JQLEIBP" accepted.
2024-01-10 21:11:45.981 +02:00 [DBG] Connection id "0HN0I1JQLEIBP" started.
2024-01-10 21:11:45.981 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:11:45.981 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:11:45.981 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:11:45.981 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:11:45.982 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:11:45.982 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:11:45.982 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:11:45.982 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:11:45.982 +02:00 [DBG] New connection MS07S0e3PpZM4FQziDpUrw created.
2024-01-10 21:11:45.982 +02:00 [DBG] Establishing new connection.
2024-01-10 21:11:45.982 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:11:45.982 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:11:45.997 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:11:45.998 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:11:46.000 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:11:46.001 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:11:46.001 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:11:46.001 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:11:46.001 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:46.001 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:46.001 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:11:46.006 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:11:46.006 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:46.006 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:11:46.006 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:11:46.007 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:11:51.088 +02:00 [DBG] Connection id "0HN0I1JQLEIBN" received FIN.
2024-01-10 21:11:51.088 +02:00 [DBG] Connection id "0HN0I1JQLEIBN" is closed. The last processed stream ID was 3.
2024-01-10 21:11:51.088 +02:00 [DBG] Connection id "0HN0I1JQLEIBN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:11:51.088 +02:00 [DBG] Connection id "0HN0I1JQLEIBN" stopped.
2024-01-10 21:12:33.773 +02:00 [DBG] Connection id "0HN0I1JQLEIBL" received FIN.
2024-01-10 21:12:33.773 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:12:33.774 +02:00 [DBG] Connection id "0HN0I1JQLEIBL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:12:33.774 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:12:33.774 +02:00 [DBG] Connection id "0HN0I1JQLEIBL" disconnecting.
2024-01-10 21:12:33.774 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:12:33.774 +02:00 [DBG] Socket closed.
2024-01-10 21:12:33.774 +02:00 [DBG] Connection id "0HN0I1JQLEIBM" received FIN.
2024-01-10 21:12:33.774 +02:00 [DBG] Removing connection lbElyQDTzJfDJgmSAngD9A from the list of connections.
2024-01-10 21:12:33.774 +02:00 [DBG] Connection id "0HN0I1JQLEIBP" received FIN.
2024-01-10 21:12:33.774 +02:00 [DBG] Socket closed.
2024-01-10 21:12:33.774 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:12:33.774 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:12:33.774 +02:00 [DBG] Connection id "0HN0I1JQLEIBM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:12:33.774 +02:00 [DBG] Connection id "0HN0I1JQLEIBP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:12:33.775 +02:00 [DBG] Removing connection dKhVO-R2AYZsxKobl_M8_A from the list of connections.
2024-01-10 21:12:33.775 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 52891.8809 ms
2024-01-10 21:12:33.775 +02:00 [DBG] Connection id "0HN0I1JQLEIBM" disconnecting.
2024-01-10 21:12:33.775 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:12:33.775 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 52801.0077 ms
2024-01-10 21:12:33.775 +02:00 [DBG] Connection id "0HN0I1JQLEIBO" received FIN.
2024-01-10 21:12:33.775 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 52892.9743ms
2024-01-10 21:12:33.775 +02:00 [DBG] Connection id "0HN0I1JQLEIBP" disconnecting.
2024-01-10 21:12:33.775 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:12:33.775 +02:00 [DBG] Connection id "0HN0I1JQLEIBL" stopped.
2024-01-10 21:12:33.775 +02:00 [DBG] Connection id "0HN0I1JQLEIBO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:12:33.775 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:12:33.775 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 52801.4760ms
2024-01-10 21:12:33.776 +02:00 [DBG] Connection id "0HN0I1JQLEIBO" disconnecting.
2024-01-10 21:12:33.774 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:12:33.776 +02:00 [DBG] Connection id "0HN0I1JQLEIBM" stopped.
2024-01-10 21:12:33.776 +02:00 [DBG] Socket closed.
2024-01-10 21:12:33.776 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:12:33.776 +02:00 [DBG] Socket closed.
2024-01-10 21:12:33.776 +02:00 [DBG] Removing connection MS07S0e3PpZM4FQziDpUrw from the list of connections.
2024-01-10 21:12:33.776 +02:00 [DBG] Removing connection -rccfCtXA5bB8ifT5rwIGQ from the list of connections.
2024-01-10 21:12:33.777 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:12:33.777 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:12:33.777 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 47794.9912 ms
2024-01-10 21:12:33.777 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 49583.6577 ms
2024-01-10 21:12:33.777 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 47795.7290ms
2024-01-10 21:12:33.777 +02:00 [DBG] Connection id "0HN0I1JQLEIBP" stopped.
2024-01-10 21:12:33.777 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 49584.2652ms
2024-01-10 21:12:33.777 +02:00 [DBG] Connection id "0HN0I1JQLEIBO" stopped.
2024-01-10 21:12:34.261 +02:00 [DBG] Connection id "0HN0I1JQLEIBQ" accepted.
2024-01-10 21:12:34.262 +02:00 [DBG] Connection id "0HN0I1JQLEIBQ" started.
2024-01-10 21:12:34.262 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:12:34.262 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:34.262 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:34.263 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:34.263 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:12:34.263 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:12:34.263 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:12:34.263 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:12:34.263 +02:00 [DBG] New connection J14Wvlez4USEod3lL9MfQQ created.
2024-01-10 21:12:34.263 +02:00 [DBG] Establishing new connection.
2024-01-10 21:12:34.263 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:12:34.263 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:12:34.340 +02:00 [DBG] Connection id "0HN0I1JQLEIBR" accepted.
2024-01-10 21:12:34.341 +02:00 [DBG] Connection id "0HN0I1JQLEIBR" started.
2024-01-10 21:12:34.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:12:34.341 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:34.341 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:34.341 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:34.341 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:12:34.341 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:12:34.341 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:12:34.341 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:12:34.341 +02:00 [DBG] New connection 7BYY8VghlCU1-_CH2qOiOA created.
2024-01-10 21:12:34.341 +02:00 [DBG] Establishing new connection.
2024-01-10 21:12:34.342 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:12:34.342 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:12:34.377 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:12:34.377 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:12:34.379 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:12:34.379 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:12:34.383 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:12:34.388 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:34.389 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:34.389 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:34.389 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:34.389 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:34.389 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:34.392 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:34.392 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:34.392 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:34.392 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:34.393 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:34.393 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "1", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:12:34.393 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:34.393 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:34.393 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:34.394 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:34.394 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:34.394 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:34.395 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:34.396 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:34.396 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:34.396 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:34.396 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:39.335 +02:00 [DBG] Connection id "0HN0I1JQLEIBS" accepted.
2024-01-10 21:12:39.335 +02:00 [DBG] Connection id "0HN0I1JQLEIBS" started.
2024-01-10 21:12:39.336 +02:00 [DBG] Connection 0HN0I1JQLEIBS established using the following protocol: "Tls12"
2024-01-10 21:12:39.337 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/location/getLocationsPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&country=&city=&address=&contactEmail=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false - -
2024-01-10 21:12:39.338 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:39.338 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:39.338 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:12:39.339 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/location/getLocationsPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&country=&city=&address=&contactEmail=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false - - - 204 - - 1.2140ms
2024-01-10 21:12:39.341 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/location/getLocationsPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&country=&city=&address=&contactEmail=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 21:12:39.341 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:39.341 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:39.341 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:39.341 +02:00 [DBG] The request path /api/location/getLocationsPagedAndFiltered does not match a supported file type
2024-01-10 21:12:39.343 +02:00 [DBG] 2 candidate(s) found for the request path '/api/location/getLocationsPagedAndFiltered'
2024-01-10 21:12:39.343 +02:00 [DBG] Endpoint 'WebApi.Controllers.LocationController.GetLocationsFilteredPagedAsync (WebApi)' with route pattern 'api/Location/getLocationsPagedAndFiltered' is valid for the request path '/api/location/getLocationsPagedAndFiltered'
2024-01-10 21:12:39.343 +02:00 [DBG] Endpoint 'WebApi.Controllers.LocationController.GetLocationByIdAsync (WebApi)' with route pattern 'api/Location/{locationId}' is valid for the request path '/api/location/getLocationsPagedAndFiltered'
2024-01-10 21:12:39.343 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.LocationController.GetLocationsFilteredPagedAsync (WebApi)'
2024-01-10 21:12:39.344 +02:00 [INF] Executing endpoint 'WebApi.Controllers.LocationController.GetLocationsFilteredPagedAsync (WebApi)'
2024-01-10 21:12:39.344 +02:00 [INF] Route matched with {action = "GetLocationsFilteredPaged", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLocationsFilteredPagedAsync(BusinessLogicLayer.DTOs.LocationParameters) on controller WebApi.Controllers.LocationController (WebApi).
2024-01-10 21:12:39.344 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:12:39.344 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:12:39.344 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:12:39.344 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:12:39.344 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:12:39.344 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.LocationController (WebApi)
2024-01-10 21:12:39.344 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.LocationController (WebApi)
2024-01-10 21:12:39.344 +02:00 [DBG] Attempting to bind parameter 'locationParameters' of type 'BusinessLogicLayer.DTOs.LocationParameters' ...
2024-01-10 21:12:39.344 +02:00 [DBG] Attempting to bind parameter 'locationParameters' of type 'BusinessLogicLayer.DTOs.LocationParameters' using the name '' in request data ...
2024-01-10 21:12:39.344 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.Name' of type 'System.String' using the name 'Name' in request data ...
2024-01-10 21:12:39.344 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.Name' of type 'System.String'.
2024-01-10 21:12:39.344 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.Country' of type 'System.String' using the name 'Country' in request data ...
2024-01-10 21:12:39.344 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.Country' of type 'System.String'.
2024-01-10 21:12:39.344 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.City' of type 'System.String' using the name 'City' in request data ...
2024-01-10 21:12:39.344 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.City' of type 'System.String'.
2024-01-10 21:12:39.344 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.Address' of type 'System.String' using the name 'Address' in request data ...
2024-01-10 21:12:39.344 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.Address' of type 'System.String'.
2024-01-10 21:12:39.344 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.ContactEmail' of type 'System.String' using the name 'ContactEmail' in request data ...
2024-01-10 21:12:39.344 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.ContactEmail' of type 'System.String'.
2024-01-10 21:12:39.345 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 21:12:39.345 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 21:12:39.345 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 21:12:39.345 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 21:12:39.345 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 21:12:39.345 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 21:12:39.345 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 21:12:39.345 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 21:12:39.345 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 21:12:39.345 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 21:12:39.345 +02:00 [DBG] Done attempting to bind parameter 'locationParameters' of type 'BusinessLogicLayer.DTOs.LocationParameters'.
2024-01-10 21:12:39.345 +02:00 [DBG] Done attempting to bind parameter 'locationParameters' of type 'BusinessLogicLayer.DTOs.LocationParameters'.
2024-01-10 21:12:39.345 +02:00 [DBG] Attempting to validate the bound parameter 'locationParameters' of type 'BusinessLogicLayer.DTOs.LocationParameters' ...
2024-01-10 21:12:39.345 +02:00 [DBG] Done attempting to validate the bound parameter 'locationParameters' of type 'BusinessLogicLayer.DTOs.LocationParameters'.
2024-01-10 21:12:39.345 +02:00 [INF] GetLocationsFilteredPaged for {
  "Name": null,
  "Country": null,
  "City": null,
  "Address": null,
  "ContactEmail": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Name",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 21:12:39.347 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:39.347 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:39.347 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:39.347 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:39.347 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:39.348 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Locations] AS [l]
2024-01-10 21:12:39.353 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Locations] AS [l]
2024-01-10 21:12:39.353 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:39.353 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:39.353 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:39.353 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:39.355 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:39.355 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:39.355 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:39.355 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:39.355 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:39.355 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone]
FROM [Locations] AS [l]
ORDER BY [l].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-01-10 21:12:39.358 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone]
FROM [Locations] AS [l]
ORDER BY [l].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-01-10 21:12:39.358 +02:00 [DBG] Context 'InternshipContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:39.359 +02:00 [DBG] Context 'InternshipContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:39.359 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:39.359 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:39.359 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:39.359 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:39.359 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:12:39.359 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:12:39.359 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:12:39.359 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:12:39.359 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:12:39.359 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.LocationInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:12:39.360 +02:00 [INF] Executed action WebApi.Controllers.LocationController.GetLocationsFilteredPagedAsync (WebApi) in 15.8227ms
2024-01-10 21:12:39.360 +02:00 [INF] Executed endpoint 'WebApi.Controllers.LocationController.GetLocationsFilteredPagedAsync (WebApi)'
2024-01-10 21:12:39.360 +02:00 [INF] HTTP GET /api/location/getLocationsPagedAndFiltered responded 200 in 18.8221 ms
2024-01-10 21:12:39.360 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/location/getLocationsPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&country=&city=&address=&contactEmail=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false application/json - - 200 445 application/json;+charset=utf-8 19.7049ms
2024-01-10 21:12:40.291 +02:00 [DBG] Connection id "0HN0I1JQLEIBT" accepted.
2024-01-10 21:12:40.291 +02:00 [DBG] Connection id "0HN0I1JQLEIBT" started.
2024-01-10 21:12:40.292 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:12:40.292 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:40.292 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:40.292 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:40.292 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:12:40.292 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:12:40.292 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:12:40.292 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:12:40.292 +02:00 [DBG] New connection U1HLlfkpLVqCEBTuhtzQTA created.
2024-01-10 21:12:40.292 +02:00 [DBG] Establishing new connection.
2024-01-10 21:12:40.293 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:12:40.293 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:12:40.322 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:12:40.323 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:12:40.329 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:12:40.329 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:40.329 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:40.329 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:40.329 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:40.330 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:40.330 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:40.333 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:40.333 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:40.333 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:40.333 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:40.333 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:41.151 +02:00 [DBG] Connection id "0HN0I1JQLEIBS" received FIN.
2024-01-10 21:12:41.152 +02:00 [DBG] Connection id "0HN0I1JQLEIBS" is closed. The last processed stream ID was 3.
2024-01-10 21:12:41.152 +02:00 [DBG] Connection id "0HN0I1JQLEIBS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:12:41.167 +02:00 [DBG] Connection id "0HN0I1JQLEIBS" stopped.
2024-01-10 21:12:42.032 +02:00 [DBG] Connection id "0HN0I1JQLEIBU" accepted.
2024-01-10 21:12:42.033 +02:00 [DBG] Connection id "0HN0I1JQLEIBU" started.
2024-01-10 21:12:42.033 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:12:42.034 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:42.034 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:42.034 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:42.034 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:12:42.034 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:12:42.034 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:12:42.034 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:12:42.034 +02:00 [DBG] New connection x5wqbl6G0Q854wTUOGIFZg created.
2024-01-10 21:12:42.034 +02:00 [DBG] Establishing new connection.
2024-01-10 21:12:42.034 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:12:42.034 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:12:42.056 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:12:42.056 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:12:42.061 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:12:42.062 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:42.062 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:42.062 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:42.062 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:42.062 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:42.063 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:42.065 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:42.065 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:42.065 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:42.065 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:42.066 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:43.588 +02:00 [DBG] Connection id "0HN0I1JQLEIBV" accepted.
2024-01-10 21:12:43.588 +02:00 [DBG] Connection id "0HN0I1JQLEIBV" started.
2024-01-10 21:12:43.590 +02:00 [DBG] Connection 0HN0I1JQLEIBV established using the following protocol: "Tls12"
2024-01-10 21:12:43.592 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false - -
2024-01-10 21:12:43.592 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:43.592 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:43.592 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:12:43.592 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.7609ms
2024-01-10 21:12:43.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 21:12:43.595 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:43.595 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:43.595 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:43.595 +02:00 [DBG] The request path /api/Device/getDevicesPagedAndFiltered does not match a supported file type
2024-01-10 21:12:43.595 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getDevicesPagedAndFiltered'
2024-01-10 21:12:43.595 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)' with route pattern 'api/Device/getDevicesPagedAndFiltered' is valid for the request path '/api/Device/getDevicesPagedAndFiltered'
2024-01-10 21:12:43.595 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getDevicesPagedAndFiltered'
2024-01-10 21:12:43.595 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)'
2024-01-10 21:12:43.595 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)'
2024-01-10 21:12:43.599 +02:00 [INF] Route matched with {action = "GetAllLocationsPaged", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLocationsPagedAsync(BusinessLogicLayer.DTOs.DeviceParameters) on controller WebApi.Controllers.DeviceController (WebApi).
2024-01-10 21:12:43.599 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:12:43.600 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:12:43.600 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:12:43.600 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:12:43.600 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:12:43.600 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-01-10 21:12:43.600 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-01-10 21:12:43.600 +02:00 [DBG] Attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters' ...
2024-01-10 21:12:43.600 +02:00 [DBG] Attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters' using the name '' in request data ...
2024-01-10 21:12:43.601 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.SerialNumber' of type 'System.String' using the name 'SerialNumber' in request data ...
2024-01-10 21:12:43.601 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.SerialNumber' of type 'System.String'.
2024-01-10 21:12:43.602 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Name' of type 'System.String' using the name 'Name' in request data ...
2024-01-10 21:12:43.602 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Name' of type 'System.String'.
2024-01-10 21:12:43.603 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Description' of type 'System.String' using the name 'Description' in request data ...
2024-01-10 21:12:43.603 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Description' of type 'System.String'.
2024-01-10 21:12:43.603 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Location' of type 'System.String' using the name 'Location' in request data ...
2024-01-10 21:12:43.603 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Location' of type 'System.String'.
2024-01-10 21:12:43.603 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.DeviceType' of type 'System.String' using the name 'DeviceType' in request data ...
2024-01-10 21:12:43.603 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.DeviceType' of type 'System.String'.
2024-01-10 21:12:43.603 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 21:12:43.604 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 21:12:43.604 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 21:12:43.604 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 21:12:43.604 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 21:12:43.604 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 21:12:43.604 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 21:12:43.604 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 21:12:43.604 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 21:12:43.604 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 21:12:43.604 +02:00 [DBG] Done attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters'.
2024-01-10 21:12:43.604 +02:00 [DBG] Done attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters'.
2024-01-10 21:12:43.604 +02:00 [DBG] Attempting to validate the bound parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters' ...
2024-01-10 21:12:43.607 +02:00 [DBG] Done attempting to validate the bound parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters'.
2024-01-10 21:12:43.610 +02:00 [INF] GetAllLocations for {
  "SerialNumber": null,
  "Name": null,
  "Description": null,
  "Location": null,
  "DeviceType": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Name",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 21:12:43.619 +02:00 [DBG] Compiling query expression: 
'DbSet<Device>()
    .Include(d => d.Location)
    .Include(d => d.DeviceType)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Count()'
2024-01-10 21:12:43.622 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Devices AS d), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 21:12:43.622 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:43.622 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:43.622 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:43.622 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:43.622 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:43.622 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Devices] AS [d]
2024-01-10 21:12:43.626 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Devices] AS [d]
2024-01-10 21:12:43.627 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:43.627 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:43.627 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:43.627 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:43.629 +02:00 [DBG] Compiling query expression: 
'DbSet<Device>()
    .Include(d => d.Location)
    .Include(d => d.DeviceType)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .OrderBy(d => d.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-01-10 21:12:43.630 +02:00 [DBG] Including navigation: 'Device.Location'.
2024-01-10 21:12:43.630 +02:00 [DBG] Including navigation: 'Device.DeviceType'.
2024-01-10 21:12:43.641 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Device>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Device.Alias (string), 1], [Property: Device.Description (string), 2], [Property: Device.DeviceTypeId (int) Required FK Index, 3], [Property: Device.Emails (string), 4], [Property: Device.FirmwareVersion (string), 5], [Property: Device.ImageBytes (byte[]), 6], [Property: Device.LastPingedTs (DateTime?), 7], [Property: Device.LastUploadTime (DateTime?), 8], [Property: Device.LocationId (int) Required FK Index, 9], [Property: Device.Name (string) Required, 10], [Property: Device.SerialNumber (string) Required, 11], [Property: Device.SoftwareVersion (string), 12] }
            1 -> Dictionary<IProperty, int> { [Property: Location.LocationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Location.Address (string) Required, 14], [Property: Location.City (string) Required, 15], [Property: Location.ContactEmail (string), 16], [Property: Location.Country (string) Required, 17], [Property: Location.EmailAlertsActive (bool) Required, 18], [Property: Location.EmailRecipient (string), 19], [Property: Location.Latitude (double?), 20], [Property: Location.Longitude (double?), 21], [Property: Location.Name (string) Required, 22], [Property: Location.Phone (string), 23] }
            2 -> Dictionary<IProperty, int> { [Property: DeviceType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: DeviceType.Name (string) Required, 25] }
        SELECT t.DeviceId, t.Alias, t.Description, t.DeviceTypeId, t.Emails, t.FirmwareVersion, t.ImageBytes, t.LastPingedTs, t.LastUploadTime, t.LocationId, t.Name, t.SerialNumber, t.SoftwareVersion, l.LocationId, l.Address, l.City, l.ContactEmail, l.Country, l.EmailAlertsActive, l.EmailRecipient, l.Latitude, l.Longitude, l.Name, l.Phone, d0.Id, d0.Name
        FROM 
        (
            SELECT d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion
            FROM Devices AS d
            ORDER BY d.Name ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Locations AS l ON t.LocationId == l.LocationId
        INNER JOIN DeviceTypes AS d0 ON t.DeviceTypeId == d0.Id
        ORDER BY t.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Device>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 21:12:43.642 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:43.642 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:43.642 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:43.642 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:43.642 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:43.642 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DeviceId], [t].[Alias], [t].[Description], [t].[DeviceTypeId], [t].[Emails], [t].[FirmwareVersion], [t].[ImageBytes], [t].[LastPingedTs], [t].[LastUploadTime], [t].[LocationId], [t].[Name], [t].[SerialNumber], [t].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM (
    SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
    FROM [Devices] AS [d]
    ORDER BY [d].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [t].[DeviceTypeId] = [d0].[Id]
ORDER BY [t].[Name]
2024-01-10 21:12:43.650 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DeviceId], [t].[Alias], [t].[Description], [t].[DeviceTypeId], [t].[Emails], [t].[FirmwareVersion], [t].[ImageBytes], [t].[LastPingedTs], [t].[LastUploadTime], [t].[LocationId], [t].[Name], [t].[SerialNumber], [t].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM (
    SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
    FROM [Devices] AS [d]
    ORDER BY [d].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [t].[DeviceTypeId] = [d0].[Id]
ORDER BY [t].[Name]
2024-01-10 21:12:43.674 +02:00 [DBG] Context 'InternshipContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:43.698 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:43.698 +02:00 [DBG] Context 'InternshipContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:43.703 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:43.703 +02:00 [DBG] Context 'InternshipContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:43.708 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:43.709 +02:00 [DBG] Context 'InternshipContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:43.709 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:43.709 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 58ms reading results.
2024-01-10 21:12:43.709 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:43.709 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:43.709 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:12:43.710 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:12:43.710 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:12:43.710 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:12:43.710 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:12:43.710 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.DeviceInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:12:43.714 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi) in 114.5872ms
2024-01-10 21:12:43.714 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)'
2024-01-10 21:12:43.714 +02:00 [INF] HTTP GET /api/Device/getDevicesPagedAndFiltered responded 200 in 119.5406 ms
2024-01-10 21:12:43.715 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false application/json - - 200 396 application/json;+charset=utf-8 120.4384ms
2024-01-10 21:12:44.694 +02:00 [DBG] Connection id "0HN0I1JQLEIC0" accepted.
2024-01-10 21:12:44.694 +02:00 [DBG] Connection id "0HN0I1JQLEIC0" started.
2024-01-10 21:12:44.695 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:12:44.695 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:44.695 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:44.695 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:44.695 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:12:44.695 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:12:44.695 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:12:44.695 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:12:44.696 +02:00 [DBG] New connection mX1oGNO00MhdQ9L00pdzmA created.
2024-01-10 21:12:44.696 +02:00 [DBG] Establishing new connection.
2024-01-10 21:12:44.696 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:12:44.696 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:12:44.721 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:12:44.722 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:12:44.723 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:12:44.724 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:44.724 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:44.724 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:44.724 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:44.724 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:44.724 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:44.729 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:44.729 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:44.729 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:44.729 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:44.729 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:47.497 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/location/getAllLocations - -
2024-01-10 21:12:47.497 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:47.498 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:47.498 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:12:47.498 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceTypes - -
2024-01-10 21:12:47.498 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:47.498 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:47.498 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/location/getAllLocations - - - 204 - - 1.4136ms
2024-01-10 21:12:47.498 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:12:47.498 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceTypes - - - 204 - - 0.3180ms
2024-01-10 21:12:47.500 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceTypes application/json -
2024-01-10 21:12:47.500 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/location/getAllLocations application/json -
2024-01-10 21:12:47.500 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:47.500 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:47.500 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:47.500 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:47.500 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:47.500 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:47.500 +02:00 [DBG] The request path /api/DeviceTypes does not match a supported file type
2024-01-10 21:12:47.500 +02:00 [DBG] The request path /api/location/getAllLocations does not match a supported file type
2024-01-10 21:12:47.500 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceTypes'
2024-01-10 21:12:47.500 +02:00 [DBG] 2 candidate(s) found for the request path '/api/location/getAllLocations'
2024-01-10 21:12:47.500 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)' with route pattern 'api/DeviceTypes' is valid for the request path '/api/DeviceTypes'
2024-01-10 21:12:47.500 +02:00 [DBG] Endpoint 'WebApi.Controllers.LocationController.GetAllLocationsAsync (WebApi)' with route pattern 'api/Location/getAllLocations' is valid for the request path '/api/location/getAllLocations'
2024-01-10 21:12:47.500 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-01-10 21:12:47.500 +02:00 [DBG] Endpoint 'WebApi.Controllers.LocationController.GetLocationByIdAsync (WebApi)' with route pattern 'api/Location/{locationId}' is valid for the request path '/api/location/getAllLocations'
2024-01-10 21:12:47.500 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-01-10 21:12:47.500 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.LocationController.GetAllLocationsAsync (WebApi)'
2024-01-10 21:12:47.500 +02:00 [INF] Executing endpoint 'WebApi.Controllers.LocationController.GetAllLocationsAsync (WebApi)'
2024-01-10 21:12:47.503 +02:00 [INF] Route matched with {action = "GetAllDeviceTypes", controller = "DeviceTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDeviceTypesAsync() on controller WebApi.Controllers.DeviceTypesController (WebApi).
2024-01-10 21:12:47.503 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:12:47.503 +02:00 [INF] Route matched with {action = "GetAllLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLocationsAsync() on controller WebApi.Controllers.LocationController (WebApi).
2024-01-10 21:12:47.503 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:12:47.503 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:12:47.503 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:12:47.503 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:12:47.503 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:12:47.503 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:12:47.503 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:12:47.503 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:12:47.503 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceTypesController (WebApi)
2024-01-10 21:12:47.503 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:12:47.503 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.LocationController (WebApi)
2024-01-10 21:12:47.503 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.LocationController (WebApi)
2024-01-10 21:12:47.503 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceTypesController (WebApi)
2024-01-10 21:12:47.504 +02:00 [INF] GetAllLocations
2024-01-10 21:12:47.504 +02:00 [INF] GetAllDeviceTypes
2024-01-10 21:12:47.506 +02:00 [DBG] Compiling query expression: 
'DbSet<Location>()'
2024-01-10 21:12:47.507 +02:00 [DBG] Compiling query expression: 
'DbSet<DeviceType>()
    .OrderBy(d => d.Name)'
2024-01-10 21:12:47.508 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Location>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.LocationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Address (string) Required, 1], [Property: Location.City (string) Required, 2], [Property: Location.ContactEmail (string), 3], [Property: Location.Country (string) Required, 4], [Property: Location.EmailAlertsActive (bool) Required, 5], [Property: Location.EmailRecipient (string), 6], [Property: Location.Latitude (double?), 7], [Property: Location.Longitude (double?), 8], [Property: Location.Name (string) Required, 9], [Property: Location.Phone (string), 10] }
        SELECT l.LocationId, l.Address, l.City, l.ContactEmail, l.Country, l.EmailAlertsActive, l.EmailRecipient, l.Latitude, l.Longitude, l.Name, l.Phone
        FROM Locations AS l), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 21:12:47.508 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:47.508 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:47.508 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:47.508 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.509 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.509 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone]
FROM [Locations] AS [l]
2024-01-10 21:12:47.512 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DeviceType>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DeviceType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DeviceType.Name (string) Required, 1] }
        SELECT d.Id, d.Name
        FROM DeviceTypes AS d
        ORDER BY d.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DeviceType>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 21:12:47.513 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:47.513 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:47.513 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:47.513 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.515 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone]
FROM [Locations] AS [l]
2024-01-10 21:12:47.515 +02:00 [DBG] Context 'InternshipContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:47.515 +02:00 [DBG] Context 'InternshipContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:47.515 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.518 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-01-10 21:12:47.519 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.519 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:47.520 +02:00 [DBG] Compiling query expression: 
'DbSet<Device>()
    .Any(l => l.LocationId == __locationId_0)'
2024-01-10 21:12:47.526 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Devices AS d
            WHERE d.LocationId == @__locationId_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 21:12:47.528 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:47.528 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:47.528 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:47.528 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.528 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.528 +02:00 [DBG] Executing DbCommand [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Devices] AS [d]
        WHERE [d].[LocationId] = @__locationId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:12:47.531 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Devices] AS [d]
        WHERE [d].[LocationId] = @__locationId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:12:47.531 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.531 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:47.531 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.531 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:47.532 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:47.532 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:47.532 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:47.532 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.532 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.532 +02:00 [DBG] Executing DbCommand [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Devices] AS [d]
        WHERE [d].[LocationId] = @__locationId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:12:47.532 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Devices] AS [d]
        WHERE [d].[LocationId] = @__locationId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:12:47.532 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.532 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:47.532 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.532 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:47.533 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:12:47.533 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:12:47.533 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:12:47.533 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:12:47.533 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:12:47.533 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.LocationInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:12:47.533 +02:00 [INF] Executed action WebApi.Controllers.LocationController.GetAllLocationsAsync (WebApi) in 29.927ms
2024-01-10 21:12:47.533 +02:00 [INF] Executed endpoint 'WebApi.Controllers.LocationController.GetAllLocationsAsync (WebApi)'
2024-01-10 21:12:47.533 +02:00 [INF] HTTP GET /api/location/getAllLocations responded 200 in 32.8137 ms
2024-01-10 21:12:47.533 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/location/getAllLocations application/json - - 200 341 application/json;+charset=utf-8 33.5287ms
2024-01-10 21:12:47.538 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.539 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [DeviceTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:12:47.546 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [DeviceTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:12:47.547 +02:00 [DBG] Context 'InternshipContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:47.547 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.547 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:47.547 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:47.547 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:47.547 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:12:47.547 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:12:47.547 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:12:47.547 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:12:47.548 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:12:47.548 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceTypeDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:12:47.549 +02:00 [INF] Executed action WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi) in 45.9646ms
2024-01-10 21:12:47.549 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-01-10 21:12:47.549 +02:00 [INF] HTTP GET /api/DeviceTypes responded 200 in 48.8406 ms
2024-01-10 21:12:47.549 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceTypes application/json - - 200 45 application/json;+charset=utf-8 49.6631ms
2024-01-10 21:12:48.451 +02:00 [DBG] Connection id "0HN0I1JQLEIC1" accepted.
2024-01-10 21:12:48.451 +02:00 [DBG] Connection id "0HN0I1JQLEIC1" started.
2024-01-10 21:12:48.451 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:12:48.451 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:48.451 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:48.451 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:48.451 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:12:48.451 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:12:48.451 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:12:48.451 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:12:48.451 +02:00 [DBG] New connection ZIRhCopnv-TusIqC1ykzaw created.
2024-01-10 21:12:48.452 +02:00 [DBG] Establishing new connection.
2024-01-10 21:12:48.452 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:12:48.452 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:12:48.469 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:12:48.470 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:12:48.473 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:12:48.474 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:48.474 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:48.474 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:48.474 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:48.474 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:48.474 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:48.483 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:48.483 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:48.483 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:48.483 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:48.483 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:50.524 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceTypes application/json -
2024-01-10 21:12:50.525 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:50.525 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:50.525 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:50.525 +02:00 [DBG] The request path /api/DeviceTypes does not match a supported file type
2024-01-10 21:12:50.525 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceTypes'
2024-01-10 21:12:50.525 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)' with route pattern 'api/DeviceTypes' is valid for the request path '/api/DeviceTypes'
2024-01-10 21:12:50.525 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-01-10 21:12:50.525 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-01-10 21:12:50.525 +02:00 [INF] Route matched with {action = "GetAllDeviceTypes", controller = "DeviceTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDeviceTypesAsync() on controller WebApi.Controllers.DeviceTypesController (WebApi).
2024-01-10 21:12:50.525 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:12:50.525 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:12:50.525 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:12:50.525 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:12:50.525 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:12:50.525 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceTypesController (WebApi)
2024-01-10 21:12:50.525 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceTypesController (WebApi)
2024-01-10 21:12:50.525 +02:00 [INF] GetAllDeviceTypes
2024-01-10 21:12:50.526 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:50.526 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:50.526 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:50.526 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:50.526 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:50.526 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [DeviceTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:12:50.532 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [DeviceTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:12:50.532 +02:00 [DBG] Context 'InternshipContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:50.533 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:50.533 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:50.533 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:50.533 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:50.533 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:12:50.533 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:12:50.533 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:12:50.533 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:12:50.533 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:12:50.533 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceTypeDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:12:50.533 +02:00 [INF] Executed action WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi) in 8.0096ms
2024-01-10 21:12:50.533 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-01-10 21:12:50.533 +02:00 [INF] HTTP GET /api/DeviceTypes responded 200 in 8.5418 ms
2024-01-10 21:12:50.533 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceTypes application/json - - 200 45 application/json;+charset=utf-8 9.2578ms
2024-01-10 21:12:51.164 +02:00 [DBG] Connection id "0HN0I1JQLEIBV" received FIN.
2024-01-10 21:12:51.164 +02:00 [DBG] Connection id "0HN0I1JQLEIBV" is closed. The last processed stream ID was 13.
2024-01-10 21:12:51.164 +02:00 [DBG] Connection id "0HN0I1JQLEIBV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:12:51.171 +02:00 [DBG] Connection id "0HN0I1JQLEIBV" stopped.
2024-01-10 21:12:51.781 +02:00 [DBG] Connection id "0HN0I1JQLEIC2" accepted.
2024-01-10 21:12:51.781 +02:00 [DBG] Connection id "0HN0I1JQLEIC2" started.
2024-01-10 21:12:51.782 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:12:51.782 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:51.782 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:51.782 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:51.782 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:12:51.782 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:12:51.782 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:12:51.782 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:12:51.782 +02:00 [DBG] New connection JSyTKqBt6fGSVSWmS_tbBw created.
2024-01-10 21:12:51.782 +02:00 [DBG] Establishing new connection.
2024-01-10 21:12:51.783 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:12:51.783 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:12:51.800 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:12:51.800 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:12:51.803 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:12:51.804 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:51.804 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:51.804 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:51.804 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:51.804 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:51.804 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:51.809 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:51.809 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:51.809 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:51.810 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:51.810 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:53.893 +02:00 [DBG] Connection id "0HN0I1JQLEIC3" accepted.
2024-01-10 21:12:53.893 +02:00 [DBG] Connection id "0HN0I1JQLEIC3" started.
2024-01-10 21:12:53.895 +02:00 [DBG] Connection 0HN0I1JQLEIC3 established using the following protocol: "Tls12"
2024-01-10 21:12:53.896 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-01-10 21:12:53.896 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:53.896 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:53.896 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:12:53.897 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.9096ms
2024-01-10 21:12:53.898 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-01-10 21:12:53.898 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:53.898 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:53.898 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:53.899 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-01-10 21:12:53.899 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-01-10 21:12:53.899 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-01-10 21:12:53.899 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-01-10 21:12:53.899 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-01-10 21:12:53.899 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-01-10 21:12:53.904 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-01-10 21:12:53.904 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:12:53.904 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:12:53.904 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:12:53.904 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:12:53.904 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:12:53.904 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 21:12:53.904 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-01-10 21:12:53.905 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-01-10 21:12:53.906 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-01-10 21:12:53.906 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-01-10 21:12:53.906 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-01-10 21:12:53.907 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-01-10 21:12:53.907 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-01-10 21:12:53.907 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-01-10 21:12:53.907 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-01-10 21:12:53.907 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-01-10 21:12:53.907 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-01-10 21:12:53.907 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-01-10 21:12:53.907 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-01-10 21:12:53.908 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-01-10 21:12:53.908 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-01-10 21:12:53.908 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-01-10 21:12:53.908 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-01-10 21:12:53.908 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-01-10 21:12:53.908 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-01-10 21:12:53.908 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-01-10 21:12:53.908 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-01-10 21:12:53.908 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-01-10 21:12:53.908 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-01-10 21:12:53.909 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-01-10 21:12:53.909 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-01-10 21:12:53.909 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 21:12:53.909 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 21:12:53.909 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 21:12:53.909 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 21:12:53.909 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 21:12:53.909 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 21:12:53.909 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 21:12:53.909 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 21:12:53.909 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 21:12:53.910 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 21:12:53.910 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-01-10 21:12:53.910 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-01-10 21:12:53.910 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-01-10 21:12:53.911 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-01-10 21:12:53.916 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 21:12:53.930 +02:00 [DBG] Compiling query expression: 
'DbSet<Maintenance>()
    .Include(m => m.Device)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .OrderBy(m => m.Status)
    .ThenBy(m => m.ScheduledDate)'
2024-01-10 21:12:53.931 +02:00 [DBG] Including navigation: 'Maintenance.Device'.
2024-01-10 21:12:53.940 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Maintenance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Maintenance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Maintenance.ActualDate (DateTime?), 1], [Property: Maintenance.CreatedAt (DateTime) Required, 2], [Property: Maintenance.CreatedBy (string) Required, 3], [Property: Maintenance.Description (string), 4], [Property: Maintenance.DeviceId (int) Required FK Index, 5], [Property: Maintenance.Outcome (string), 6], [Property: Maintenance.ScheduledDate (DateTime) Required, 7], [Property: Maintenance.Status (Status) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Device.Alias (string), 10], [Property: Device.Description (string), 11], [Property: Device.DeviceTypeId (int) Required FK Index, 12], [Property: Device.Emails (string), 13], [Property: Device.FirmwareVersion (string), 14], [Property: Device.ImageBytes (byte[]), 15], [Property: Device.LastPingedTs (DateTime?), 16], [Property: Device.LastUploadTime (DateTime?), 17], [Property: Device.LocationId (int) Required FK Index, 18], [Property: Device.Name (string) Required, 19], [Property: Device.SerialNumber (string) Required, 20], [Property: Device.SoftwareVersion (string), 21] }
        SELECT m.Id, m.ActualDate, m.CreatedAt, m.CreatedBy, m.Description, m.DeviceId, m.Outcome, m.ScheduledDate, m.Status, d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion
        FROM Maintenances AS m
        INNER JOIN Devices AS d ON m.DeviceId == d.DeviceId
        ORDER BY m.Status ASC, m.ScheduledDate ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Maintenance>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 21:12:53.940 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:53.941 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:53.941 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:53.941 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:53.941 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:53.941 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-01-10 21:12:53.949 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-01-10 21:12:53.955 +02:00 [DBG] Context 'InternshipContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:53.971 +02:00 [DBG] The navigation 'Maintenance.Device' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:53.971 +02:00 [DBG] Context 'InternshipContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:53.971 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:53.971 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 22ms reading results.
2024-01-10 21:12:53.971 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:53.971 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:53.973 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:12:53.973 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:12:53.973 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:12:53.973 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:12:53.973 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:12:53.973 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:12:53.982 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 77.2918ms
2024-01-10 21:12:53.982 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-01-10 21:12:53.983 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 84.0080 ms
2024-01-10 21:12:53.983 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 351 application/json;+charset=utf-8 84.8310ms
2024-01-10 21:12:54.896 +02:00 [DBG] Connection id "0HN0I1JQLEIC4" accepted.
2024-01-10 21:12:54.896 +02:00 [DBG] Connection id "0HN0I1JQLEIC4" started.
2024-01-10 21:12:54.896 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:12:54.896 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:54.896 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:54.896 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:54.896 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:12:54.896 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:12:54.896 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:12:54.896 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:12:54.896 +02:00 [DBG] New connection e4dNQrD1-Qv5A_Qjwz1eZQ created.
2024-01-10 21:12:54.897 +02:00 [DBG] Establishing new connection.
2024-01-10 21:12:54.897 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:12:54.897 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:12:54.916 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:12:54.916 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:12:54.920 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:12:54.921 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:54.921 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:54.921 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:54.921 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:54.921 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:54.921 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:54.923 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:54.923 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:54.923 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:54.923 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:54.923 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:56.636 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-01-10 21:12:56.636 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:56.636 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:56.636 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:12:56.636 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.6592ms
2024-01-10 21:12:56.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-01-10 21:12:56.638 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:56.638 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:56.638 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:56.638 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-01-10 21:12:56.642 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-01-10 21:12:56.642 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-01-10 21:12:56.642 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-01-10 21:12:56.642 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-01-10 21:12:56.642 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-01-10 21:12:56.648 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-01-10 21:12:56.648 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:12:56.648 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:12:56.648 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:12:56.648 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:12:56.648 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:12:56.648 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-01-10 21:12:56.648 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-01-10 21:12:56.649 +02:00 [INF] GetAllDevices
2024-01-10 21:12:56.653 +02:00 [DBG] Compiling query expression: 
'DbSet<Device>()
    .Include(d => d.Location)
    .Include(d => d.DeviceType)'
2024-01-10 21:12:56.654 +02:00 [DBG] Including navigation: 'Device.Location'.
2024-01-10 21:12:56.654 +02:00 [DBG] Including navigation: 'Device.DeviceType'.
2024-01-10 21:12:56.661 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Device>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Device.Alias (string), 1], [Property: Device.Description (string), 2], [Property: Device.DeviceTypeId (int) Required FK Index, 3], [Property: Device.Emails (string), 4], [Property: Device.FirmwareVersion (string), 5], [Property: Device.ImageBytes (byte[]), 6], [Property: Device.LastPingedTs (DateTime?), 7], [Property: Device.LastUploadTime (DateTime?), 8], [Property: Device.LocationId (int) Required FK Index, 9], [Property: Device.Name (string) Required, 10], [Property: Device.SerialNumber (string) Required, 11], [Property: Device.SoftwareVersion (string), 12] }
            1 -> Dictionary<IProperty, int> { [Property: Location.LocationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Location.Address (string) Required, 14], [Property: Location.City (string) Required, 15], [Property: Location.ContactEmail (string), 16], [Property: Location.Country (string) Required, 17], [Property: Location.EmailAlertsActive (bool) Required, 18], [Property: Location.EmailRecipient (string), 19], [Property: Location.Latitude (double?), 20], [Property: Location.Longitude (double?), 21], [Property: Location.Name (string) Required, 22], [Property: Location.Phone (string), 23] }
            2 -> Dictionary<IProperty, int> { [Property: DeviceType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: DeviceType.Name (string) Required, 25] }
        SELECT d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion, l.LocationId, l.Address, l.City, l.ContactEmail, l.Country, l.EmailAlertsActive, l.EmailRecipient, l.Latitude, l.Longitude, l.Name, l.Phone, d0.Id, d0.Name
        FROM Devices AS d
        INNER JOIN Locations AS l ON d.LocationId == l.LocationId
        INNER JOIN DeviceTypes AS d0 ON d.DeviceTypeId == d0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Device>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 21:12:56.662 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:56.662 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:56.662 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:56.662 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:56.662 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:56.662 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-01-10 21:12:56.670 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-01-10 21:12:56.672 +02:00 [DBG] Context 'InternshipContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:56.672 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:56.672 +02:00 [DBG] Context 'InternshipContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:56.672 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:56.672 +02:00 [DBG] Context 'InternshipContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:56.673 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:56.673 +02:00 [DBG] Context 'InternshipContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:12:56.673 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:56.673 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-01-10 21:12:56.674 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:56.674 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:12:56.675 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:12:56.676 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:12:56.676 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:12:56.676 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:12:56.676 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:12:56.676 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:12:56.685 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 37.2887ms
2024-01-10 21:12:56.685 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-01-10 21:12:56.686 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 47.1509 ms
2024-01-10 21:12:56.686 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 787 application/json;+charset=utf-8 47.9908ms
2024-01-10 21:12:57.615 +02:00 [DBG] Connection id "0HN0I1JQLEIC5" accepted.
2024-01-10 21:12:57.615 +02:00 [DBG] Connection id "0HN0I1JQLEIC5" started.
2024-01-10 21:12:57.615 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:12:57.615 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:12:57.615 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:12:57.615 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:12:57.616 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:12:57.616 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:12:57.616 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:12:57.616 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:12:57.616 +02:00 [DBG] New connection 1Vp8tdFOjOTcURFmQ1EX5g created.
2024-01-10 21:12:57.616 +02:00 [DBG] Establishing new connection.
2024-01-10 21:12:57.616 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:12:57.616 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:12:57.632 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:12:57.633 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:12:57.636 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:12:57.636 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:12:57.636 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:57.636 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:12:57.636 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:57.636 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:57.636 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:57.638 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:12:57.639 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:57.639 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:12:57.639 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:12:57.639 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:01.168 +02:00 [DBG] Connection id "0HN0I1JQLEIC3" received FIN.
2024-01-10 21:13:01.168 +02:00 [DBG] Connection id "0HN0I1JQLEIC3" is closed. The last processed stream ID was 7.
2024-01-10 21:13:01.168 +02:00 [DBG] Connection id "0HN0I1JQLEIC3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:13:01.182 +02:00 [DBG] Connection id "0HN0I1JQLEIC3" stopped.
2024-01-10 21:13:01.897 +02:00 [DBG] Connection id "0HN0I1JQLEIC6" accepted.
2024-01-10 21:13:01.897 +02:00 [DBG] Connection id "0HN0I1JQLEIC6" started.
2024-01-10 21:13:01.899 +02:00 [DBG] Connection 0HN0I1JQLEIC6 established using the following protocol: "Tls12"
2024-01-10 21:13:01.901 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Threshold/getAllThresholds - -
2024-01-10 21:13:01.901 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:01.901 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:01.901 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:13:01.901 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Threshold/getAllThresholds - - - 204 - - 1.0457ms
2024-01-10 21:13:01.904 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Threshold/getAllThresholds application/json -
2024-01-10 21:13:01.904 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:01.904 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:01.904 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:13:01.904 +02:00 [DBG] The request path /api/Threshold/getAllThresholds does not match a supported file type
2024-01-10 21:13:01.904 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Threshold/getAllThresholds'
2024-01-10 21:13:01.904 +02:00 [DBG] Endpoint 'WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi)' with route pattern 'api/Threshold/getAllThresholds' is valid for the request path '/api/Threshold/getAllThresholds'
2024-01-10 21:13:01.904 +02:00 [DBG] Endpoint 'WebApi.Controllers.ThresholdController.GetThresholdByIdAsync (WebApi)' with route pattern 'api/Threshold/{thresholdId}' is valid for the request path '/api/Threshold/getAllThresholds'
2024-01-10 21:13:01.904 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi)'
2024-01-10 21:13:01.905 +02:00 [INF] Executing endpoint 'WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi)'
2024-01-10 21:13:01.908 +02:00 [INF] Route matched with {action = "GetAllThresholds", controller = "Threshold"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllThresholdsAsync() on controller WebApi.Controllers.ThresholdController (WebApi).
2024-01-10 21:13:01.908 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:13:01.908 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:13:01.908 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:13:01.908 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:13:01.908 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:13:01.908 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.ThresholdController (WebApi)
2024-01-10 21:13:01.909 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.ThresholdController (WebApi)
2024-01-10 21:13:01.910 +02:00 [INF] GetAllThresholdsAsync
2024-01-10 21:13:01.916 +02:00 [DBG] Compiling query expression: 
'DbSet<Threshold>()
    .Include(d => d.DeviceType)
    .Include(d => d.DeviceReadingType)
    .OrderBy(d => d.DeviceType.Name)'
2024-01-10 21:13:01.919 +02:00 [DBG] Including navigation: 'Threshold.DeviceType'.
2024-01-10 21:13:01.920 +02:00 [DBG] Including navigation: 'Threshold.DeviceReadingType'.
2024-01-10 21:13:01.928 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Threshold>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Threshold.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Threshold.CriticalValue (decimal) Required, 1], [Property: Threshold.DeviceReadingTypeId (int) Required FK Index, 2], [Property: Threshold.DeviceTypeId (int) Required FK Index, 3], [Property: Threshold.MaxValue (decimal) Required, 4], [Property: Threshold.MinValue (decimal) Required, 5], [Property: Threshold.WarningValue (decimal) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: DeviceType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: DeviceType.Name (string) Required, 8] }
            2 -> Dictionary<IProperty, int> { [Property: DeviceReadingType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: DeviceReadingType.Name (string) Required Index, 10], [Property: DeviceReadingType.Unit (string) Required, 11] }
        SELECT t.Id, t.CriticalValue, t.DeviceReadingTypeId, t.DeviceTypeId, t.MaxValue, t.MinValue, t.WarningValue, d.Id, d.Name, d0.Id, d0.Name, d0.Unit
        FROM Thresholds AS t
        INNER JOIN DeviceTypes AS d ON t.DeviceTypeId == d.Id
        INNER JOIN DeviceReadingTypes AS d0 ON t.DeviceReadingTypeId == d0.Id
        ORDER BY d.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Threshold>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 21:13:01.929 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:01.929 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:01.929 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:01.929 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:01.929 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:01.929 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CriticalValue], [t].[DeviceReadingTypeId], [t].[DeviceTypeId], [t].[MaxValue], [t].[MinValue], [t].[WarningValue], [d].[Id], [d].[Name], [d0].[Id], [d0].[Name], [d0].[Unit]
FROM [Thresholds] AS [t]
INNER JOIN [DeviceTypes] AS [d] ON [t].[DeviceTypeId] = [d].[Id]
INNER JOIN [DeviceReadingTypes] AS [d0] ON [t].[DeviceReadingTypeId] = [d0].[Id]
ORDER BY [d].[Name]
2024-01-10 21:13:01.946 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CriticalValue], [t].[DeviceReadingTypeId], [t].[DeviceTypeId], [t].[MaxValue], [t].[MinValue], [t].[WarningValue], [d].[Id], [d].[Name], [d0].[Id], [d0].[Name], [d0].[Unit]
FROM [Thresholds] AS [t]
INNER JOIN [DeviceTypes] AS [d] ON [t].[DeviceTypeId] = [d].[Id]
INNER JOIN [DeviceReadingTypes] AS [d0] ON [t].[DeviceReadingTypeId] = [d0].[Id]
ORDER BY [d].[Name]
2024-01-10 21:13:01.947 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:01.947 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:13:01.947 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:01.947 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:01.948 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:13:01.949 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:13:01.949 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:13:01.949 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:13:01.949 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:13:01.949 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.ThresholdDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:13:01.952 +02:00 [INF] Executed action WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi) in 43.753ms
2024-01-10 21:13:01.953 +02:00 [INF] Executed endpoint 'WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi)'
2024-01-10 21:13:01.953 +02:00 [INF] HTTP GET /api/Threshold/getAllThresholds responded 200 in 48.5999 ms
2024-01-10 21:13:01.953 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Threshold/getAllThresholds application/json - - 200 2 application/json;+charset=utf-8 49.6803ms
2024-01-10 21:13:03.011 +02:00 [DBG] Connection id "0HN0I1JQLEIC7" accepted.
2024-01-10 21:13:03.012 +02:00 [DBG] Connection id "0HN0I1JQLEIC7" started.
2024-01-10 21:13:03.012 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:13:03.012 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:03.012 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:03.012 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:13:03.012 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:13:03.013 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:13:03.013 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:13:03.013 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:13:03.013 +02:00 [DBG] New connection hDyny2qOoxPJGtk-jockag created.
2024-01-10 21:13:03.013 +02:00 [DBG] Establishing new connection.
2024-01-10 21:13:03.013 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:13:03.013 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:13:03.028 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:13:03.028 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:13:03.031 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:13:03.032 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:03.032 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:03.032 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:03.032 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:03.032 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:03.032 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:13:03.035 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:13:03.035 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:03.035 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:13:03.035 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:03.035 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:06.442 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceTypes - -
2024-01-10 21:13:06.442 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:06.443 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:06.443 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/deviceReadingType/getAllDeviceReadingTypes - -
2024-01-10 21:13:06.443 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:13:06.443 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:06.443 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:06.443 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:13:06.443 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceTypes - - - 204 - - 1.2679ms
2024-01-10 21:13:06.443 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/deviceReadingType/getAllDeviceReadingTypes - - - 204 - - 0.5640ms
2024-01-10 21:13:06.446 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceTypes application/json -
2024-01-10 21:13:06.447 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/deviceReadingType/getAllDeviceReadingTypes application/json -
2024-01-10 21:13:06.447 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:06.447 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:06.447 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:06.447 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:13:06.447 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:06.447 +02:00 [DBG] The request path /api/deviceReadingType/getAllDeviceReadingTypes does not match a supported file type
2024-01-10 21:13:06.447 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:13:06.447 +02:00 [DBG] The request path /api/DeviceTypes does not match a supported file type
2024-01-10 21:13:06.447 +02:00 [DBG] 1 candidate(s) found for the request path '/api/deviceReadingType/getAllDeviceReadingTypes'
2024-01-10 21:13:06.447 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceTypes'
2024-01-10 21:13:06.447 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi)' with route pattern 'api/DeviceReadingType/getAllDeviceReadingTypes' is valid for the request path '/api/deviceReadingType/getAllDeviceReadingTypes'
2024-01-10 21:13:06.447 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)' with route pattern 'api/DeviceTypes' is valid for the request path '/api/DeviceTypes'
2024-01-10 21:13:06.447 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi)'
2024-01-10 21:13:06.447 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-01-10 21:13:06.447 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi)'
2024-01-10 21:13:06.447 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-01-10 21:13:06.447 +02:00 [INF] Route matched with {action = "GetAllDeviceTypes", controller = "DeviceTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDeviceTypesAsync() on controller WebApi.Controllers.DeviceTypesController (WebApi).
2024-01-10 21:13:06.448 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:13:06.448 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:13:06.448 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:13:06.448 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:13:06.448 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:13:06.448 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceTypesController (WebApi)
2024-01-10 21:13:06.448 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceTypesController (WebApi)
2024-01-10 21:13:06.448 +02:00 [INF] GetAllDeviceTypes
2024-01-10 21:13:06.448 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:06.448 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:06.448 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:06.448 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:06.448 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:06.448 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [DeviceTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:13:06.451 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [DeviceTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:13:06.451 +02:00 [DBG] Context 'InternshipContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:06.451 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:06.451 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:13:06.452 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:06.452 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:06.452 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:13:06.452 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:13:06.452 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:13:06.452 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:13:06.452 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:13:06.452 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceTypeDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:13:06.452 +02:00 [INF] Executed action WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi) in 4.6437ms
2024-01-10 21:13:06.452 +02:00 [INF] Route matched with {action = "GetAllDeviceReadingTypes", controller = "DeviceReadingType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDeviceReadingTypes() on controller WebApi.Controllers.DeviceReadingTypeController (WebApi).
2024-01-10 21:13:06.452 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-01-10 21:13:06.453 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:13:06.453 +02:00 [INF] HTTP GET /api/DeviceTypes responded 200 in 5.4955 ms
2024-01-10 21:13:06.453 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:13:06.453 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:13:06.453 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:13:06.453 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceTypes application/json - - 200 45 application/json;+charset=utf-8 6.4506ms
2024-01-10 21:13:06.453 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:13:06.453 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceReadingTypeController (WebApi)
2024-01-10 21:13:06.453 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceReadingTypeController (WebApi)
2024-01-10 21:13:06.455 +02:00 [INF] GetAllDeviceReadingTypes
2024-01-10 21:13:06.457 +02:00 [DBG] Compiling query expression: 
'DbSet<DeviceReadingType>()
    .OrderBy(d => d.Name)'
2024-01-10 21:13:06.460 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DeviceReadingType>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DeviceReadingType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DeviceReadingType.Name (string) Required Index, 1], [Property: DeviceReadingType.Unit (string) Required, 2] }
        SELECT d.Id, d.Name, d.Unit
        FROM DeviceReadingTypes AS d
        ORDER BY d.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DeviceReadingType>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 21:13:06.461 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:06.461 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:06.461 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:06.462 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:06.462 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:06.462 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [d].[Unit]
FROM [DeviceReadingTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:13:06.467 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [d].[Unit]
FROM [DeviceReadingTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:13:06.473 +02:00 [DBG] Context 'InternshipContext' started tracking 'DeviceReadingType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:06.477 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:06.477 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 10ms reading results.
2024-01-10 21:13:06.478 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:06.478 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:06.479 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:13:06.480 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:13:06.480 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:13:06.480 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:13:06.480 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:13:06.480 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceReadingTypeDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:13:06.481 +02:00 [INF] Executed action WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi) in 28.5317ms
2024-01-10 21:13:06.481 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi)'
2024-01-10 21:13:06.482 +02:00 [INF] HTTP GET /api/deviceReadingType/getAllDeviceReadingTypes responded 200 in 34.5090 ms
2024-01-10 21:13:06.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/deviceReadingType/getAllDeviceReadingTypes application/json - - 200 71 application/json;+charset=utf-8 35.4180ms
2024-01-10 21:13:07.487 +02:00 [DBG] Connection id "0HN0I1JQLEIC8" accepted.
2024-01-10 21:13:07.487 +02:00 [DBG] Connection id "0HN0I1JQLEIC8" started.
2024-01-10 21:13:07.487 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:13:07.488 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:07.488 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:07.488 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:13:07.488 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:13:07.488 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:13:07.488 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:13:07.488 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:13:07.489 +02:00 [DBG] New connection IRlLr_t2G2FC5k21blafNw created.
2024-01-10 21:13:07.489 +02:00 [DBG] Establishing new connection.
2024-01-10 21:13:07.489 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:13:07.489 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:13:07.518 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:13:07.519 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:13:07.520 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:13:07.520 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:07.520 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:07.521 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:07.521 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:07.521 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:07.521 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:13:07.523 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:13:07.523 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:07.523 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:13:07.523 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:07.523 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:11.180 +02:00 [DBG] Connection id "0HN0I1JQLEIC6" received FIN.
2024-01-10 21:13:11.180 +02:00 [DBG] Connection id "0HN0I1JQLEIC6" is closed. The last processed stream ID was 11.
2024-01-10 21:13:11.180 +02:00 [DBG] Connection id "0HN0I1JQLEIC6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:13:11.180 +02:00 [DBG] Connection id "0HN0I1JQLEIC6" stopped.
2024-01-10 21:13:11.431 +02:00 [DBG] Connection id "0HN0I1JQLEIC9" accepted.
2024-01-10 21:13:11.431 +02:00 [DBG] Connection id "0HN0I1JQLEIC9" started.
2024-01-10 21:13:11.432 +02:00 [DBG] Connection 0HN0I1JQLEIC9 established using the following protocol: "Tls12"
2024-01-10 21:13:11.433 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/deviceReadingType/getAllDeviceReadingTypes application/json -
2024-01-10 21:13:11.434 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:11.434 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:11.434 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:13:11.434 +02:00 [DBG] The request path /api/deviceReadingType/getAllDeviceReadingTypes does not match a supported file type
2024-01-10 21:13:11.437 +02:00 [DBG] 1 candidate(s) found for the request path '/api/deviceReadingType/getAllDeviceReadingTypes'
2024-01-10 21:13:11.437 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi)' with route pattern 'api/DeviceReadingType/getAllDeviceReadingTypes' is valid for the request path '/api/deviceReadingType/getAllDeviceReadingTypes'
2024-01-10 21:13:11.437 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi)'
2024-01-10 21:13:11.437 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi)'
2024-01-10 21:13:11.437 +02:00 [INF] Route matched with {action = "GetAllDeviceReadingTypes", controller = "DeviceReadingType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDeviceReadingTypes() on controller WebApi.Controllers.DeviceReadingTypeController (WebApi).
2024-01-10 21:13:11.438 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:13:11.438 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:13:11.438 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:13:11.438 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:13:11.438 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:13:11.438 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceReadingTypeController (WebApi)
2024-01-10 21:13:11.438 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceReadingTypeController (WebApi)
2024-01-10 21:13:11.438 +02:00 [INF] GetAllDeviceReadingTypes
2024-01-10 21:13:11.438 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:11.438 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:11.439 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:11.439 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:11.439 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:11.439 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [d].[Unit]
FROM [DeviceReadingTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:13:11.441 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [d].[Unit]
FROM [DeviceReadingTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:13:11.441 +02:00 [DBG] Context 'InternshipContext' started tracking 'DeviceReadingType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:11.442 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:11.442 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:13:11.442 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:11.442 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:11.442 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:13:11.442 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:13:11.442 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:13:11.442 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:13:11.442 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:13:11.442 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceReadingTypeDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:13:11.442 +02:00 [INF] Executed action WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi) in 4.2285ms
2024-01-10 21:13:11.442 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi)'
2024-01-10 21:13:11.442 +02:00 [INF] HTTP GET /api/deviceReadingType/getAllDeviceReadingTypes responded 200 in 8.2276 ms
2024-01-10 21:13:11.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/deviceReadingType/getAllDeviceReadingTypes application/json - - 200 71 application/json;+charset=utf-8 9.2802ms
2024-01-10 21:13:12.716 +02:00 [DBG] Connection id "0HN0I1JQLEICA" accepted.
2024-01-10 21:13:12.717 +02:00 [DBG] Connection id "0HN0I1JQLEICA" started.
2024-01-10 21:13:12.718 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:13:12.718 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:12.718 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:12.718 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:13:12.718 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:13:12.718 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:13:12.718 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:13:12.718 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:13:12.718 +02:00 [DBG] New connection 51iuBMfDbtsR9HLuRF3sQQ created.
2024-01-10 21:13:12.718 +02:00 [DBG] Establishing new connection.
2024-01-10 21:13:12.719 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:13:12.720 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:13:12.740 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:13:12.740 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:13:12.743 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:13:12.744 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:12.744 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:12.744 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:12.744 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:12.744 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:12.744 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:13:12.746 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:13:12.746 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:12.746 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:13:12.746 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:12.746 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:14.366 +02:00 [DBG] Connection id "0HN0I1JQLEIC9" received FIN.
2024-01-10 21:13:14.367 +02:00 [DBG] Connection id "0HN0I1JQLEIC9" is closed. The last processed stream ID was 1.
2024-01-10 21:13:14.371 +02:00 [DBG] Connection id "0HN0I1JQLEIC9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:13:14.371 +02:00 [DBG] Connection id "0HN0I1JQLEIC9" stopped.
2024-01-10 21:13:16.793 +02:00 [DBG] Connection id "0HN0I1JQLEICB" accepted.
2024-01-10 21:13:16.794 +02:00 [DBG] Connection id "0HN0I1JQLEICB" started.
2024-01-10 21:13:16.796 +02:00 [DBG] Connection 0HN0I1JQLEICB established using the following protocol: "Tls12"
2024-01-10 21:13:16.798 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-10 21:13:16.799 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:16.799 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:16.799 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:13:16.799 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 1.0729ms
2024-01-10 21:13:16.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 21:13:16.801 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:16.801 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:16.801 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:13:16.801 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 21:13:16.801 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 21:13:16.801 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 21:13:16.801 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 21:13:16.801 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 21:13:16.801 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 21:13:16.802 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 21:13:16.802 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:13:16.802 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:13:16.802 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:13:16.802 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:13:16.802 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:13:16.802 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:13:16.802 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:13:16.802 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 21:13:16.802 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 21:13:16.802 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 21:13:16.803 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 21:13:16.803 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 21:13:16.803 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 21:13:16.803 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 21:13:16.803 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 21:13:16.803 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 21:13:16.803 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 21:13:16.803 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 21:13:16.803 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 21:13:16.803 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 21:13:16.803 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 21:13:16.803 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 21:13:16.803 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 21:13:16.803 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 21:13:16.803 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 21:13:16.803 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 21:13:16.803 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 21:13:16.803 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 21:13:16.803 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 21:13:16.803 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 21:13:16.803 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 21:13:16.804 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 21:13:16.805 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:16.805 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:16.805 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:16.805 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:16.805 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:16.805 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 21:13:16.808 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 21:13:16.808 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:16.808 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:13:16.808 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:16.808 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:16.811 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:16.811 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:16.811 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:16.811 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:16.811 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:16.811 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[RoleId], [t].[Token], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 21:13:16.816 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[RoleId], [t].[Token], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 21:13:16.816 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:16.816 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:16.816 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:16.816 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:16.816 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:16.817 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:16.817 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:16.817 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:13:16.817 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:16.817 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:16.817 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:13:16.817 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:13:16.817 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:13:16.817 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:13:16.817 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:13:16.817 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:13:16.817 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 15.2189ms
2024-01-10 21:13:16.817 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 21:13:16.817 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 16.1150 ms
2024-01-10 21:13:16.818 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 276 application/json;+charset=utf-8 16.6188ms
2024-01-10 21:13:17.701 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 21:13:17.701 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:17.701 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:17.701 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:13:17.701 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.7330ms
2024-01-10 21:13:17.704 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 21:13:17.704 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:17.704 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:17.705 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:13:17.705 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 21:13:17.705 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 21:13:17.705 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 21:13:17.705 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 21:13:17.705 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 21:13:17.711 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 21:13:17.711 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:13:17.711 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:13:17.711 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:13:17.711 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:13:17.711 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:13:17.711 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 21:13:17.712 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 21:13:17.713 +02:00 [INF] GetAllRoles
2024-01-10 21:13:17.717 +02:00 [DBG] Compiling query expression: 
'DbSet<Role>()'
2024-01-10 21:13:17.722 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Role>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.RoleType (string) Required, 1] }
        SELECT r.Id, r.RoleType
        FROM Roles AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 21:13:17.722 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:17.722 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:17.722 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:17.722 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:17.722 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:17.723 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 21:13:17.727 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 21:13:17.727 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:17.727 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:17.727 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:17.727 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:17.727 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:17.728 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:13:17.728 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:17.728 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:17.728 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:13:17.728 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:13:17.728 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:13:17.728 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:13:17.728 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:13:17.728 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:13:17.729 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 17.6877ms
2024-01-10 21:13:17.729 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 21:13:17.729 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 24.4361 ms
2024-01-10 21:13:17.729 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 25.2172ms
2024-01-10 21:13:18.776 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 21:13:18.776 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:18.776 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:18.776 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:13:18.776 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-10 21:13:18.777 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 21:13:18.777 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 21:13:18.777 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-10 21:13:18.777 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 21:13:18.777 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 21:13:18.777 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 21:13:18.777 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:13:18.777 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:13:18.777 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:13:18.777 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:13:18.777 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:13:18.777 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:13:18.777 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:13:18.777 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 21:13:18.777 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-10 21:13:18.777 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-10 21:13:18.777 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-10 21:13:18.777 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-10 21:13:18.778 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 21:13:18.778 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-10 21:13:18.778 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-10 21:13:18.778 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 21:13:18.778 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-10 21:13:18.778 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 21:13:18.778 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 21:13:18.778 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 21:13:18.778 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 21:13:18.778 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 21:13:18.778 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 21:13:18.778 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 21:13:18.778 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 21:13:18.778 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 21:13:18.779 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 21:13:18.779 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 21:13:18.779 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 21:13:18.779 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-10 21:13:18.779 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-10 21:13:18.779 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 21:13:18.780 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:18.781 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:18.781 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:18.781 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:18.781 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:18.781 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 21:13:18.782 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-10 21:13:18.783 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:18.783 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:13:18.783 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:18.783 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:18.784 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:18.784 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:18.784 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:18.785 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:18.785 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:18.785 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[RoleId], [t].[Token], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 21:13:18.788 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t].[RoleId], [t].[Token], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-10 21:13:18.788 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:18.788 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:18.788 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:18.789 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:18.789 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:18.789 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:13:18.789 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:18.789 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:13:18.789 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:18.789 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:18.789 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:13:18.790 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:13:18.790 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:13:18.790 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:13:18.790 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:13:18.790 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:13:18.790 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 13.3224ms
2024-01-10 21:13:18.791 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-10 21:13:18.791 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 14.0390 ms
2024-01-10 21:13:18.791 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 276 application/json;+charset=utf-8 14.9087ms
2024-01-10 21:13:19.136 +02:00 [DBG] Connection id "0HN0I1JQLEICC" accepted.
2024-01-10 21:13:19.136 +02:00 [DBG] Connection id "0HN0I1JQLEICC" started.
2024-01-10 21:13:19.136 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:13:19.136 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:13:19.137 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:13:19.137 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:13:19.137 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:13:19.137 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:13:19.137 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:13:19.137 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:13:19.137 +02:00 [DBG] New connection CJuLtyRN7GA79pJYmEAdSQ created.
2024-01-10 21:13:19.137 +02:00 [DBG] Establishing new connection.
2024-01-10 21:13:19.137 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:13:19.137 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:13:19.153 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:13:19.154 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:13:19.156 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:13:19.157 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:13:19.157 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:19.158 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:13:19.158 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:19.158 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:19.158 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:13:19.163 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:13:19.163 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:19.163 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:13:19.163 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:13:19.163 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:13:21.196 +02:00 [DBG] Connection id "0HN0I1JQLEICB" received FIN.
2024-01-10 21:13:21.196 +02:00 [DBG] Connection id "0HN0I1JQLEICB" is closed. The last processed stream ID was 9.
2024-01-10 21:13:21.196 +02:00 [DBG] Connection id "0HN0I1JQLEICB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:13:21.212 +02:00 [DBG] Connection id "0HN0I1JQLEICB" stopped.
2024-01-10 21:27:59.975 +02:00 [DBG] Connection id "0HN0I1JQLEIC2" received FIN.
2024-01-10 21:27:59.975 +02:00 [DBG] Connection id "0HN0I1JQLEIC4" received FIN.
2024-01-10 21:27:59.976 +02:00 [DBG] Connection id "0HN0I1JQLEICA" received FIN.
2024-01-10 21:27:59.976 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.976 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.976 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.976 +02:00 [DBG] Connection id "0HN0I1JQLEICA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.976 +02:00 [DBG] Connection id "0HN0I1JQLEIC4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.976 +02:00 [DBG] Connection id "0HN0I1JQLEIBT" received FIN.
2024-01-10 21:27:59.976 +02:00 [DBG] Connection id "0HN0I1JQLEIC4" disconnecting.
2024-01-10 21:27:59.976 +02:00 [DBG] Connection id "0HN0I1JQLEICC" received FIN.
2024-01-10 21:27:59.976 +02:00 [DBG] Connection id "0HN0I1JQLEIBQ" received FIN.
2024-01-10 21:27:59.976 +02:00 [DBG] Connection id "0HN0I1JQLEIBU" received FIN.
2024-01-10 21:27:59.976 +02:00 [DBG] Connection id "0HN0I1JQLEIC2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.977 +02:00 [DBG] Connection id "0HN0I1JQLEICA" disconnecting.
2024-01-10 21:27:59.977 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.983 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.983 +02:00 [DBG] Connection id "0HN0I1JQLEIC2" disconnecting.
2024-01-10 21:27:59.984 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.984 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.984 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.984 +02:00 [DBG] Removing connection 51iuBMfDbtsR9HLuRF3sQQ from the list of connections.
2024-01-10 21:27:59.984 +02:00 [DBG] Connection id "0HN0I1JQLEIBT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.984 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.984 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.984 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.984 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.985 +02:00 [DBG] Connection id "0HN0I1JQLEIBQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.985 +02:00 [DBG] Connection id "0HN0I1JQLEIC7" received FIN.
2024-01-10 21:27:59.985 +02:00 [DBG] Connection id "0HN0I1JQLEICC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.985 +02:00 [DBG] Removing connection JSyTKqBt6fGSVSWmS_tbBw from the list of connections.
2024-01-10 21:27:59.985 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.984 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.985 +02:00 [DBG] Removing connection e4dNQrD1-Qv5A_Qjwz1eZQ from the list of connections.
2024-01-10 21:27:59.985 +02:00 [DBG] Connection id "0HN0I1JQLEIBR" received FIN.
2024-01-10 21:27:59.985 +02:00 [DBG] Connection id "0HN0I1JQLEIBQ" disconnecting.
2024-01-10 21:27:59.985 +02:00 [DBG] Connection id "0HN0I1JQLEIBT" disconnecting.
2024-01-10 21:27:59.985 +02:00 [DBG] Connection id "0HN0I1JQLEICC" disconnecting.
2024-01-10 21:27:59.985 +02:00 [DBG] Connection id "0HN0I1JQLEIC1" received FIN.
2024-01-10 21:27:59.985 +02:00 [DBG] Connection id "0HN0I1JQLEIC5" received FIN.
2024-01-10 21:27:59.985 +02:00 [DBG] Connection id "0HN0I1JQLEIBU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.985 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 887266.5973 ms
2024-01-10 21:27:59.985 +02:00 [DBG] Connection id "0HN0I1JQLEIC8" received FIN.
2024-01-10 21:27:59.985 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.986 +02:00 [DBG] Connection id "0HN0I1JQLEIBU" disconnecting.
2024-01-10 21:27:59.986 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 908203.3436 ms
2024-01-10 21:27:59.986 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.986 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 887267.7805ms
2024-01-10 21:27:59.986 +02:00 [DBG] Connection id "0HN0I1JQLEIC7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.986 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.986 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 908204.0289ms
2024-01-10 21:27:59.986 +02:00 [DBG] Connection id "0HN0I1JQLEIC0" received FIN.
2024-01-10 21:27:59.986 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.987 +02:00 [DBG] Connection id "0HN0I1JQLEIC7" disconnecting.
2024-01-10 21:27:59.987 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.986 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.987 +02:00 [DBG] Connection id "0HN0I1JQLEIC2" stopped.
2024-01-10 21:27:59.987 +02:00 [DBG] Connection id "0HN0I1JQLEIBR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.987 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.987 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.986 +02:00 [DBG] Connection id "0HN0I1JQLEICA" stopped.
2024-01-10 21:27:59.988 +02:00 [DBG] Connection id "0HN0I1JQLEIC1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.987 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.988 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.988 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:27:59.988 +02:00 [DBG] Connection id "0HN0I1JQLEIC5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.988 +02:00 [DBG] Connection id "0HN0I1JQLEIC8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.988 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.988 +02:00 [DBG] Connection id "0HN0I1JQLEIC8" disconnecting.
2024-01-10 21:27:59.988 +02:00 [DBG] Removing connection U1HLlfkpLVqCEBTuhtzQTA from the list of connections.
2024-01-10 21:27:59.988 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.988 +02:00 [DBG] Connection id "0HN0I1JQLEIBR" disconnecting.
2024-01-10 21:27:59.988 +02:00 [DBG] Connection id "0HN0I1JQLEIC5" disconnecting.
2024-01-10 21:27:59.988 +02:00 [DBG] Removing connection CJuLtyRN7GA79pJYmEAdSQ from the list of connections.
2024-01-10 21:27:59.989 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.989 +02:00 [DBG] Connection id "0HN0I1JQLEIC0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:27:59.989 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.989 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.989 +02:00 [DBG] Removing connection x5wqbl6G0Q854wTUOGIFZg from the list of connections.
2024-01-10 21:27:59.985 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.988 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.989 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 905092.1165 ms
2024-01-10 21:27:59.989 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.988 +02:00 [DBG] Connection id "0HN0I1JQLEIC1" disconnecting.
2024-01-10 21:27:59.989 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 917954.8600 ms
2024-01-10 21:27:59.988 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.989 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.989 +02:00 [DBG] Connection id "0HN0I1JQLEIC0" disconnecting.
2024-01-10 21:27:59.989 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 880851.4617 ms
2024-01-10 21:27:59.990 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 917955.6373ms
2024-01-10 21:27:59.989 +02:00 [DBG] Removing connection J14Wvlez4USEod3lL9MfQQ from the list of connections.
2024-01-10 21:27:59.989 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 919696.6204 ms
2024-01-10 21:27:59.990 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 880852.9937ms
2024-01-10 21:27:59.989 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 905092.6145ms
2024-01-10 21:27:59.990 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.990 +02:00 [DBG] Connection id "0HN0I1JQLEICC" stopped.
2024-01-10 21:27:59.990 +02:00 [DBG] Connection id "0HN0I1JQLEIC4" stopped.
2024-01-10 21:27:59.990 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.990 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.990 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 919697.8839ms
2024-01-10 21:27:59.991 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.990 +02:00 [DBG] Socket closed.
2024-01-10 21:27:59.991 +02:00 [DBG] Connection id "0HN0I1JQLEIBT" stopped.
2024-01-10 21:27:59.991 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.991 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 925727.4262 ms
2024-01-10 21:27:59.990 +02:00 [DBG] Connection id "0HN0I1JQLEIBU" stopped.
2024-01-10 21:27:59.991 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.991 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.991 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.991 +02:00 [DBG] Removing connection hDyny2qOoxPJGtk-jockag from the list of connections.
2024-01-10 21:27:59.991 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 925728.3740ms
2024-01-10 21:27:59.991 +02:00 [DBG] Removing connection 7BYY8VghlCU1-_CH2qOiOA from the list of connections.
2024-01-10 21:27:59.991 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.991 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.991 +02:00 [DBG] Connection id "0HN0I1JQLEIBQ" stopped.
2024-01-10 21:27:59.992 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.991 +02:00 [DBG] Removing connection IRlLr_t2G2FC5k21blafNw from the list of connections.
2024-01-10 21:27:59.991 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:27:59.992 +02:00 [DBG] Removing connection ZIRhCopnv-TusIqC1ykzaw from the list of connections.
2024-01-10 21:27:59.992 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.991 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 896978.4368 ms
2024-01-10 21:27:59.992 +02:00 [DBG] Removing connection 1Vp8tdFOjOTcURFmQ1EX5g from the list of connections.
2024-01-10 21:27:59.992 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 925649.9219 ms
2024-01-10 21:27:59.992 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 892503.1626 ms
2024-01-10 21:27:59.992 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 896979.5418ms
2024-01-10 21:27:59.992 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 902376.0083 ms
2024-01-10 21:27:59.992 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 892504.3877ms
2024-01-10 21:27:59.992 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 911540.3208 ms
2024-01-10 21:27:59.992 +02:00 [DBG] Removing connection mX1oGNO00MhdQ9L00pdzmA from the list of connections.
2024-01-10 21:27:59.992 +02:00 [DBG] Connection id "0HN0I1JQLEIC7" stopped.
2024-01-10 21:27:59.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 925650.7656ms
2024-01-10 21:27:59.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 902376.5092ms
2024-01-10 21:27:59.992 +02:00 [DBG] Connection id "0HN0I1JQLEIC8" stopped.
2024-01-10 21:27:59.992 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:27:59.992 +02:00 [DBG] Connection id "0HN0I1JQLEIBR" stopped.
2024-01-10 21:27:59.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 911540.6582ms
2024-01-10 21:27:59.992 +02:00 [DBG] Connection id "0HN0I1JQLEIC5" stopped.
2024-01-10 21:27:59.992 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 915296.8602 ms
2024-01-10 21:27:59.993 +02:00 [DBG] Connection id "0HN0I1JQLEIC1" stopped.
2024-01-10 21:27:59.993 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 915297.6902ms
2024-01-10 21:27:59.993 +02:00 [DBG] Connection id "0HN0I1JQLEIC0" stopped.
2024-01-10 21:28:00.005 +02:00 [DBG] Connection id "0HN0I1JQLEICD" accepted.
2024-01-10 21:28:00.005 +02:00 [DBG] Connection id "0HN0I1JQLEICD" started.
2024-01-10 21:28:00.006 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:28:00.006 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:28:00.006 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:28:00.006 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:28:00.006 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:28:00.006 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:28:00.006 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:28:00.006 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:28:00.007 +02:00 [DBG] New connection tBDr5pvLaTs4Qw9EIzFFag created.
2024-01-10 21:28:00.007 +02:00 [DBG] Establishing new connection.
2024-01-10 21:28:00.007 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:28:00.007 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:28:00.031 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:28:00.032 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:28:00.035 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:28:00.098 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 21:28:00.099 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:28:00.099 +02:00 [DBG] Creating DbConnection.
2024-01-10 21:28:00.099 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-10 21:28:00.099 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:28:00.099 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:28:00.099 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:01.225 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:01.226 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:28:01.229 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:28:01.230 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:01.230 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:28:01.230 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:01.230 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:28:17.248 +02:00 [DBG] Connection id "0HN0I1JQLEICE" accepted.
2024-01-10 21:28:17.248 +02:00 [DBG] Connection id "0HN0I1JQLEICE" started.
2024-01-10 21:28:17.257 +02:00 [DBG] Connection 0HN0I1JQLEICE established using the following protocol: "Tls12"
2024-01-10 21:28:17.258 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 21:28:17.258 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:28:17.258 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:28:17.258 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:28:17.258 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.9107ms
2024-01-10 21:28:17.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 21:28:17.260 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:28:17.260 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:28:17.260 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:28:17.260 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 21:28:17.260 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 21:28:17.260 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 21:28:17.260 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 21:28:17.260 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 21:28:17.260 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 21:28:17.260 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:28:17.260 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:28:17.261 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:28:17.261 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:28:17.261 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:28:17.261 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 21:28:17.261 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 21:28:17.261 +02:00 [INF] GetAllRoles
2024-01-10 21:28:17.261 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:28:17.261 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:28:17.261 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:28:17.261 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:17.262 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:17.262 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 21:28:17.264 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 21:28:17.264 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:28:17.265 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:28:17.265 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:28:17.265 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:28:17.265 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:17.265 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:28:17.265 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:17.265 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:28:17.265 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:28:17.265 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:28:17.265 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:28:17.265 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:28:17.265 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:28:17.265 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:28:17.265 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 4.706ms
2024-01-10 21:28:17.265 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 21:28:17.265 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 5.2381 ms
2024-01-10 21:28:17.266 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 5.8624ms
2024-01-10 21:28:40.824 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - -
2024-01-10 21:28:40.824 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:28:40.824 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:28:40.824 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:28:40.824 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - - - 204 - - 0.3101ms
2024-01-10 21:28:40.825 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json 122
2024-01-10 21:28:40.826 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:28:40.826 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:28:40.826 +02:00 [DBG] POST requests are not supported
2024-01-10 21:28:40.826 +02:00 [DBG] POST requests are not supported
2024-01-10 21:28:40.826 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-10 21:28:40.826 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-10 21:28:40.826 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 21:28:40.826 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 21:28:40.830 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 21:28:40.830 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:28:40.830 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:28:40.830 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:28:40.830 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:28:40.830 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:28:40.830 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:28:40.830 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:28:40.830 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 21:28:40.831 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 21:28:40.831 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 21:28:40.831 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 21:28:40.831 +02:00 [DBG] Connection id "0HN0I1JQLEICE", Request id "0HN0I1JQLEICE:00000007": started reading request body.
2024-01-10 21:28:40.831 +02:00 [DBG] Connection id "0HN0I1JQLEICE", Request id "0HN0I1JQLEICE:00000007": done reading request body.
2024-01-10 21:28:40.846 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 21:28:40.846 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 21:28:40.846 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 21:28:40.849 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 21:28:40.852 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "k",
  "LastName": "k",
  "Email": "k@gmail.com",
  "Username": "k",
  "Password": "k",
  "IsActive": true,
  "RoleId": 2
}
2024-01-10 21:28:40.853 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(l => l.Id != __id_0 && l.Username == __name_1)'
2024-01-10 21:28:40.854 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE (u.Id != @__id_0) && (u.Username == @__name_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 21:28:40.854 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:28:40.854 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:28:40.855 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:28:40.855 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:40.855 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:40.855 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:28:40.857 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:28:40.858 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:40.858 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:28:40.858 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:40.858 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:28:40.917 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:28:40.923 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:28:40.923 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 21:28:40.923 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 21:28:40.923 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 21:28:40.934 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:40.934 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:40.934 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:28:40.934 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:28:40.934 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:28:40.934 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RefreshToken], [RefreshTokenExpiryTime], [RoleId], [Token], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-01-10 21:28:40.938 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RefreshToken], [RefreshTokenExpiryTime], [RoleId], [Token], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-01-10 21:28:40.952 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:28:40.960 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:40.961 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 22ms reading results.
2024-01-10 21:28:40.961 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:28:40.961 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:28:40.965 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:28:40.965 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 21:28:40.965 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-10 21:28:40.965 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 135.1285ms
2024-01-10 21:28:40.966 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 21:28:40.966 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 139.8625 ms
2024-01-10 21:28:40.966 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json 122 - 200 0 - 140.5368ms
2024-01-10 21:28:47.411 +02:00 [DBG] Connection id "0HN0I1JQLEICE" received FIN.
2024-01-10 21:28:47.412 +02:00 [DBG] Connection id "0HN0I1JQLEICE" is closed. The last processed stream ID was 7.
2024-01-10 21:28:47.412 +02:00 [DBG] Connection id "0HN0I1JQLEICE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:28:47.425 +02:00 [DBG] Connection id "0HN0I1JQLEICE" stopped.
2024-01-10 21:30:11.349 +02:00 [DBG] Connection id "0HN0I1JQLEICF" accepted.
2024-01-10 21:30:11.349 +02:00 [DBG] Connection id "0HN0I1JQLEICF" started.
2024-01-10 21:30:11.354 +02:00 [DBG] Connection 0HN0I1JQLEICF established using the following protocol: "Tls12"
2024-01-10 21:30:11.355 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 21:30:11.355 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:30:11.355 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:30:11.355 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:30:11.355 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.5623ms
2024-01-10 21:30:11.357 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 21:30:11.361 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:30:11.361 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:30:11.361 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:30:11.361 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 21:30:11.361 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 21:30:11.361 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 21:30:11.361 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 21:30:11.361 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 21:30:11.363 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 21:30:11.364 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:30:11.364 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:30:11.364 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:30:11.364 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:30:11.364 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:30:11.364 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 21:30:11.364 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 21:30:11.364 +02:00 [INF] GetAllRoles
2024-01-10 21:30:11.364 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:30:11.364 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:30:11.364 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:30:11.364 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:30:11.364 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:30:11.365 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 21:30:11.368 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 21:30:11.368 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:30:11.368 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:30:11.368 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:30:11.368 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:30:11.368 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:30:11.368 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:30:11.368 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:30:11.369 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:30:11.369 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:30:11.369 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:30:11.369 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:30:11.369 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:30:11.369 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:30:11.369 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:30:11.369 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 5.5994ms
2024-01-10 21:30:11.370 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 21:30:11.370 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 8.6519 ms
2024-01-10 21:30:11.370 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 13.2454ms
2024-01-10 21:30:17.557 +02:00 [DBG] Connection id "0HN0I1JQLEICF" received FIN.
2024-01-10 21:30:17.557 +02:00 [DBG] Connection id "0HN0I1JQLEICF" is closed. The last processed stream ID was 3.
2024-01-10 21:30:17.557 +02:00 [DBG] Connection id "0HN0I1JQLEICF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:30:17.566 +02:00 [DBG] Connection id "0HN0I1JQLEICF" stopped.
2024-01-10 21:30:30.524 +02:00 [DBG] Connection id "0HN0I1JQLEICG" accepted.
2024-01-10 21:30:30.524 +02:00 [DBG] Connection id "0HN0I1JQLEICG" started.
2024-01-10 21:30:30.530 +02:00 [DBG] Connection 0HN0I1JQLEICG established using the following protocol: "Tls12"
2024-01-10 21:30:30.531 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - -
2024-01-10 21:30:30.531 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:30:30.531 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:30:30.531 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:30:30.531 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - - - 204 - - 0.5992ms
2024-01-10 21:30:30.533 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json 134
2024-01-10 21:30:30.533 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:30:30.533 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:30:30.533 +02:00 [DBG] POST requests are not supported
2024-01-10 21:30:30.533 +02:00 [DBG] POST requests are not supported
2024-01-10 21:30:30.533 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-10 21:30:30.533 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-10 21:30:30.533 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 21:30:30.533 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 21:30:30.533 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 21:30:30.533 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:30:30.533 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:30:30.533 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:30:30.533 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:30:30.533 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:30:30.533 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:30:30.533 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:30:30.533 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 21:30:30.533 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 21:30:30.533 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 21:30:30.534 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 21:30:30.534 +02:00 [DBG] Connection id "0HN0I1JQLEICG", Request id "0HN0I1JQLEICG:00000003": started reading request body.
2024-01-10 21:30:30.534 +02:00 [DBG] Connection id "0HN0I1JQLEICG", Request id "0HN0I1JQLEICG:00000003": done reading request body.
2024-01-10 21:30:30.534 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 21:30:30.534 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 21:30:30.534 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 21:30:30.534 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 21:30:30.534 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "ollie",
  "LastName": "o",
  "Email": "o@gmail.com",
  "Username": "ollie",
  "Password": "ollie",
  "IsActive": true,
  "RoleId": 2
}
2024-01-10 21:30:30.534 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:30:30.534 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:30:30.534 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:30:30.534 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:30:30.534 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:30:30.534 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:30:30.537 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:30:30.537 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:30:30.537 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:30:30.537 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:30:30.537 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:30:30.537 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:30:30.537 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:30:30.537 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 21:30:30.537 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 21:30:30.537 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 21:30:30.537 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:30:30.538 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:30:30.538 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:30:30.538 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:30:30.538 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:30:30.538 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RefreshToken], [RefreshTokenExpiryTime], [RoleId], [Token], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-01-10 21:30:30.542 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RefreshToken], [RefreshTokenExpiryTime], [RoleId], [Token], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-01-10 21:30:30.543 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:30:30.543 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:30:30.543 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:30:30.543 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:30:30.543 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:30:30.543 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:30:30.543 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 21:30:30.543 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-10 21:30:30.543 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 9.8746ms
2024-01-10 21:30:30.543 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 21:30:30.543 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 10.3338 ms
2024-01-10 21:30:30.543 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json 134 - 200 0 - 10.8270ms
2024-01-10 21:30:31.382 +02:00 [DBG] Connection id "0HN0I1JQLEICG" received FIN.
2024-01-10 21:30:31.401 +02:00 [DBG] Connection id "0HN0I1JQLEICG" is closed. The last processed stream ID was 3.
2024-01-10 21:30:31.401 +02:00 [DBG] Connection id "0HN0I1JQLEICG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:30:31.409 +02:00 [DBG] Connection id "0HN0I1JQLEICG" stopped.
2024-01-10 21:31:33.952 +02:00 [DBG] Connection id "0HN0I1JQLEICD" received FIN.
2024-01-10 21:31:33.952 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:31:33.954 +02:00 [DBG] Connection id "0HN0I1JQLEICD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:31:33.954 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:31:33.956 +02:00 [DBG] Connection id "0HN0I1JQLEICD" disconnecting.
2024-01-10 21:31:33.956 +02:00 [DBG] Socket closed.
2024-01-10 21:31:33.989 +02:00 [DBG] Removing connection tBDr5pvLaTs4Qw9EIzFFag from the list of connections.
2024-01-10 21:31:33.989 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:31:33.989 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 213982.3629 ms
2024-01-10 21:31:33.989 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 213982.9577ms
2024-01-10 21:31:33.989 +02:00 [DBG] Connection id "0HN0I1JQLEICD" stopped.
2024-01-10 21:31:34.348 +02:00 [DBG] Connection id "0HN0I1JQLEICH" accepted.
2024-01-10 21:31:34.348 +02:00 [DBG] Connection id "0HN0I1JQLEICH" started.
2024-01-10 21:31:34.348 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:31:34.349 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:34.349 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:34.349 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:31:34.349 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:31:34.349 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:31:34.349 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:31:34.349 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:31:34.349 +02:00 [DBG] New connection K93rCUlQUfH0qHx6mqWPdw created.
2024-01-10 21:31:34.349 +02:00 [DBG] Establishing new connection.
2024-01-10 21:31:34.349 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:31:34.349 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:31:34.382 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:31:34.382 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:31:34.384 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:31:34.384 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:31:34.384 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:34.384 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:34.384 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:34.385 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:34.385 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:31:34.387 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:31:34.388 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:34.388 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:31:34.388 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:34.388 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:31:40.284 +02:00 [DBG] Connection id "0HN0I1JQLEICI" accepted.
2024-01-10 21:31:40.284 +02:00 [DBG] Connection id "0HN0I1JQLEICI" started.
2024-01-10 21:31:40.286 +02:00 [DBG] Connection 0HN0I1JQLEICI established using the following protocol: "Tls12"
2024-01-10 21:31:40.287 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-10 21:31:40.287 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:40.287 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:40.287 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:31:40.287 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.6319ms
2024-01-10 21:31:40.289 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-10 21:31:40.289 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:40.289 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:40.289 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:31:40.289 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-10 21:31:40.290 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-10 21:31:40.290 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-10 21:31:40.290 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 21:31:40.290 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 21:31:40.290 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-10 21:31:40.290 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:31:40.290 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:31:40.290 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:31:40.290 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:31:40.290 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:31:40.290 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 21:31:40.290 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-10 21:31:40.290 +02:00 [INF] GetAllRoles
2024-01-10 21:31:40.290 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:31:40.290 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:40.290 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:40.290 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:40.290 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:40.291 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 21:31:40.292 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-10 21:31:40.293 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:40.293 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:40.293 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:40.293 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:40.293 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:40.293 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:31:40.293 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:40.293 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:31:40.293 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:31:40.293 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:31:40.293 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:31:40.293 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:31:40.293 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:31:40.293 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:31:40.294 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 3.5824ms
2024-01-10 21:31:40.294 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-10 21:31:40.294 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 4.1411 ms
2024-01-10 21:31:40.294 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 4.7989ms
2024-01-10 21:31:47.655 +02:00 [DBG] Connection id "0HN0I1JQLEICI" received FIN.
2024-01-10 21:31:47.655 +02:00 [DBG] Connection id "0HN0I1JQLEICI" is closed. The last processed stream ID was 3.
2024-01-10 21:31:47.655 +02:00 [DBG] Connection id "0HN0I1JQLEICI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:31:47.656 +02:00 [DBG] Connection id "0HN0I1JQLEICI" stopped.
2024-01-10 21:31:48.228 +02:00 [DBG] Connection id "0HN0I1JQLEICJ" accepted.
2024-01-10 21:31:48.228 +02:00 [DBG] Connection id "0HN0I1JQLEICJ" started.
2024-01-10 21:31:48.233 +02:00 [DBG] Connection 0HN0I1JQLEICJ established using the following protocol: "Tls12"
2024-01-10 21:31:48.234 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-01-10 21:31:48.234 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:48.234 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:48.235 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:31:48.235 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.5609ms
2024-01-10 21:31:48.236 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 39
2024-01-10 21:31:48.236 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:48.236 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:48.236 +02:00 [DBG] POST requests are not supported
2024-01-10 21:31:48.236 +02:00 [DBG] POST requests are not supported
2024-01-10 21:31:48.236 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-01-10 21:31:48.236 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-01-10 21:31:48.236 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 21:31:48.236 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 21:31:48.236 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 21:31:48.236 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:31:48.236 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:31:48.236 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:31:48.236 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:31:48.236 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:31:48.236 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:31:48.236 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:31:48.236 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 21:31:48.236 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-01-10 21:31:48.236 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-10 21:31:48.236 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-10 21:31:48.237 +02:00 [DBG] Connection id "0HN0I1JQLEICJ", Request id "0HN0I1JQLEICJ:00000003": started reading request body.
2024-01-10 21:31:48.237 +02:00 [DBG] Connection id "0HN0I1JQLEICJ", Request id "0HN0I1JQLEICJ:00000003": done reading request body.
2024-01-10 21:31:48.237 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 21:31:48.237 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 21:31:48.237 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-01-10 21:31:48.237 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-01-10 21:31:48.237 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:31:48.237 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:48.237 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:48.237 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.237 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.237 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 21:31:48.239 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-01-10 21:31:48.239 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:48.239 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.239 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:31:48.239 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.239 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:31:48.240 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:31:48.240 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:48.240 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:48.240 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.240 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.240 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:31:48.241 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:31:48.241 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.241 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:31:48.241 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.242 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:31:48.242 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 21:31:48.242 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 21:31:48.242 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:31:48.242 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:48.242 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:31:48.242 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:31:48.242 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 21:31:48.242 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.242 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.242 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:31:48.242 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:48.242 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:48.243 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 21:31:48.245 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-01-10 21:31:48.245 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.245 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:31:48.246 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.246 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:31:48.246 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:48.246 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 21:31:48.246 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:31:48.246 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:31:48.246 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:31:48.246 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:31:48.246 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:31:48.246 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-01-10 21:31:48.246 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 9.9239ms
2024-01-10 21:31:48.246 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-01-10 21:31:48.246 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 10.3798 ms
2024-01-10 21:31:48.246 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 39 - 200 304 application/json;+charset=utf-8 10.8443ms
2024-01-10 21:31:48.273 +02:00 [DBG] Connection id "0HN0I1JQLEICK" accepted.
2024-01-10 21:31:48.273 +02:00 [DBG] Connection id "0HN0I1JQLEICK" started.
2024-01-10 21:31:48.273 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:31:48.274 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:48.274 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:48.274 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:31:48.274 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:31:48.274 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:31:48.274 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:31:48.274 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:31:48.274 +02:00 [DBG] New connection 6NujL8OSY9VEKNoC2LBnKg created.
2024-01-10 21:31:48.274 +02:00 [DBG] Establishing new connection.
2024-01-10 21:31:48.274 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:31:48.274 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:31:48.344 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:31:48.344 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:31:48.348 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:31:48.349 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:31:48.349 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:48.349 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:48.349 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.349 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.349 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:31:48.352 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:31:48.353 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.353 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:31:48.353 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:48.353 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:31:49.890 +02:00 [DBG] Connection id "0HN0I1JQLEICJ" received FIN.
2024-01-10 21:31:49.891 +02:00 [DBG] Connection id "0HN0I1JQLEICJ" is closed. The last processed stream ID was 3.
2024-01-10 21:31:49.891 +02:00 [DBG] Connection id "0HN0I1JQLEICJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:31:49.891 +02:00 [DBG] Connection id "0HN0I1JQLEICJ" stopped.
2024-01-10 21:31:52.367 +02:00 [DBG] Connection id "0HN0I1JQLEICL" accepted.
2024-01-10 21:31:52.367 +02:00 [DBG] Connection id "0HN0I1JQLEICL" started.
2024-01-10 21:31:52.368 +02:00 [DBG] Connection 0HN0I1JQLEICL established using the following protocol: "Tls12"
2024-01-10 21:31:52.369 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false - -
2024-01-10 21:31:52.370 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:52.371 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:52.371 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:31:52.371 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false - - - 204 - - 1.5879ms
2024-01-10 21:31:52.373 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false application/json -
2024-01-10 21:31:52.373 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:52.374 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:52.374 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:31:52.374 +02:00 [DBG] The request path /api/Device/getDevicesPagedAndFiltered does not match a supported file type
2024-01-10 21:31:52.374 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getDevicesPagedAndFiltered'
2024-01-10 21:31:52.374 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)' with route pattern 'api/Device/getDevicesPagedAndFiltered' is valid for the request path '/api/Device/getDevicesPagedAndFiltered'
2024-01-10 21:31:52.374 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getDevicesPagedAndFiltered'
2024-01-10 21:31:52.374 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)'
2024-01-10 21:31:52.374 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)'
2024-01-10 21:31:52.374 +02:00 [INF] Route matched with {action = "GetAllLocationsPaged", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLocationsPagedAsync(BusinessLogicLayer.DTOs.DeviceParameters) on controller WebApi.Controllers.DeviceController (WebApi).
2024-01-10 21:31:52.375 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:31:52.375 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:31:52.375 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:31:52.375 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:31:52.375 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:31:52.375 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-01-10 21:31:52.375 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-01-10 21:31:52.376 +02:00 [DBG] Attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters' ...
2024-01-10 21:31:52.376 +02:00 [DBG] Attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters' using the name '' in request data ...
2024-01-10 21:31:52.376 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.SerialNumber' of type 'System.String' using the name 'SerialNumber' in request data ...
2024-01-10 21:31:52.376 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.SerialNumber' of type 'System.String'.
2024-01-10 21:31:52.376 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Name' of type 'System.String' using the name 'Name' in request data ...
2024-01-10 21:31:52.376 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Name' of type 'System.String'.
2024-01-10 21:31:52.376 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Description' of type 'System.String' using the name 'Description' in request data ...
2024-01-10 21:31:52.376 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Description' of type 'System.String'.
2024-01-10 21:31:52.376 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Location' of type 'System.String' using the name 'Location' in request data ...
2024-01-10 21:31:52.376 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Location' of type 'System.String'.
2024-01-10 21:31:52.376 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.DeviceType' of type 'System.String' using the name 'DeviceType' in request data ...
2024-01-10 21:31:52.376 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.DeviceType' of type 'System.String'.
2024-01-10 21:31:52.376 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-10 21:31:52.376 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-10 21:31:52.376 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-10 21:31:52.376 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-10 21:31:52.376 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-10 21:31:52.376 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-10 21:31:52.376 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-10 21:31:52.376 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-10 21:31:52.376 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-10 21:31:52.376 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-10 21:31:52.376 +02:00 [DBG] Done attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters'.
2024-01-10 21:31:52.377 +02:00 [DBG] Done attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters'.
2024-01-10 21:31:52.377 +02:00 [DBG] Attempting to validate the bound parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters' ...
2024-01-10 21:31:52.377 +02:00 [DBG] Done attempting to validate the bound parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters'.
2024-01-10 21:31:52.377 +02:00 [INF] GetAllLocations for {
  "SerialNumber": null,
  "Name": null,
  "Description": null,
  "Location": null,
  "DeviceType": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Name",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-10 21:31:52.379 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:31:52.379 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:52.379 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:52.379 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:52.379 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:52.379 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Devices] AS [d]
2024-01-10 21:31:52.381 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Devices] AS [d]
2024-01-10 21:31:52.381 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:52.381 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:31:52.381 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:52.381 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:31:52.383 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:31:52.383 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:52.383 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:52.383 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:52.383 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:52.383 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DeviceId], [t].[Alias], [t].[Description], [t].[DeviceTypeId], [t].[Emails], [t].[FirmwareVersion], [t].[ImageBytes], [t].[LastPingedTs], [t].[LastUploadTime], [t].[LocationId], [t].[Name], [t].[SerialNumber], [t].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM (
    SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
    FROM [Devices] AS [d]
    ORDER BY [d].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [t].[DeviceTypeId] = [d0].[Id]
ORDER BY [t].[Name]
2024-01-10 21:31:52.391 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DeviceId], [t].[Alias], [t].[Description], [t].[DeviceTypeId], [t].[Emails], [t].[FirmwareVersion], [t].[ImageBytes], [t].[LastPingedTs], [t].[LastUploadTime], [t].[LocationId], [t].[Name], [t].[SerialNumber], [t].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM (
    SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
    FROM [Devices] AS [d]
    ORDER BY [d].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [t].[DeviceTypeId] = [d0].[Id]
ORDER BY [t].[Name]
2024-01-10 21:31:52.393 +02:00 [DBG] Context 'InternshipContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:52.394 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:52.394 +02:00 [DBG] Context 'InternshipContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:52.394 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:52.394 +02:00 [DBG] Context 'InternshipContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:52.396 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:52.396 +02:00 [DBG] Context 'InternshipContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:52.396 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:52.396 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-01-10 21:31:52.396 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:52.396 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:31:52.396 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:31:52.397 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:31:52.397 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:31:52.397 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:31:52.397 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:31:52.397 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.DeviceInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:31:52.397 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi) in 21.6491ms
2024-01-10 21:31:52.397 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)'
2024-01-10 21:31:52.397 +02:00 [INF] HTTP GET /api/Device/getDevicesPagedAndFiltered responded 200 in 23.1507 ms
2024-01-10 21:31:52.397 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false application/json - - 200 396 application/json;+charset=utf-8 24.2159ms
2024-01-10 21:31:53.953 +02:00 [DBG] Connection id "0HN0I1JQLEICM" accepted.
2024-01-10 21:31:53.953 +02:00 [DBG] Connection id "0HN0I1JQLEICM" started.
2024-01-10 21:31:53.954 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:31:53.954 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:53.954 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:53.954 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:31:53.954 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:31:53.954 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:31:53.954 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:31:53.954 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:31:53.954 +02:00 [DBG] New connection B_52pFL335VwtsJfcCgsIg created.
2024-01-10 21:31:53.954 +02:00 [DBG] Establishing new connection.
2024-01-10 21:31:53.955 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:31:53.955 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:31:53.978 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:31:53.978 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:31:53.980 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:31:53.980 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:31:53.980 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:53.980 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:53.980 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:53.980 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:53.980 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:31:53.983 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:31:53.983 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:53.983 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:31:53.983 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:53.983 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:31:56.933 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Threshold/getAllThresholds - -
2024-01-10 21:31:56.933 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:56.933 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:56.933 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:31:56.933 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Threshold/getAllThresholds - - - 204 - - 1.1298ms
2024-01-10 21:31:56.936 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Threshold/getAllThresholds application/json -
2024-01-10 21:31:56.936 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:56.936 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:56.936 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:31:56.936 +02:00 [DBG] The request path /api/Threshold/getAllThresholds does not match a supported file type
2024-01-10 21:31:56.937 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Threshold/getAllThresholds'
2024-01-10 21:31:56.937 +02:00 [DBG] Endpoint 'WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi)' with route pattern 'api/Threshold/getAllThresholds' is valid for the request path '/api/Threshold/getAllThresholds'
2024-01-10 21:31:56.937 +02:00 [DBG] Endpoint 'WebApi.Controllers.ThresholdController.GetThresholdByIdAsync (WebApi)' with route pattern 'api/Threshold/{thresholdId}' is valid for the request path '/api/Threshold/getAllThresholds'
2024-01-10 21:31:56.937 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi)'
2024-01-10 21:31:56.937 +02:00 [INF] Executing endpoint 'WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi)'
2024-01-10 21:31:56.937 +02:00 [INF] Route matched with {action = "GetAllThresholds", controller = "Threshold"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllThresholdsAsync() on controller WebApi.Controllers.ThresholdController (WebApi).
2024-01-10 21:31:56.938 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:31:56.938 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:31:56.938 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:31:56.938 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:31:56.938 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:31:56.938 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.ThresholdController (WebApi)
2024-01-10 21:31:56.938 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.ThresholdController (WebApi)
2024-01-10 21:31:56.938 +02:00 [INF] GetAllThresholdsAsync
2024-01-10 21:31:56.938 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:31:56.938 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:56.938 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:56.938 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:56.939 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:56.939 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CriticalValue], [t].[DeviceReadingTypeId], [t].[DeviceTypeId], [t].[MaxValue], [t].[MinValue], [t].[WarningValue], [d].[Id], [d].[Name], [d0].[Id], [d0].[Name], [d0].[Unit]
FROM [Thresholds] AS [t]
INNER JOIN [DeviceTypes] AS [d] ON [t].[DeviceTypeId] = [d].[Id]
INNER JOIN [DeviceReadingTypes] AS [d0] ON [t].[DeviceReadingTypeId] = [d0].[Id]
ORDER BY [d].[Name]
2024-01-10 21:31:56.944 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CriticalValue], [t].[DeviceReadingTypeId], [t].[DeviceTypeId], [t].[MaxValue], [t].[MinValue], [t].[WarningValue], [d].[Id], [d].[Name], [d0].[Id], [d0].[Name], [d0].[Unit]
FROM [Thresholds] AS [t]
INNER JOIN [DeviceTypes] AS [d] ON [t].[DeviceTypeId] = [d].[Id]
INNER JOIN [DeviceReadingTypes] AS [d0] ON [t].[DeviceReadingTypeId] = [d0].[Id]
ORDER BY [d].[Name]
2024-01-10 21:31:56.945 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:56.945 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:31:56.945 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:56.945 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:31:56.945 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:31:56.945 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:31:56.945 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:31:56.946 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:31:56.946 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:31:56.946 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.ThresholdDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:31:56.946 +02:00 [INF] Executed action WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi) in 8.3954ms
2024-01-10 21:31:56.946 +02:00 [INF] Executed endpoint 'WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi)'
2024-01-10 21:31:56.946 +02:00 [INF] HTTP GET /api/Threshold/getAllThresholds responded 200 in 10.2794 ms
2024-01-10 21:31:56.947 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Threshold/getAllThresholds application/json - - 200 2 application/json;+charset=utf-8 11.0554ms
2024-01-10 21:31:57.661 +02:00 [DBG] Connection id "0HN0I1JQLEICL" received FIN.
2024-01-10 21:31:57.661 +02:00 [DBG] Connection id "0HN0I1JQLEICL" is closed. The last processed stream ID was 7.
2024-01-10 21:31:57.661 +02:00 [DBG] Connection id "0HN0I1JQLEICL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:31:57.668 +02:00 [DBG] Connection id "0HN0I1JQLEICL" stopped.
2024-01-10 21:31:58.110 +02:00 [DBG] Connection id "0HN0I1JQLEICN" accepted.
2024-01-10 21:31:58.111 +02:00 [DBG] Connection id "0HN0I1JQLEICN" started.
2024-01-10 21:31:58.112 +02:00 [DBG] Connection 0HN0I1JQLEICN established using the following protocol: "Tls12"
2024-01-10 21:31:58.113 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/deviceReadingType/getAllDeviceReadingTypes - -
2024-01-10 21:31:58.113 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceTypes - -
2024-01-10 21:31:58.114 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:58.114 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:58.114 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:58.114 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:58.114 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:31:58.114 +02:00 [DBG] The request is a preflight request.
2024-01-10 21:31:58.114 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/deviceReadingType/getAllDeviceReadingTypes - - - 204 - - 1.3131ms
2024-01-10 21:31:58.114 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceTypes - - - 204 - - 1.3519ms
2024-01-10 21:31:58.117 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/deviceReadingType/getAllDeviceReadingTypes application/json -
2024-01-10 21:31:58.117 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceTypes application/json -
2024-01-10 21:31:58.117 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:58.117 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:31:58.117 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:58.117 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:31:58.117 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:31:58.117 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:31:58.117 +02:00 [DBG] The request path /api/deviceReadingType/getAllDeviceReadingTypes does not match a supported file type
2024-01-10 21:31:58.117 +02:00 [DBG] The request path /api/DeviceTypes does not match a supported file type
2024-01-10 21:31:58.117 +02:00 [DBG] 1 candidate(s) found for the request path '/api/deviceReadingType/getAllDeviceReadingTypes'
2024-01-10 21:31:58.117 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceTypes'
2024-01-10 21:31:58.117 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)' with route pattern 'api/DeviceTypes' is valid for the request path '/api/DeviceTypes'
2024-01-10 21:31:58.117 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi)' with route pattern 'api/DeviceReadingType/getAllDeviceReadingTypes' is valid for the request path '/api/deviceReadingType/getAllDeviceReadingTypes'
2024-01-10 21:31:58.117 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-01-10 21:31:58.117 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi)'
2024-01-10 21:31:58.117 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi)'
2024-01-10 21:31:58.117 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-01-10 21:31:58.118 +02:00 [INF] Route matched with {action = "GetAllDeviceReadingTypes", controller = "DeviceReadingType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDeviceReadingTypes() on controller WebApi.Controllers.DeviceReadingTypeController (WebApi).
2024-01-10 21:31:58.118 +02:00 [INF] Route matched with {action = "GetAllDeviceTypes", controller = "DeviceTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDeviceTypesAsync() on controller WebApi.Controllers.DeviceTypesController (WebApi).
2024-01-10 21:31:58.118 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:31:58.118 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:31:58.118 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:31:58.118 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:31:58.118 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:31:58.118 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:31:58.118 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:31:58.118 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:31:58.118 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceTypesController (WebApi)
2024-01-10 21:31:58.118 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:31:58.118 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceTypesController (WebApi)
2024-01-10 21:31:58.118 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:31:58.118 +02:00 [INF] GetAllDeviceTypes
2024-01-10 21:31:58.118 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceReadingTypeController (WebApi)
2024-01-10 21:31:58.118 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:31:58.118 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:58.118 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:58.118 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:58.118 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:58.119 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [DeviceTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:31:58.121 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [DeviceTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:31:58.121 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceReadingTypeController (WebApi)
2024-01-10 21:31:58.121 +02:00 [INF] GetAllDeviceReadingTypes
2024-01-10 21:31:58.121 +02:00 [DBG] Context 'InternshipContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:58.121 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:58.121 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:31:58.121 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:31:58.121 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:58.121 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:58.121 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:31:58.121 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:31:58.121 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:58.121 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:58.121 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:31:58.121 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [d].[Unit]
FROM [DeviceReadingTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:31:58.121 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:31:58.121 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:31:58.121 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:31:58.122 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:31:58.122 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceTypeDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:31:58.122 +02:00 [INF] Executed action WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi) in 4.5232ms
2024-01-10 21:31:58.123 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-01-10 21:31:58.123 +02:00 [INF] HTTP GET /api/DeviceTypes responded 200 in 5.6801 ms
2024-01-10 21:31:58.124 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceTypes application/json - - 200 45 application/json;+charset=utf-8 6.9864ms
2024-01-10 21:31:58.124 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name], [d].[Unit]
FROM [DeviceReadingTypes] AS [d]
ORDER BY [d].[Name]
2024-01-10 21:31:58.124 +02:00 [DBG] Context 'InternshipContext' started tracking 'DeviceReadingType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:31:58.124 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:58.124 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:31:58.124 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:31:58.124 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:31:58.124 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:31:58.124 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:31:58.124 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:31:58.124 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:31:58.124 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:31:58.125 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceReadingTypeDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:31:58.125 +02:00 [INF] Executed action WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi) in 6.6222ms
2024-01-10 21:31:58.125 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceReadingTypeController.GetAllDeviceReadingTypes (WebApi)'
2024-01-10 21:31:58.125 +02:00 [INF] HTTP GET /api/deviceReadingType/getAllDeviceReadingTypes responded 200 in 7.5040 ms
2024-01-10 21:31:58.125 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/deviceReadingType/getAllDeviceReadingTypes application/json - - 200 71 application/json;+charset=utf-8 8.3946ms
2024-01-10 21:32:01.821 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Threshold/getAllThresholds application/json -
2024-01-10 21:32:01.822 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:32:01.822 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:32:01.822 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:32:01.822 +02:00 [DBG] The request path /api/Threshold/getAllThresholds does not match a supported file type
2024-01-10 21:32:01.822 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Threshold/getAllThresholds'
2024-01-10 21:32:01.822 +02:00 [DBG] Endpoint 'WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi)' with route pattern 'api/Threshold/getAllThresholds' is valid for the request path '/api/Threshold/getAllThresholds'
2024-01-10 21:32:01.822 +02:00 [DBG] Endpoint 'WebApi.Controllers.ThresholdController.GetThresholdByIdAsync (WebApi)' with route pattern 'api/Threshold/{thresholdId}' is valid for the request path '/api/Threshold/getAllThresholds'
2024-01-10 21:32:01.822 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi)'
2024-01-10 21:32:01.822 +02:00 [INF] Executing endpoint 'WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi)'
2024-01-10 21:32:01.822 +02:00 [INF] Route matched with {action = "GetAllThresholds", controller = "Threshold"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllThresholdsAsync() on controller WebApi.Controllers.ThresholdController (WebApi).
2024-01-10 21:32:01.822 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:32:01.822 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:32:01.822 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:32:01.822 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:32:01.822 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:32:01.822 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.ThresholdController (WebApi)
2024-01-10 21:32:01.823 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.ThresholdController (WebApi)
2024-01-10 21:32:01.823 +02:00 [INF] GetAllThresholdsAsync
2024-01-10 21:32:01.824 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:32:01.824 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:32:01.824 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:32:01.824 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:32:01.824 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:32:01.824 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CriticalValue], [t].[DeviceReadingTypeId], [t].[DeviceTypeId], [t].[MaxValue], [t].[MinValue], [t].[WarningValue], [d].[Id], [d].[Name], [d0].[Id], [d0].[Name], [d0].[Unit]
FROM [Thresholds] AS [t]
INNER JOIN [DeviceTypes] AS [d] ON [t].[DeviceTypeId] = [d].[Id]
INNER JOIN [DeviceReadingTypes] AS [d0] ON [t].[DeviceReadingTypeId] = [d0].[Id]
ORDER BY [d].[Name]
2024-01-10 21:32:01.831 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CriticalValue], [t].[DeviceReadingTypeId], [t].[DeviceTypeId], [t].[MaxValue], [t].[MinValue], [t].[WarningValue], [d].[Id], [d].[Name], [d0].[Id], [d0].[Name], [d0].[Unit]
FROM [Thresholds] AS [t]
INNER JOIN [DeviceTypes] AS [d] ON [t].[DeviceTypeId] = [d].[Id]
INNER JOIN [DeviceReadingTypes] AS [d0] ON [t].[DeviceReadingTypeId] = [d0].[Id]
ORDER BY [d].[Name]
2024-01-10 21:32:01.831 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:32:01.831 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:32:01.831 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:32:01.831 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:32:01.831 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:32:01.831 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:32:01.831 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:32:01.831 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:32:01.832 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:32:01.832 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.ThresholdDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:32:01.832 +02:00 [INF] Executed action WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi) in 9.5764ms
2024-01-10 21:32:01.832 +02:00 [INF] Executed endpoint 'WebApi.Controllers.ThresholdController.GetAllThresholdsAsync (WebApi)'
2024-01-10 21:32:01.832 +02:00 [INF] HTTP GET /api/Threshold/getAllThresholds responded 200 in 10.1107 ms
2024-01-10 21:32:01.832 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Threshold/getAllThresholds application/json - - 200 2 application/json;+charset=utf-8 10.8111ms
2024-01-10 21:32:02.940 +02:00 [DBG] Connection id "0HN0I1JQLEICO" accepted.
2024-01-10 21:32:02.940 +02:00 [DBG] Connection id "0HN0I1JQLEICO" started.
2024-01-10 21:32:02.940 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:32:02.940 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:32:02.940 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:32:02.941 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:32:02.941 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:32:02.941 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:32:02.941 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:32:02.941 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:32:02.941 +02:00 [DBG] New connection 7Ig8z44xCsRpcGlA7a5kKQ created.
2024-01-10 21:32:02.941 +02:00 [DBG] Establishing new connection.
2024-01-10 21:32:02.941 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:32:02.941 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:32:02.959 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:32:02.959 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:32:02.961 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:32:02.961 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:32:02.962 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:32:02.962 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:32:02.962 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:32:02.962 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:32:02.962 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:32:02.965 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:32:02.965 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:32:02.965 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:32:02.965 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:32:02.965 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:32:07.678 +02:00 [DBG] Connection id "0HN0I1JQLEICN" received FIN.
2024-01-10 21:32:07.678 +02:00 [DBG] Connection id "0HN0I1JQLEICN" is closed. The last processed stream ID was 9.
2024-01-10 21:32:07.678 +02:00 [DBG] Connection id "0HN0I1JQLEICN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:32:07.687 +02:00 [DBG] Connection id "0HN0I1JQLEICN" stopped.
2024-01-10 21:32:34.687 +02:00 [DBG] Connection id "0HN0I1JQLEICP" accepted.
2024-01-10 21:32:34.687 +02:00 [DBG] Connection id "0HN0I1JQLEICP" started.
2024-01-10 21:32:34.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-10 21:32:34.688 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-10 21:32:34.688 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:32:34.688 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:32:34.688 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-10 21:32:34.688 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-10 21:32:34.688 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-10 21:32:34.688 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-10 21:32:34.688 +02:00 [DBG] New connection n3emlrU0Ft2PTz10s94ClA created.
2024-01-10 21:32:34.689 +02:00 [DBG] Establishing new connection.
2024-01-10 21:32:34.689 +02:00 [DBG] OnConnectedAsync started.
2024-01-10 21:32:34.689 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-10 21:32:34.708 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-10 21:32:34.708 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-10 21:32:34.713 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-10 21:32:34.713 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:32:34.714 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:32:34.714 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:32:34.714 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:32:34.714 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:32:34.714 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:32:34.716 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-10 21:32:34.716 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:32:34.717 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-10 21:32:34.717 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:32:34.717 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:32:36.926 +02:00 [DBG] Connection id "0HN0I1JQLEICM" received FIN.
2024-01-10 21:32:36.926 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:32:36.927 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:32:36.926 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:32:36.927 +02:00 [DBG] Connection id "0HN0I1JQLEICM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:32:36.927 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:32:36.927 +02:00 [DBG] Connection id "0HN0I1JQLEICM" disconnecting.
2024-01-10 21:32:36.927 +02:00 [DBG] Connection id "0HN0I1JQLEICK" received FIN.
2024-01-10 21:32:36.927 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:32:36.928 +02:00 [DBG] Connection id "0HN0I1JQLEICK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:32:36.928 +02:00 [DBG] Connection id "0HN0I1JQLEICK" disconnecting.
2024-01-10 21:32:36.928 +02:00 [DBG] Socket closed.
2024-01-10 21:32:36.928 +02:00 [DBG] Connection id "0HN0I1JQLEICH" received FIN.
2024-01-10 21:32:36.928 +02:00 [DBG] Socket closed.
2024-01-10 21:32:36.928 +02:00 [DBG] Socket closed.
2024-01-10 21:32:36.929 +02:00 [DBG] Connection id "0HN0I1JQLEICH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:32:36.929 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-10 21:32:36.931 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:32:36.931 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:32:36.932 +02:00 [DBG] Connection id "0HN0I1JQLEICO" received FIN.
2024-01-10 21:32:36.932 +02:00 [DBG] Connection id "0HN0I1JQLEICH" disconnecting.
2024-01-10 21:32:36.932 +02:00 [DBG] Connection id "0HN0I1JQLEICO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:32:36.932 +02:00 [DBG] Socket closed.
2024-01-10 21:32:36.933 +02:00 [DBG] Removing connection K93rCUlQUfH0qHx6mqWPdw from the list of connections.
2024-01-10 21:32:36.933 +02:00 [DBG] Connection id "0HN0I1JQLEICO" disconnecting.
2024-01-10 21:32:36.933 +02:00 [DBG] Removing connection n3emlrU0Ft2PTz10s94ClA from the list of connections.
2024-01-10 21:32:36.933 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:32:36.933 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 62584.7281 ms
2024-01-10 21:32:36.933 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:32:36.935 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 2246.3120 ms
2024-01-10 21:32:36.935 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:32:36.935 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 62586.0631ms
2024-01-10 21:32:36.935 +02:00 [DBG] Connection id "0HN0I1JQLEICH" stopped.
2024-01-10 21:32:36.935 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 2247.0430ms
2024-01-10 21:32:36.935 +02:00 [DBG] Connection id "0HN0I1JQLEICP" disconnecting.
2024-01-10 21:32:36.935 +02:00 [DBG] Connection id "0HN0I1JQLEICP" stopped.
2024-01-10 21:32:36.940 +02:00 [DBG] Removing connection B_52pFL335VwtsJfcCgsIg from the list of connections.
2024-01-10 21:32:36.940 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:32:36.940 +02:00 [DBG] OnConnectedAsync ending.
2024-01-10 21:32:36.940 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 42986.2846 ms
2024-01-10 21:32:36.941 +02:00 [DBG] Removing connection 6NujL8OSY9VEKNoC2LBnKg from the list of connections.
2024-01-10 21:32:36.941 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 42987.0044ms
2024-01-10 21:32:36.941 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:32:36.941 +02:00 [DBG] Connection id "0HN0I1JQLEICM" stopped.
2024-01-10 21:32:36.941 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 48667.0584 ms
2024-01-10 21:32:36.943 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 48669.1593ms
2024-01-10 21:32:36.943 +02:00 [DBG] Connection id "0HN0I1JQLEICK" stopped.
2024-01-10 21:32:36.949 +02:00 [DBG] Socket closed.
2024-01-10 21:32:36.949 +02:00 [DBG] Connection id "0HN0I1JQLEICP" received FIN.
2024-01-10 21:32:36.950 +02:00 [DBG] Removing connection 7Ig8z44xCsRpcGlA7a5kKQ from the list of connections.
2024-01-10 21:32:36.950 +02:00 [DBG] Connection id "0HN0I1JQLEICP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:32:36.950 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-10 21:32:36.953 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 34012.5766 ms
2024-01-10 21:32:36.953 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 34013.2141ms
2024-01-10 21:32:36.954 +02:00 [DBG] Connection id "0HN0I1JQLEICO" stopped.
2024-01-10 21:33:31.241 +02:00 [INF] Application starting up
2024-01-10 21:33:32.109 +02:00 [DBG] Hosting starting
2024-01-10 21:33:32.471 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 21:33:33.246 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 21:33:33.578 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 21:33:33.578 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 21:33:33.578 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 21:33:33.579 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 21:33:33.579 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 21:33:33.800 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 21:33:33.811 +02:00 [DBG] Creating DbConnection.
2024-01-10 21:33:33.819 +02:00 [DBG] Created DbConnection. (4ms).
2024-01-10 21:33:33.821 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:33.831 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:33.944 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:33.959 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 21:33:33.970 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2024-01-10 21:33:33.974 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (19ms).
2024-01-10 21:33:33.992 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 21:33:34.038 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 21:33:34.042 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.053 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (7ms).
2024-01-10 21:33:34.059 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 21:33:34.059 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 21:33:34.059 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 21:33:34.059 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.060 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.062 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 21:33:34.103 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 21:33:34.104 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.105 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 21:33:34.106 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.106 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.106 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 21:33:34.107 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 21:33:34.107 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 21:33:34.107 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 21:33:34.109 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 21:33:34.109 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.109 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:33:34.109 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 21:33:34.109 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 21:33:34.109 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 21:33:34.109 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.109 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.109 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 21:33:34.110 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 21:33:34.110 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.110 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:33:34.136 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:33:34.136 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:33:34.136 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:33:34.136 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.136 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.137 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 21:33:34.142 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 21:33:34.148 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.150 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-01-10 21:33:34.150 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:33:34.150 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:33:34.195 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 21:33:34.323 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 21:33:34.508 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 21:33:34.670 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 21:33:34.804 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 21:33:34.805 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 21:33:34.805 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 21:33:34.805 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 21:33:34.805 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 21:33:34.811 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 21:33:34.813 +02:00 [INF] Hosting environment: Development
2024-01-10 21:33:34.813 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 21:33:34.813 +02:00 [DBG] Hosting started
2024-01-10 21:33:34.838 +02:00 [DBG] Connection id "0HN0I2C4JMTAJ" accepted.
2024-01-10 21:33:34.840 +02:00 [DBG] Connection id "0HN0I2C4JMTAJ" started.
2024-01-10 21:33:34.863 +02:00 [DBG] Connection id "0HN0I2C4JMTAJ" received FIN.
2024-01-10 21:33:34.873 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 21:33:34.938 +02:00 [DBG] Connection id "0HN0I2C4JMTAJ" stopped.
2024-01-10 21:33:34.940 +02:00 [DBG] Connection id "0HN0I2C4JMTAJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:33:35.468 +02:00 [DBG] Connection id "0HN0I2C4JMTAK" accepted.
2024-01-10 21:33:35.469 +02:00 [DBG] Connection id "0HN0I2C4JMTAK" started.
2024-01-10 21:33:35.575 +02:00 [DBG] Connection 0HN0I2C4JMTAK established using the following protocol: "Tls12"
2024-01-10 21:33:35.679 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 21:33:35.756 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 21:33:36.077 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 21:33:36.346 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 21:33:36.346 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 21:33:36.407 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 21:33:36.452 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 105.0372ms
2024-01-10 21:33:36.454 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 782.5401ms
2024-01-10 21:33:36.504 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 157.8979ms
2024-01-10 21:33:36.573 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 21:33:36.828 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 254.9746ms
2024-01-10 21:33:37.783 +02:00 [DBG] Connection id "0HN0I2C4JMTAK" received FIN.
2024-01-10 21:33:37.783 +02:00 [DBG] Connection id "0HN0I2C4JMTAK" is closed. The last processed stream ID was 7.
2024-01-10 21:33:37.784 +02:00 [DBG] Connection id "0HN0I2C4JMTAK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:33:37.802 +02:00 [DBG] Connection id "0HN0I2C4JMTAK" stopped.
2024-01-10 21:35:32.436 +02:00 [INF] Application starting up
2024-01-10 21:35:33.330 +02:00 [DBG] Hosting starting
2024-01-10 21:35:33.711 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-10 21:35:34.555 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-10 21:35:34.887 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 21:35:34.887 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 21:35:34.888 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 21:35:34.888 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 21:35:34.888 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-10 21:35:35.136 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-10 21:35:35.149 +02:00 [DBG] Creating DbConnection.
2024-01-10 21:35:35.159 +02:00 [DBG] Created DbConnection. (4ms).
2024-01-10 21:35:35.161 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.174 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.405 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.415 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 21:35:35.422 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2024-01-10 21:35:35.424 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2024-01-10 21:35:35.433 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 21:35:35.480 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 21:35:35.486 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.497 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (7ms).
2024-01-10 21:35:35.503 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 21:35:35.503 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 21:35:35.503 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 21:35:35.503 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.504 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.505 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 21:35:35.540 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 21:35:35.540 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.540 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:35:35.541 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.541 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.542 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-10 21:35:35.542 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 21:35:35.542 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-10 21:35:35.542 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 21:35:35.543 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-10 21:35:35.543 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.543 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:35:35.543 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-10 21:35:35.543 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 21:35:35.543 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-10 21:35:35.543 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.543 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.543 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 21:35:35.544 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-10 21:35:35.544 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.544 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:35:35.569 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:35:35.569 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:35:35.569 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:35:35.569 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.569 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.571 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 21:35:35.575 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-10 21:35:35.582 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.585 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-01-10 21:35:35.585 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:35:35.585 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:35:35.628 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-10 21:35:35.741 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-10 21:35:35.900 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-10 21:35:36.071 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-10 21:35:36.185 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-10 21:35:36.185 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-10 21:35:36.185 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-10 21:35:36.185 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-10 21:35:36.185 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-10 21:35:36.189 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-10 21:35:36.190 +02:00 [INF] Hosting environment: Development
2024-01-10 21:35:36.190 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-10 21:35:36.190 +02:00 [DBG] Hosting started
2024-01-10 21:35:36.200 +02:00 [DBG] Connection id "0HN0I2D8P50A8" received FIN.
2024-01-10 21:35:36.221 +02:00 [DBG] Connection id "0HN0I2D8P50A8" accepted.
2024-01-10 21:35:36.223 +02:00 [DBG] Connection id "0HN0I2D8P50A8" started.
2024-01-10 21:35:36.247 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-10 21:35:36.717 +02:00 [DBG] Connection id "0HN0I2D8P50A8" stopped.
2024-01-10 21:35:36.722 +02:00 [DBG] Connection id "0HN0I2D8P50A8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:35:36.822 +02:00 [DBG] Connection id "0HN0I2D8P50A9" accepted.
2024-01-10 21:35:36.822 +02:00 [DBG] Connection id "0HN0I2D8P50A9" started.
2024-01-10 21:35:36.916 +02:00 [DBG] Connection 0HN0I2D8P50A9 established using the following protocol: "Tls12"
2024-01-10 21:35:37.013 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-10 21:35:37.068 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-10 21:35:37.311 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-10 21:35:37.476 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-10 21:35:37.495 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 485.8537ms
2024-01-10 21:35:37.499 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-10 21:35:37.499 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-10 21:35:37.565 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 66.1098ms
2024-01-10 21:35:37.575 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 76.3478ms
2024-01-10 21:35:37.637 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-10 21:35:37.865 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 228.1721ms
2024-01-10 21:35:42.931 +02:00 [DBG] Connection id "0HN0I2D8P50A9" received FIN.
2024-01-10 21:35:42.931 +02:00 [DBG] Connection id "0HN0I2D8P50A9" is closed. The last processed stream ID was 7.
2024-01-10 21:35:42.932 +02:00 [DBG] Connection id "0HN0I2D8P50A9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:35:42.937 +02:00 [DBG] Connection id "0HN0I2D8P50A9" stopped.
2024-01-10 21:35:59.915 +02:00 [DBG] Connection id "0HN0I2D8P50AA" accepted.
2024-01-10 21:35:59.915 +02:00 [DBG] Connection id "0HN0I2D8P50AA" started.
2024-01-10 21:35:59.921 +02:00 [DBG] Connection 0HN0I2D8P50AA established using the following protocol: "Tls12"
2024-01-10 21:35:59.930 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json-patch+json 155
2024-01-10 21:35:59.931 +02:00 [DBG] The request has an origin header: 'https://localhost:7137'.
2024-01-10 21:35:59.932 +02:00 [INF] CORS policy execution successful.
2024-01-10 21:35:59.934 +02:00 [DBG] POST requests are not supported
2024-01-10 21:35:59.935 +02:00 [DBG] POST requests are not supported
2024-01-10 21:35:59.977 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-10 21:35:59.978 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-10 21:35:59.978 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 21:35:59.979 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 21:36:00.024 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 21:36:00.025 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:36:00.025 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:36:00.025 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:36:00.025 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:36:00.025 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:36:00.026 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:36:00.028 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:36:00.065 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 21:36:00.068 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-10 21:36:00.069 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 21:36:00.069 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-10 21:36:00.098 +02:00 [DBG] Connection id "0HN0I2D8P50AA", Request id "0HN0I2D8P50AA:00000001": started reading request body.
2024-01-10 21:36:00.098 +02:00 [DBG] Connection id "0HN0I2D8P50AA", Request id "0HN0I2D8P50AA:00000001": done reading request body.
2024-01-10 21:36:00.262 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 21:36:00.262 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 21:36:00.262 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-10 21:36:00.274 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-10 21:36:00.320 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "v",
  "LastName": "v",
  "Email": "v@gmail.com",
  "Username": "v",
  "Password": "v",
  "IsActive": true,
  "RoleId": 1
}
2024-01-10 21:36:00.397 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(l => l.Id != __id_0 && l.Username == __name_1)'
2024-01-10 21:36:00.797 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE (u.Id != @__id_0) && (u.Username == @__name_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-10 21:36:00.871 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:36:00.871 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:36:00.875 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-10 21:36:00.875 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:36:00.875 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:36:00.885 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:36:00.932 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-10 21:36:00.935 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:36:00.937 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-01-10 21:36:00.937 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:36:00.937 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:36:00.993 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:36:01.081 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:36:01.095 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-10 21:36:01.099 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-10 21:36:01.124 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-10 21:36:01.260 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:36:01.262 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:36:01.280 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:36:01.280 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:36:01.281 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-10 21:36:01.282 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RefreshToken], [RefreshTokenExpiryTime], [RoleId], [Token], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-01-10 21:36:01.319 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RefreshToken], [RefreshTokenExpiryTime], [RoleId], [Token], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-01-10 21:36:01.348 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-10 21:36:01.369 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:36:01.374 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 54ms reading results.
2024-01-10 21:36:01.382 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:36:01.383 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-10 21:36:01.401 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:36:01.405 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-10 21:36:01.410 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-10 21:36:01.419 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 1386.3582ms
2024-01-10 21:36:01.420 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-10 21:36:01.424 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 1482.6290 ms
2024-01-10 21:36:01.434 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json-patch+json 155 - 200 0 - 1509.4432ms
2024-01-10 21:36:02.961 +02:00 [DBG] Connection id "0HN0I2D8P50AA" received FIN.
2024-01-10 21:36:02.961 +02:00 [DBG] Connection id "0HN0I2D8P50AA" is closed. The last processed stream ID was 1.
2024-01-10 21:36:02.961 +02:00 [DBG] Connection id "0HN0I2D8P50AA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:36:02.970 +02:00 [DBG] Connection id "0HN0I2D8P50AA" stopped.
2024-01-10 21:36:08.112 +02:00 [DBG] Connection id "0HN0I2D8P50AB" accepted.
2024-01-10 21:36:08.112 +02:00 [DBG] Connection id "0HN0I2D8P50AB" started.
2024-01-10 21:36:08.114 +02:00 [DBG] Connection 0HN0I2D8P50AB established using the following protocol: "Tls12"
2024-01-10 21:36:08.115 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getAll - -
2024-01-10 21:36:08.116 +02:00 [DBG] The request path  does not match the path filter
2024-01-10 21:36:08.116 +02:00 [DBG] The request path /api/User/getAll does not match a supported file type
2024-01-10 21:36:08.125 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getAll'
2024-01-10 21:36:08.125 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)' with route pattern 'api/User/getAll' is valid for the request path '/api/User/getAll'
2024-01-10 21:36:08.126 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getAll'
2024-01-10 21:36:08.126 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 21:36:08.126 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 21:36:08.130 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersAsync() on controller WebApi.Controllers.UserController (WebApi).
2024-01-10 21:36:08.131 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-10 21:36:08.131 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-10 21:36:08.131 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-10 21:36:08.131 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-10 21:36:08.131 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-10 21:36:08.131 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:36:08.134 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-10 21:36:08.135 +02:00 [INF] GetAllUsers
2024-01-10 21:36:08.155 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)'
2024-01-10 21:36:08.214 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-10 21:36:08.345 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FirstName (string), 2], [Property: User.IsActive (bool?) ValueGenerated.OnAdd, 3], [Property: User.LastName (string), 4], [Property: User.Password (string), 5], [Property: User.RefreshToken (string), 6], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 7], [Property: User.RoleId (int?) FK Index, 8], [Property: User.Token (string), 9], [Property: User.Username (string) Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Role.RoleType (string) Required, 12] }
        SELECT u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RefreshToken, u.RefreshTokenExpiryTime, u.RoleId, u.Token, u.Username, r.Id, r.RoleType
        FROM Users AS u
        LEFT JOIN Roles AS r ON u.RoleId == r.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-10 21:36:08.356 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-10 21:36:08.357 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-10 21:36:08.357 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-10 21:36:08.357 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:36:08.358 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:36:08.358 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-10 21:36:08.367 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
LEFT JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-10 21:36:08.389 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:36:08.402 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:36:08.412 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:36:08.416 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:36:08.416 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:36:08.417 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:36:08.419 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:36:08.419 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:36:08.420 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-10 21:36:08.420 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:36:08.420 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 53ms reading results.
2024-01-10 21:36:08.420 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-10 21:36:08.420 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-10 21:36:08.423 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-10 21:36:08.427 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-10 21:36:08.427 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-10 21:36:08.427 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-10 21:36:08.428 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-10 21:36:08.428 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.UserGetDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-10 21:36:08.459 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersAsync (WebApi) in 327.9882ms
2024-01-10 21:36:08.459 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-10 21:36:08.459 +02:00 [INF] HTTP GET /api/User/getAll responded 200 in 342.7137 ms
2024-01-10 21:36:08.460 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getAll - - - 200 418 application/json;+charset=utf-8 344.6645ms
2024-01-10 21:36:12.976 +02:00 [DBG] Connection id "0HN0I2D8P50AB" received FIN.
2024-01-10 21:36:12.976 +02:00 [DBG] Connection id "0HN0I2D8P50AB" is closed. The last processed stream ID was 1.
2024-01-10 21:36:12.976 +02:00 [DBG] Connection id "0HN0I2D8P50AB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-10 21:36:12.993 +02:00 [DBG] Connection id "0HN0I2D8P50AB" stopped.
