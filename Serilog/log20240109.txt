2024-01-09 20:33:03.758 +02:00 [INF] Application starting up
2024-01-09 20:33:04.779 +02:00 [DBG] Hosting starting
2024-01-09 20:33:04.827 +02:00 [INF] User profile is available. Using 'C:\Users\ghica\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-09 20:33:04.893 +02:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2024-01-09 20:33:04.893 +02:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2024-01-09 20:33:04.901 +02:00 [INF] Creating key {a0108654-48a6-4ebf-9ff9-e3b82dc645d9} with creation date 2024-01-09 18:33:04Z, activation date 2024-01-09 18:33:04Z, and expiration date 2024-04-08 18:33:04Z.
2024-01-09 20:33:04.911 +02:00 [DBG] Descriptor deserializer type for key {a0108654-48a6-4ebf-9ff9-e3b82dc645d9} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2024-01-09 20:33:04.922 +02:00 [DBG] No key escrow sink found. Not writing key {a0108654-48a6-4ebf-9ff9-e3b82dc645d9} to escrow.
2024-01-09 20:33:04.923 +02:00 [DBG] Encrypting to Windows DPAPI for local machine account.
2024-01-09 20:33:04.932 +02:00 [ERR] An error occurred while encrypting to Windows DPAPI.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
2024-01-09 20:33:04.982 +02:00 [ERR] An error occurred while reading the key ring.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.EncryptIfNecessary(IXmlEncryptor encryptor, XElement element)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.CreateNewKey(Guid keyId, DateTimeOffset creationDate, DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.CreateNewKey(DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
2024-01-09 20:33:04.983 +02:00 [INF] Key ring failed to load during application startup.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.EncryptIfNecessary(IXmlEncryptor encryptor, XElement element)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.CreateNewKey(Guid keyId, DateTimeOffset creationDate, DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.CreateNewKey(DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService.StartAsync(CancellationToken token)
2024-01-09 20:33:05.324 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-09 20:33:06.079 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-09 20:33:06.356 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-09 20:33:06.366 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 20:33:06.366 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 20:33:06.366 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 20:33:06.366 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 20:33:06.367 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 20:33:06.618 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-09 20:33:06.626 +02:00 [DBG] Creating DbConnection.
2024-01-09 20:33:06.632 +02:00 [DBG] Created DbConnection. (2ms).
2024-01-09 20:33:06.634 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:06.644 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.515 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.523 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-09 20:33:08.535 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-09 20:33:08.538 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2024-01-09 20:33:08.553 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-09 20:33:08.606 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-09 20:33:08.613 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.628 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (10ms).
2024-01-09 20:33:08.636 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-09 20:33:08.636 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-09 20:33:08.637 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-09 20:33:08.637 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.638 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.640 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-09 20:33:08.683 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-09 20:33:08.683 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.684 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 20:33:08.686 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.686 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.686 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-09 20:33:08.686 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-09 20:33:08.686 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-09 20:33:08.686 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-09 20:33:08.688 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-09 20:33:08.688 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.688 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 20:33:08.689 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-09 20:33:08.689 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-09 20:33:08.689 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-09 20:33:08.689 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.689 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.689 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-09 20:33:08.689 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-09 20:33:08.689 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.689 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 20:33:08.724 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 20:33:08.724 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 20:33:08.724 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 20:33:08.724 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.725 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.726 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-09 20:33:08.736 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-09 20:33:08.746 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.750 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-01-09 20:33:08.750 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:33:08.750 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 20:33:08.855 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-09 20:33:09.040 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-09 20:33:09.254 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-09 20:33:09.446 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-09 20:33:09.721 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-09 20:33:09.721 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-09 20:33:09.721 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-09 20:33:09.721 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-09 20:33:09.721 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-09 20:33:09.727 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-09 20:33:09.729 +02:00 [INF] Hosting environment: Development
2024-01-09 20:33:09.729 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-09 20:33:09.729 +02:00 [DBG] Hosting started
2024-01-09 20:33:10.046 +02:00 [DBG] Connection id "0HN0H85N4ASUU" accepted.
2024-01-09 20:33:10.047 +02:00 [DBG] Connection id "0HN0H85N4ASUV" received FIN.
2024-01-09 20:33:10.047 +02:00 [DBG] Connection id "0HN0H85N4ASUU" started.
2024-01-09 20:33:10.049 +02:00 [DBG] Connection id "0HN0H85N4ASUV" accepted.
2024-01-09 20:33:10.049 +02:00 [DBG] Connection id "0HN0H85N4ASUV" started.
2024-01-09 20:33:10.050 +02:00 [DBG] Connection id "0HN0H85N4ASUU" received FIN.
2024-01-09 20:33:10.067 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-09 20:33:10.067 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-09 20:33:10.082 +02:00 [DBG] Connection id "0HN0H85N4ASUU" stopped.
2024-01-09 20:33:10.082 +02:00 [DBG] Connection id "0HN0H85N4ASUV" stopped.
2024-01-09 20:33:10.095 +02:00 [DBG] Connection id "0HN0H85N4ASUV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-09 20:33:10.095 +02:00 [DBG] Connection id "0HN0H85N4ASUU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-09 20:33:10.732 +02:00 [DBG] Connection id "0HN0H85N4ASV0" accepted.
2024-01-09 20:33:10.733 +02:00 [DBG] Connection id "0HN0H85N4ASV0" started.
2024-01-09 20:33:10.824 +02:00 [DBG] Connection 0HN0H85N4ASV0 established using the following protocol: "Tls12"
2024-01-09 20:33:10.923 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-09 20:33:10.969 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-09 20:33:11.268 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-09 20:33:11.455 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-09 20:33:11.473 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-09 20:33:11.477 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 555.2267ms
2024-01-09 20:33:11.479 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-09 20:33:11.516 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 43.3828ms
2024-01-09 20:33:11.545 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.3767ms
2024-01-09 20:33:11.599 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-09 20:33:11.838 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 239.0750ms
2024-01-09 20:33:13.733 +02:00 [DBG] Connection id "0HN0H85N4ASV0" received FIN.
2024-01-09 20:33:13.733 +02:00 [DBG] Connection id "0HN0H85N4ASV0" is closed. The last processed stream ID was 7.
2024-01-09 20:33:13.733 +02:00 [DBG] Connection id "0HN0H85N4ASV0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-09 20:33:13.737 +02:00 [DBG] Connection id "0HN0H85N4ASV0" stopped.
2024-01-09 20:34:14.844 +02:00 [DBG] Connection id "0HN0H85N4ASV1" accepted.
2024-01-09 20:34:14.844 +02:00 [DBG] Connection id "0HN0H85N4ASV1" started.
2024-01-09 20:34:14.869 +02:00 [DBG] Connection 0HN0H85N4ASV1 established using the following protocol: "Tls12"
2024-01-09 20:34:14.870 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getAll - -
2024-01-09 20:34:14.875 +02:00 [DBG] The request path  does not match the path filter
2024-01-09 20:34:14.878 +02:00 [DBG] The request path /api/User/getAll does not match a supported file type
2024-01-09 20:34:14.932 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getAll'
2024-01-09 20:34:14.932 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)' with route pattern 'api/User/getAll' is valid for the request path '/api/User/getAll'
2024-01-09 20:34:14.933 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getAll'
2024-01-09 20:34:14.933 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-09 20:34:14.934 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-09 20:34:14.962 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersAsync() on controller WebApi.Controllers.UserController (WebApi).
2024-01-09 20:34:14.962 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-09 20:34:14.962 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-09 20:34:14.963 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-09 20:34:14.963 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-09 20:34:14.963 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-09 20:34:14.965 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 20:34:14.968 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 20:34:14.972 +02:00 [INF] GetAllUsers
2024-01-09 20:34:15.044 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)'
2024-01-09 20:34:15.286 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-09 20:34:15.667 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.IsActive (bool) Required ValueGenerated.OnAdd, 1], [Property: User.Password (string) Required, 2], [Property: User.RoleId (int) Required FK Index, 3], [Property: User.Username (string) Required Index, 4] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Role.RoleType (string) Required, 6] }
        SELECT u.Id, u.IsActive, u.Password, u.RoleId, u.Username, r.Id, r.RoleType
        FROM Users AS u
        INNER JOIN Roles AS r ON u.RoleId == r.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-09 20:34:15.732 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 20:34:15.732 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 20:34:15.732 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 20:34:15.740 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:34:15.741 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:34:15.742 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[IsActive], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-09 20:34:15.785 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[IsActive], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-09 20:34:15.825 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 20:34:15.865 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 20:34:15.873 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 20:34:15.885 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:34:15.887 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 102ms reading results.
2024-01-09 20:34:15.896 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 20:34:15.898 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (2ms).
2024-01-09 20:34:15.906 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-09 20:34:15.909 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-09 20:34:15.909 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-09 20:34:15.909 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-09 20:34:15.910 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-09 20:34:15.910 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.UserGetDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-09 20:34:16.084 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersAsync (WebApi) in 1116.5364ms
2024-01-09 20:34:16.085 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-09 20:34:16.089 +02:00 [INF] HTTP GET /api/User/getAll responded 200 in 1205.9963 ms
2024-01-09 20:34:16.104 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getAll - - - 200 92 application/json;+charset=utf-8 1234.0222ms
2024-01-09 20:34:18.793 +02:00 [DBG] Connection id "0HN0H85N4ASV1" received FIN.
2024-01-09 20:34:18.793 +02:00 [DBG] Connection id "0HN0H85N4ASV1" is closed. The last processed stream ID was 1.
2024-01-09 20:34:18.793 +02:00 [DBG] Connection id "0HN0H85N4ASV1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-09 20:34:18.806 +02:00 [DBG] Connection id "0HN0H85N4ASV1" stopped.
2024-01-09 21:21:12.463 +02:00 [INF] Application starting up
2024-01-09 21:21:13.371 +02:00 [DBG] Hosting starting
2024-01-09 21:21:13.418 +02:00 [INF] User profile is available. Using 'C:\Users\ghica\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-09 21:21:13.466 +02:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2024-01-09 21:21:13.466 +02:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2024-01-09 21:21:13.473 +02:00 [INF] Creating key {e4959e3f-a7e6-4889-a059-04b885c81b18} with creation date 2024-01-09 19:21:13Z, activation date 2024-01-09 19:21:13Z, and expiration date 2024-04-08 19:21:13Z.
2024-01-09 21:21:13.489 +02:00 [DBG] Descriptor deserializer type for key {e4959e3f-a7e6-4889-a059-04b885c81b18} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2024-01-09 21:21:13.514 +02:00 [DBG] No key escrow sink found. Not writing key {e4959e3f-a7e6-4889-a059-04b885c81b18} to escrow.
2024-01-09 21:21:13.515 +02:00 [DBG] Encrypting to Windows DPAPI for local machine account.
2024-01-09 21:21:13.526 +02:00 [ERR] An error occurred while encrypting to Windows DPAPI.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
2024-01-09 21:21:13.581 +02:00 [ERR] An error occurred while reading the key ring.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.EncryptIfNecessary(IXmlEncryptor encryptor, XElement element)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.CreateNewKey(Guid keyId, DateTimeOffset creationDate, DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.CreateNewKey(DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
2024-01-09 21:21:13.581 +02:00 [INF] Key ring failed to load during application startup.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.EncryptIfNecessary(IXmlEncryptor encryptor, XElement element)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.CreateNewKey(Guid keyId, DateTimeOffset creationDate, DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.CreateNewKey(DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService.StartAsync(CancellationToken token)
2024-01-09 21:21:13.898 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-09 21:21:14.704 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-09 21:21:15.000 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-09 21:21:15.008 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 21:21:15.008 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 21:21:15.008 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 21:21:15.008 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 21:21:15.009 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 21:21:15.239 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-09 21:21:15.252 +02:00 [DBG] Creating DbConnection.
2024-01-09 21:21:15.259 +02:00 [DBG] Created DbConnection. (3ms).
2024-01-09 21:21:15.261 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.269 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.394 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.402 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-09 21:21:15.409 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2024-01-09 21:21:15.412 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-01-09 21:21:15.421 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-09 21:21:15.469 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-09 21:21:15.473 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.485 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (7ms).
2024-01-09 21:21:15.494 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-09 21:21:15.494 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-09 21:21:15.494 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-09 21:21:15.494 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.496 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.498 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-09 21:21:15.537 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-09 21:21:15.537 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.538 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-09 21:21:15.539 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.539 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.540 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-09 21:21:15.540 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-09 21:21:15.540 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-09 21:21:15.540 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-09 21:21:15.542 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-09 21:21:15.542 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.542 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:21:15.542 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-09 21:21:15.542 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-09 21:21:15.542 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-09 21:21:15.542 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.542 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.542 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-09 21:21:15.543 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-09 21:21:15.543 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.543 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:21:15.568 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:21:15.568 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:21:15.568 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:21:15.568 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.568 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.569 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-09 21:21:15.573 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-09 21:21:15.578 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.580 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-01-09 21:21:15.581 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:15.581 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:21:15.607 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-09 21:21:15.720 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-09 21:21:15.864 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-09 21:21:16.047 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-09 21:21:16.177 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-09 21:21:16.177 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-09 21:21:16.177 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-09 21:21:16.177 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-09 21:21:16.177 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-09 21:21:16.183 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-09 21:21:16.185 +02:00 [INF] Hosting environment: Development
2024-01-09 21:21:16.185 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-09 21:21:16.185 +02:00 [DBG] Hosting started
2024-01-09 21:21:16.191 +02:00 [DBG] Connection id "0HN0H90J8RKFG" received FIN.
2024-01-09 21:21:16.204 +02:00 [DBG] Connection id "0HN0H90J8RKFG" accepted.
2024-01-09 21:21:16.206 +02:00 [DBG] Connection id "0HN0H90J8RKFG" started.
2024-01-09 21:21:16.230 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-09 21:21:16.241 +02:00 [DBG] Connection id "0HN0H90J8RKFG" stopped.
2024-01-09 21:21:16.245 +02:00 [DBG] Connection id "0HN0H90J8RKFG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-09 21:21:16.925 +02:00 [DBG] Connection id "0HN0H90J8RKFH" accepted.
2024-01-09 21:21:16.926 +02:00 [DBG] Connection id "0HN0H90J8RKFH" started.
2024-01-09 21:21:17.023 +02:00 [DBG] Connection 0HN0H90J8RKFH established using the following protocol: "Tls12"
2024-01-09 21:21:17.134 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-09 21:21:17.191 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-09 21:21:17.490 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-09 21:21:17.740 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-09 21:21:17.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-09 21:21:17.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-09 21:21:17.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 636.9463ms
2024-01-09 21:21:17.791 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 28.4353ms
2024-01-09 21:21:17.817 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.4905ms
2024-01-09 21:21:17.902 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-09 21:21:18.165 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 263.1417ms
2024-01-09 21:21:43.860 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7137/api/User/4 - -
2024-01-09 21:21:43.862 +02:00 [DBG] The request has an origin header: 'https://localhost:7137'.
2024-01-09 21:21:43.862 +02:00 [INF] CORS policy execution successful.
2024-01-09 21:21:43.872 +02:00 [DBG] DELETE requests are not supported
2024-01-09 21:21:43.875 +02:00 [DBG] DELETE requests are not supported
2024-01-09 21:21:43.933 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/4'
2024-01-09 21:21:43.933 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/4'
2024-01-09 21:21:43.934 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-09 21:21:43.934 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-09 21:21:43.971 +02:00 [INF] Route matched with {action = "DeleteUserById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUserByIdAsync(Int32) on controller WebApi.Controllers.UserController (WebApi).
2024-01-09 21:21:43.972 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-09 21:21:43.972 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-09 21:21:43.972 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-09 21:21:43.972 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-09 21:21:43.972 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-09 21:21:43.973 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 21:21:43.976 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 21:21:43.995 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-09 21:21:43.998 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-09 21:21:43.999 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-09 21:21:43.999 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-09 21:21:43.999 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-09 21:21:44.001 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-09 21:21:44.005 +02:00 [INF] DeleteUserById by user id: 4
2024-01-09 21:21:44.110 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .FirstOrDefault(d => d.Id == __userId_0)'
2024-01-09 21:21:44.280 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-09 21:21:44.661 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.FirstName (string) Required, 2], [Property: User.IsActive (bool) Required ValueGenerated.OnAdd, 3], [Property: User.LastName (string) Required, 4], [Property: User.Password (string) Required, 5], [Property: User.RoleId (int) Required FK Index, 6], [Property: User.Username (string) Required Index, 7] }
                1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Role.RoleType (string) Required, 9] }
            SELECT TOP(1) u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RoleId, u.Username, r.Id, r.RoleType
            FROM Users AS u
            INNER JOIN Roles AS r ON u.RoleId == r.Id
            WHERE u.Id == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        DataAccessLayer.InternshipContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-09 21:21:44.727 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:21:44.728 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:21:44.733 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-09 21:21:44.741 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:44.742 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:44.753 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-09 21:21:44.868 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Id] = @__userId_0
2024-01-09 21:21:44.908 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:21:44.953 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:21:44.961 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:21:44.973 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:44.978 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 109ms reading results.
2024-01-09 21:21:44.986 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:44.988 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-01-09 21:21:45.005 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:21:45.015 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-09 21:21:45.020 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-09 21:21:45.038 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-09 21:21:45.129 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:45.130 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:45.135 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:21:45.135 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:21:45.135 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:21:45.135 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-09 21:21:45.142 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-09 21:21:45.155 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:45.155 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 12ms reading results.
2024-01-09 21:21:45.157 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:21:45.157 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:21:45.167 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:21:45.170 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-09 21:21:45.175 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-09 21:21:45.179 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-09 21:21:45.179 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-09 21:21:45.179 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-09 21:21:45.180 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-01-09 21:21:45.180 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-09 21:21:45.187 +02:00 [INF] Executed action WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi) in 1210.3161ms
2024-01-09 21:21:45.193 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.DeleteUserByIdAsync (WebApi)'
2024-01-09 21:21:45.200 +02:00 [INF] HTTP DELETE /api/User/4 responded 200 in 1318.5160 ms
2024-01-09 21:21:45.215 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7137/api/User/4 - - - 200 - text/plain;+charset=utf-8 1355.2117ms
2024-01-09 21:22:15.048 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json-patch+json 193
2024-01-09 21:22:15.059 +02:00 [DBG] The request has an origin header: 'https://localhost:7137'.
2024-01-09 21:22:15.061 +02:00 [INF] CORS policy execution successful.
2024-01-09 21:22:15.064 +02:00 [DBG] POST requests are not supported
2024-01-09 21:22:15.064 +02:00 [DBG] POST requests are not supported
2024-01-09 21:22:15.067 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-09 21:22:15.067 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-09 21:22:15.067 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-09 21:22:15.067 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-09 21:22:15.070 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-09 21:22:15.070 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-09 21:22:15.070 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-09 21:22:15.070 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-09 21:22:15.070 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-09 21:22:15.070 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-09 21:22:15.070 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 21:22:15.071 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 21:22:15.071 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-09 21:22:15.072 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-09 21:22:15.073 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-09 21:22:15.073 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-09 21:22:15.098 +02:00 [DBG] Connection id "0HN0H90J8RKFH", Request id "0HN0H90J8RKFH:0000000B": started reading request body.
2024-01-09 21:22:15.099 +02:00 [DBG] Connection id "0HN0H90J8RKFH", Request id "0HN0H90J8RKFH:0000000B": done reading request body.
2024-01-09 21:22:15.268 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-09 21:22:15.268 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-09 21:22:15.268 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-09 21:22:15.279 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-09 21:22:15.317 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "Oana",
  "LastName": "Ghicajanu",
  "Email": "ghicajanuoana@gmail.com",
  "Username": "ghicajanuoana",
  "Password": "oana",
  "IsActive": true,
  "RoleId": 1
}
2024-01-09 21:22:15.323 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(l => l.Id != __id_0 && l.Username == __name_1)'
2024-01-09 21:22:15.334 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE (u.Id != @__id_0) && (u.Username == @__name_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-09 21:22:15.352 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:22:15.352 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:22:15.354 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-09 21:22:15.354 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:22:15.354 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:22:15.354 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-09 21:22:15.357 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-09 21:22:15.361 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:22:15.361 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-01-09 21:22:15.361 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:22:15.361 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:22:15.412 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:22:15.417 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:22:15.417 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-09 21:22:15.417 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-09 21:22:15.417 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-09 21:22:15.433 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:22:15.433 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:22:15.433 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:22:15.433 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:22:15.433 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:22:15.433 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-09 21:22:15.446 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-09 21:22:15.460 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-09 21:22:15.468 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:22:15.468 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 21ms reading results.
2024-01-09 21:22:15.468 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:22:15.468 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:22:15.471 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:22:15.472 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-09 21:22:15.472 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-09 21:22:15.472 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 402.4715ms
2024-01-09 21:22:15.472 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-09 21:22:15.472 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 408.7865 ms
2024-01-09 21:22:15.473 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json-patch+json 193 - 200 0 - 424.5827ms
2024-01-09 21:22:22.216 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getAll - -
2024-01-09 21:22:22.217 +02:00 [DBG] The request path  does not match the path filter
2024-01-09 21:22:22.217 +02:00 [DBG] The request path /api/User/getAll does not match a supported file type
2024-01-09 21:22:22.217 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getAll'
2024-01-09 21:22:22.217 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)' with route pattern 'api/User/getAll' is valid for the request path '/api/User/getAll'
2024-01-09 21:22:22.217 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getAll'
2024-01-09 21:22:22.217 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-09 21:22:22.217 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-09 21:22:22.220 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersAsync() on controller WebApi.Controllers.UserController (WebApi).
2024-01-09 21:22:22.221 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-09 21:22:22.221 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-09 21:22:22.221 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-09 21:22:22.221 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-09 21:22:22.221 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-09 21:22:22.221 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 21:22:22.223 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 21:22:22.223 +02:00 [INF] GetAllUsers
2024-01-09 21:22:22.232 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)'
2024-01-09 21:22:22.232 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-09 21:22:22.236 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.FirstName (string) Required, 2], [Property: User.IsActive (bool) Required ValueGenerated.OnAdd, 3], [Property: User.LastName (string) Required, 4], [Property: User.Password (string) Required, 5], [Property: User.RoleId (int) Required FK Index, 6], [Property: User.Username (string) Required Index, 7] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Role.RoleType (string) Required, 9] }
        SELECT u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RoleId, u.Username, r.Id, r.RoleType
        FROM Users AS u
        INNER JOIN Roles AS r ON u.RoleId == r.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-09 21:22:22.236 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:22:22.236 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:22:22.236 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:22:22.236 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:22:22.236 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:22:22.236 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-09 21:22:22.240 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleType]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
2024-01-09 21:22:22.240 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:22:22.240 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:22:22.241 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:22:22.242 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:22:22.242 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-09 21:22:22.242 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:22:22.242 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:22:22.243 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-09 21:22:22.243 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-09 21:22:22.243 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-09 21:22:22.243 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-09 21:22:22.243 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-09 21:22:22.243 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.UserGetDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-09 21:22:22.270 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersAsync (WebApi) in 49.4085ms
2024-01-09 21:22:22.270 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersAsync (WebApi)'
2024-01-09 21:22:22.270 +02:00 [INF] HTTP GET /api/User/getAll responded 200 in 53.3553 ms
2024-01-09 21:22:22.271 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getAll - - - 200 92 application/json;+charset=utf-8 54.3006ms
2024-01-09 21:29:33.445 +02:00 [INF] Application starting up
2024-01-09 21:29:34.176 +02:00 [DBG] Hosting starting
2024-01-09 21:29:34.210 +02:00 [INF] User profile is available. Using 'C:\Users\ghica\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-09 21:29:34.239 +02:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2024-01-09 21:29:34.240 +02:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2024-01-09 21:29:34.244 +02:00 [INF] Creating key {2e783963-e0bf-4c7c-ad04-83e5e4552b7e} with creation date 2024-01-09 19:29:34Z, activation date 2024-01-09 19:29:34Z, and expiration date 2024-04-08 19:29:34Z.
2024-01-09 21:29:34.251 +02:00 [DBG] Descriptor deserializer type for key {2e783963-e0bf-4c7c-ad04-83e5e4552b7e} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2024-01-09 21:29:34.256 +02:00 [DBG] No key escrow sink found. Not writing key {2e783963-e0bf-4c7c-ad04-83e5e4552b7e} to escrow.
2024-01-09 21:29:34.257 +02:00 [DBG] Encrypting to Windows DPAPI for local machine account.
2024-01-09 21:29:34.262 +02:00 [ERR] An error occurred while encrypting to Windows DPAPI.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
2024-01-09 21:29:34.285 +02:00 [ERR] An error occurred while reading the key ring.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.EncryptIfNecessary(IXmlEncryptor encryptor, XElement element)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.CreateNewKey(Guid keyId, DateTimeOffset creationDate, DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.CreateNewKey(DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
2024-01-09 21:29:34.285 +02:00 [INF] Key ring failed to load during application startup.
System.MissingMethodException: Method not found: 'Boolean Microsoft.AspNetCore.Cryptography.UnsafeNativeMethods.CryptProtectData(Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, Microsoft.AspNetCore.Cryptography.DATA_BLOB*, IntPtr, IntPtr, UInt32, Microsoft.AspNetCore.Cryptography.DATA_BLOB ByRef)'.
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapiCore(Byte* pbSecret, UInt32 cbSecret, Byte* pbOptionalEntropy, UInt32 cbOptionalEntropy, Boolean fLocalMachine)
   at Microsoft.AspNetCore.DataProtection.Cng.DpapiSecretSerializerHelper.ProtectWithDpapi(ISecret secret, Boolean protectToLocalMachine)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlEncryptor.Encrypt(XElement plaintextElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.EncryptIfNecessary(IXmlEncryptor encryptor, XElement element)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.CreateNewKey(Guid keyId, DateTimeOffset creationDate, DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.CreateNewKey(DateTimeOffset activationDate, DateTimeOffset expirationDate)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService.StartAsync(CancellationToken token)
2024-01-09 21:29:34.509 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-09 21:29:35.268 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-01-09 21:29:35.530 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2024-01-09 21:29:35.538 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 21:29:35.538 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 21:29:35.539 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 21:29:35.539 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 21:29:35.539 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-01-09 21:29:35.755 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-01-09 21:29:35.763 +02:00 [DBG] Creating DbConnection.
2024-01-09 21:29:35.770 +02:00 [DBG] Created DbConnection. (2ms).
2024-01-09 21:29:35.772 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:35.778 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.056 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.064 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-09 21:29:37.072 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-09 21:29:37.074 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-01-09 21:29:37.084 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-09 21:29:37.130 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-09 21:29:37.133 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.146 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (6ms).
2024-01-09 21:29:37.152 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-09 21:29:37.152 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-09 21:29:37.152 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-09 21:29:37.152 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.154 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.155 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-09 21:29:37.183 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-09 21:29:37.183 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.183 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:29:37.184 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.184 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.185 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-09 21:29:37.185 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-09 21:29:37.185 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-09 21:29:37.185 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-09 21:29:37.186 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-09 21:29:37.186 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.186 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:29:37.186 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-09 21:29:37.186 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-09 21:29:37.186 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-09 21:29:37.186 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.186 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.186 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-09 21:29:37.187 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-09 21:29:37.187 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.187 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:29:37.210 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:29:37.210 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:29:37.210 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:29:37.210 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.210 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.211 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-09 21:29:37.215 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-09 21:29:37.220 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.222 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-01-09 21:29:37.223 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:29:37.223 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:29:37.247 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-01-09 21:29:37.344 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-09 21:29:37.459 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-01-09 21:29:37.578 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2024-01-09 21:29:37.686 +02:00 [INF] Now listening on: https://localhost:7137
2024-01-09 21:29:37.686 +02:00 [INF] Now listening on: http://localhost:5275
2024-01-09 21:29:37.686 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-01-09 21:29:37.687 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-09 21:29:37.687 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-09 21:29:37.701 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-09 21:29:37.702 +02:00 [INF] Hosting environment: Development
2024-01-09 21:29:37.702 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2024-01-09 21:29:37.702 +02:00 [DBG] Hosting started
2024-01-09 21:29:37.825 +02:00 [DBG] Connection id "0HN0H958OPDK7" accepted.
2024-01-09 21:29:37.828 +02:00 [DBG] Connection id "0HN0H958OPDK7" started.
2024-01-09 21:29:37.846 +02:00 [DBG] Connection id "0HN0H958OPDK7" received FIN.
2024-01-09 21:29:37.858 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-09 21:29:37.872 +02:00 [DBG] Connection id "0HN0H958OPDK7" stopped.
2024-01-09 21:29:37.874 +02:00 [DBG] Connection id "0HN0H958OPDK7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-09 21:29:38.052 +02:00 [DBG] Connection id "0HN0H958OPDK8" accepted.
2024-01-09 21:29:38.061 +02:00 [DBG] Connection id "0HN0H958OPDK8" started.
2024-01-09 21:29:38.137 +02:00 [DBG] Connection 0HN0H958OPDK8 established using the following protocol: "Tls12"
2024-01-09 21:29:38.239 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-01-09 21:29:38.300 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-09 21:29:38.637 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-09 21:29:38.804 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-01-09 21:29:38.804 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-01-09 21:29:38.812 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-09 21:29:38.826 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 19.7986ms
2024-01-09 21:29:38.832 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 596.9869ms
2024-01-09 21:29:38.853 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.8601ms
2024-01-09 21:29:38.937 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-01-09 21:29:39.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 211.6988ms
2024-01-09 21:29:58.089 +02:00 [DBG] Connection id "0HN0H958OPDK8" received FIN.
2024-01-09 21:29:58.089 +02:00 [DBG] Connection id "0HN0H958OPDK8" is closed. The last processed stream ID was 7.
2024-01-09 21:29:58.089 +02:00 [DBG] Connection id "0HN0H958OPDK8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-09 21:29:58.095 +02:00 [DBG] Connection id "0HN0H958OPDK8" stopped.
2024-01-09 21:30:02.644 +02:00 [DBG] Connection id "0HN0H958OPDK9" accepted.
2024-01-09 21:30:02.645 +02:00 [DBG] Connection id "0HN0H958OPDK9" started.
2024-01-09 21:30:02.661 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-01-09 21:30:02.662 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-09 21:30:02.663 +02:00 [INF] CORS policy execution successful.
2024-01-09 21:30:02.668 +02:00 [DBG] The request path  does not match the path filter
2024-01-09 21:30:02.672 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-01-09 21:30:02.726 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-01-09 21:30:02.726 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-01-09 21:30:02.727 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-01-09 21:30:02.776 +02:00 [DBG] New connection SSIRwmVIf0PEe_8s2Y8FBQ created.
2024-01-09 21:30:02.789 +02:00 [DBG] Establishing new connection.
2024-01-09 21:30:02.797 +02:00 [DBG] OnConnectedAsync started.
2024-01-09 21:30:02.812 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-01-09 21:30:02.842 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-01-09 21:30:02.848 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-01-09 21:30:02.894 +02:00 [DBG] Received hub invocation: InvocationMessage { InvocationId: "0", Target: "GetUnreadAlertCount", Arguments: [  ], StreamIds: [  ] }.
2024-01-09 21:30:03.036 +02:00 [DBG] Compiling query expression: 
'DbSet<DeviceReading>()
    .Where(d => !(d.IsAlertRead) && d.AlertType != null)
    .Count()'
2024-01-09 21:30:03.457 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM DeviceReadings AS d
            WHERE Not(d.IsAlertRead) && (d.AlertType != NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccessLayer.InternshipContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-09 21:30:03.534 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:30:03.534 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:30:03.535 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:30:03.547 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:03.548 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:03.550 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-09 21:30:03.611 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DeviceReadings] AS [d]
WHERE [d].[IsAlertRead] = CAST(0 AS bit) AND ([d].[AlertType] IS NOT NULL)
2024-01-09 21:30:03.638 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:03.639 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 28ms reading results.
2024-01-09 21:30:03.645 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:03.646 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:30:06.102 +02:00 [DBG] Connection id "0HN0H958OPDKA" accepted.
2024-01-09 21:30:06.103 +02:00 [DBG] Connection id "0HN0H958OPDKA" started.
2024-01-09 21:30:06.109 +02:00 [DBG] Connection 0HN0H958OPDKA established using the following protocol: "Tls12"
2024-01-09 21:30:06.112 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-09 21:30:06.112 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-09 21:30:06.112 +02:00 [INF] CORS policy execution successful.
2024-01-09 21:30:06.113 +02:00 [DBG] The request is a preflight request.
2024-01-09 21:30:06.114 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 2.3140ms
2024-01-09 21:30:06.117 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-09 21:30:06.117 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-09 21:30:06.117 +02:00 [INF] CORS policy execution successful.
2024-01-09 21:30:06.117 +02:00 [DBG] The request path  does not match the path filter
2024-01-09 21:30:06.117 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-09 21:30:06.118 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-09 21:30:06.119 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-09 21:30:06.119 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-09 21:30:06.119 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-09 21:30:06.119 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-09 21:30:06.157 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-09 21:30:06.158 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-09 21:30:06.158 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-09 21:30:06.159 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-09 21:30:06.159 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-09 21:30:06.159 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-09 21:30:06.160 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 21:30:06.163 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 21:30:06.175 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-09 21:30:06.178 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-09 21:30:06.183 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-09 21:30:06.184 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-09 21:30:06.186 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-09 21:30:06.186 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-09 21:30:06.186 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-09 21:30:06.186 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-09 21:30:06.186 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-09 21:30:06.187 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-09 21:30:06.187 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-09 21:30:06.187 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-09 21:30:06.188 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-09 21:30:06.188 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-09 21:30:06.188 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-09 21:30:06.188 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-09 21:30:06.188 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-09 21:30:06.189 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-09 21:30:06.189 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-09 21:30:06.189 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-09 21:30:06.189 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-09 21:30:06.189 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-09 21:30:06.189 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-09 21:30:06.200 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-09 21:30:06.348 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-09 21:30:06.362 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Count()'
2024-01-09 21:30:06.379 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Users AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-09 21:30:06.382 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:30:06.382 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:30:06.382 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:30:06.382 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:06.382 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:06.382 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-09 21:30:06.385 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-09 21:30:06.386 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:06.386 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-09 21:30:06.386 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:06.386 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:30:06.392 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(d => d.Role)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .OrderBy(d => d.Username)
    .Skip(__p_0)
    .Take(__p_1)'
2024-01-09 21:30:06.423 +02:00 [DBG] Including navigation: 'User.Role'.
2024-01-09 21:30:06.544 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.FirstName (string) Required, 2], [Property: User.IsActive (bool) Required ValueGenerated.OnAdd, 3], [Property: User.LastName (string) Required, 4], [Property: User.Password (string) Required, 5], [Property: User.RoleId (int) Required FK Index, 6], [Property: User.Username (string) Required Index, 7] }
            1 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Role.RoleType (string) Required, 9] }
        SELECT t.Id, t.Email, t.FirstName, t.IsActive, t.LastName, t.Password, t.RoleId, t.Username, r.Id, r.RoleType
        FROM 
        (
            SELECT u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RoleId, u.Username
            FROM Users AS u
            ORDER BY u.Username ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Roles AS r ON t.RoleId == r.Id
        ORDER BY t.Username ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-09 21:30:06.554 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:30:06.555 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:30:06.558 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-09 21:30:06.559 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:06.559 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:06.566 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-09 21:30:06.627 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-09 21:30:06.657 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:30:06.710 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:30:06.721 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:30:06.725 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:06.727 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 99ms reading results.
2024-01-09 21:30:06.727 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:06.727 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:30:06.735 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-09 21:30:06.738 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-09 21:30:06.738 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-09 21:30:06.738 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-09 21:30:06.738 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-09 21:30:06.739 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-09 21:30:06.782 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 618.8165ms
2024-01-09 21:30:06.784 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-09 21:30:06.787 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 666.9533 ms
2024-01-09 21:30:06.788 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 195 application/json;+charset=utf-8 670.5602ms
2024-01-09 21:30:08.100 +02:00 [DBG] Connection id "0HN0H958OPDKA" received FIN.
2024-01-09 21:30:08.100 +02:00 [DBG] Connection id "0HN0H958OPDKA" is closed. The last processed stream ID was 3.
2024-01-09 21:30:08.100 +02:00 [DBG] Connection id "0HN0H958OPDKA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-09 21:30:08.108 +02:00 [DBG] Connection id "0HN0H958OPDKA" stopped.
2024-01-09 21:30:14.830 +02:00 [DBG] Connection id "0HN0H958OPDKB" accepted.
2024-01-09 21:30:14.831 +02:00 [DBG] Connection id "0HN0H958OPDKB" started.
2024-01-09 21:30:14.833 +02:00 [DBG] Connection 0HN0H958OPDKB established using the following protocol: "Tls12"
2024-01-09 21:30:14.834 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - -
2024-01-09 21:30:14.834 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-09 21:30:14.834 +02:00 [INF] CORS policy execution successful.
2024-01-09 21:30:14.834 +02:00 [DBG] The request is a preflight request.
2024-01-09 21:30:14.835 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/role/getAll - - - 204 - - 0.9057ms
2024-01-09 21:30:14.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/role/getAll application/json -
2024-01-09 21:30:14.841 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-09 21:30:14.841 +02:00 [INF] CORS policy execution successful.
2024-01-09 21:30:14.841 +02:00 [DBG] The request path  does not match the path filter
2024-01-09 21:30:14.841 +02:00 [DBG] The request path /api/role/getAll does not match a supported file type
2024-01-09 21:30:14.844 +02:00 [DBG] 1 candidate(s) found for the request path '/api/role/getAll'
2024-01-09 21:30:14.844 +02:00 [DBG] Endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)' with route pattern 'api/Role/getAll' is valid for the request path '/api/role/getAll'
2024-01-09 21:30:14.844 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-09 21:30:14.844 +02:00 [INF] Executing endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-09 21:30:14.849 +02:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRoles() on controller WebApi.Controllers.RoleController (WebApi).
2024-01-09 21:30:14.849 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-09 21:30:14.849 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-09 21:30:14.849 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-09 21:30:14.850 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-09 21:30:14.850 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-09 21:30:14.850 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-09 21:30:14.850 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.RoleController (WebApi)
2024-01-09 21:30:14.851 +02:00 [INF] GetAllRoles
2024-01-09 21:30:14.853 +02:00 [DBG] Compiling query expression: 
'DbSet<Role>()'
2024-01-09 21:30:14.855 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Role>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.RoleType (string) Required, 1] }
        SELECT r.Id, r.RoleType
        FROM Roles AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2024-01-09 21:30:14.855 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:30:14.855 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:30:14.856 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:30:14.856 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:14.856 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:14.856 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-09 21:30:14.859 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[RoleType]
FROM [Roles] AS [r]
2024-01-09 21:30:14.859 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:30:14.859 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:30:14.859 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:30:14.859 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:30:14.860 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:14.860 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-09 21:30:14.860 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:30:14.860 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:30:14.860 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-09 21:30:14.860 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-09 21:30:14.860 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-09 21:30:14.860 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-09 21:30:14.860 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-09 21:30:14.860 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.RoleDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-09 21:30:14.862 +02:00 [INF] Executed action WebApi.Controllers.RoleController.GetAllRoles (WebApi) in 12.5484ms
2024-01-09 21:30:14.863 +02:00 [INF] Executed endpoint 'WebApi.Controllers.RoleController.GetAllRoles (WebApi)'
2024-01-09 21:30:14.863 +02:00 [INF] HTTP GET /api/role/getAll responded 200 in 21.7204 ms
2024-01-09 21:30:14.863 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/role/getAll application/json - - 200 118 application/json;+charset=utf-8 22.6606ms
2024-01-09 21:30:18.108 +02:00 [DBG] Connection id "0HN0H958OPDKB" received FIN.
2024-01-09 21:30:18.108 +02:00 [DBG] Connection id "0HN0H958OPDKB" is closed. The last processed stream ID was 3.
2024-01-09 21:30:18.108 +02:00 [DBG] Connection id "0HN0H958OPDKB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-09 21:30:18.118 +02:00 [DBG] Connection id "0HN0H958OPDKB" stopped.
2024-01-09 21:32:16.313 +02:00 [DBG] Connection id "0HN0H958OPDKC" accepted.
2024-01-09 21:32:16.313 +02:00 [DBG] Connection id "0HN0H958OPDKC" started.
2024-01-09 21:32:16.315 +02:00 [DBG] Connection 0HN0H958OPDKC established using the following protocol: "Tls12"
2024-01-09 21:32:16.317 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - -
2024-01-09 21:32:16.317 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-09 21:32:16.317 +02:00 [INF] CORS policy execution successful.
2024-01-09 21:32:16.317 +02:00 [DBG] The request is a preflight request.
2024-01-09 21:32:16.318 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/addUser - - - 204 - - 0.9846ms
2024-01-09 21:32:16.324 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/addUser application/json 163
2024-01-09 21:32:16.324 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-09 21:32:16.324 +02:00 [INF] CORS policy execution successful.
2024-01-09 21:32:16.324 +02:00 [DBG] POST requests are not supported
2024-01-09 21:32:16.324 +02:00 [DBG] POST requests are not supported
2024-01-09 21:32:16.326 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/addUser'
2024-01-09 21:32:16.326 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)' with route pattern 'api/User/addUser' is valid for the request path '/api/User/addUser'
2024-01-09 21:32:16.326 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-09 21:32:16.326 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-09 21:32:16.329 +02:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAsync(BusinessLogicLayer.DTOs.UserDto) on controller WebApi.Controllers.UserController (WebApi).
2024-01-09 21:32:16.329 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-09 21:32:16.329 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-09 21:32:16.329 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-09 21:32:16.329 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-09 21:32:16.329 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-09 21:32:16.329 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 21:32:16.329 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 21:32:16.329 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-09 21:32:16.330 +02:00 [DBG] Attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' using the name '' in request data ...
2024-01-09 21:32:16.332 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-09 21:32:16.332 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-09 21:32:16.341 +02:00 [DBG] Connection id "0HN0H958OPDKC", Request id "0HN0H958OPDKC:00000003": started reading request body.
2024-01-09 21:32:16.342 +02:00 [DBG] Connection id "0HN0H958OPDKC", Request id "0HN0H958OPDKC:00000003": done reading request body.
2024-01-09 21:32:16.404 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-09 21:32:16.404 +02:00 [DBG] Done attempting to bind parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-09 21:32:16.404 +02:00 [DBG] Attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto' ...
2024-01-09 21:32:16.405 +02:00 [DBG] Done attempting to validate the bound parameter 'userDto' of type 'BusinessLogicLayer.DTOs.UserDto'.
2024-01-09 21:32:16.407 +02:00 [INF] AddUser for {
  "UserId": 0,
  "FirstName": "Mihaela",
  "LastName": "Ghicajanu",
  "Email": "ghicajanumihaela@gmail.com",
  "Username": "mihaela",
  "Password": "mihaela",
  "IsActive": true,
  "RoleId": 2
}
2024-01-09 21:32:16.413 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(l => l.Id != __id_0 && l.Username == __name_1)'
2024-01-09 21:32:16.419 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE (u.Id != @__id_0) && (u.Username == @__name_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-01-09 21:32:16.426 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:32:16.426 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:32:16.427 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:32:16.427 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.427 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.427 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-09 21:32:16.431 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32), @__name_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] <> @__id_0 AND [u].[Username] = @__name_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-09 21:32:16.432 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.432 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-09 21:32:16.432 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.432 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:32:16.482 +02:00 [DBG] 'InternshipContext' generated a temporary value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:32:16.491 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:32:16.499 +02:00 [DBG] SaveChanges starting for 'InternshipContext'.
2024-01-09 21:32:16.502 +02:00 [DBG] DetectChanges starting for 'InternshipContext'.
2024-01-09 21:32:16.516 +02:00 [DBG] DetectChanges completed for 'InternshipContext'.
2024-01-09 21:32:16.616 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.616 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.621 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:32:16.621 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:32:16.621 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:32:16.621 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-09 21:32:16.645 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FirstName], [IsActive], [LastName], [Password], [RoleId], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-09 21:32:16.663 +02:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-09 21:32:16.673 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.673 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 28ms reading results.
2024-01-09 21:32:16.675 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.675 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:32:16.689 +02:00 [DBG] An entity of type 'User' tracked by 'InternshipContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:32:16.692 +02:00 [DBG] SaveChanges completed for 'InternshipContext' with 1 entities written to the database.
2024-01-09 21:32:16.693 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-09 21:32:16.693 +02:00 [INF] Executed action WebApi.Controllers.UserController.AddUserAsync (WebApi) in 364.2972ms
2024-01-09 21:32:16.693 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.AddUserAsync (WebApi)'
2024-01-09 21:32:16.693 +02:00 [INF] HTTP POST /api/User/addUser responded 200 in 368.7815 ms
2024-01-09 21:32:16.693 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/addUser application/json 163 - 200 0 - 370.5772ms
2024-01-09 21:32:16.714 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - -
2024-01-09 21:32:16.714 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-09 21:32:16.714 +02:00 [INF] CORS policy execution successful.
2024-01-09 21:32:16.714 +02:00 [DBG] The request is a preflight request.
2024-01-09 21:32:16.715 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.3007ms
2024-01-09 21:32:16.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json -
2024-01-09 21:32:16.716 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-09 21:32:16.717 +02:00 [INF] CORS policy execution successful.
2024-01-09 21:32:16.717 +02:00 [DBG] The request path  does not match the path filter
2024-01-09 21:32:16.717 +02:00 [DBG] The request path /api/User/getUsersPagedAndFiltered does not match a supported file type
2024-01-09 21:32:16.717 +02:00 [DBG] 2 candidate(s) found for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-09 21:32:16.717 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)' with route pattern 'api/User/getUsersPagedAndFiltered' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-09 21:32:16.717 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.GetUserByIdAsync (WebApi)' with route pattern 'api/User/{id}' is valid for the request path '/api/User/getUsersPagedAndFiltered'
2024-01-09 21:32:16.717 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-09 21:32:16.717 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-09 21:32:16.717 +02:00 [INF] Route matched with {action = "GetAllUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsersPagedAsync(Common.UserParameters) on controller WebApi.Controllers.UserController (WebApi).
2024-01-09 21:32:16.717 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-09 21:32:16.717 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-09 21:32:16.717 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-09 21:32:16.717 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-09 21:32:16.717 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-09 21:32:16.717 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 21:32:16.719 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-01-09 21:32:16.720 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-09 21:32:16.720 +02:00 [DBG] Attempting to bind parameter 'userParameters' of type 'Common.UserParameters' using the name '' in request data ...
2024-01-09 21:32:16.720 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.Username' of type 'System.String' using the name 'Username' in request data ...
2024-01-09 21:32:16.720 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.Username' of type 'System.String'.
2024-01-09 21:32:16.720 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]' using the name 'IsActive' in request data ...
2024-01-09 21:32:16.720 +02:00 [DBG] Could not find a value in the request with name 'IsActive' for binding property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-09 21:32:16.720 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.IsActive' of type 'System.Nullable`1[System.Boolean]'.
2024-01-09 21:32:16.720 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]' using the name 'RoleId' in request data ...
2024-01-09 21:32:16.720 +02:00 [DBG] Could not find a value in the request with name 'RoleId' for binding property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-09 21:32:16.720 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.RoleId' of type 'System.Nullable`1[System.Int32]'.
2024-01-09 21:32:16.720 +02:00 [DBG] Attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-01-09 21:32:16.720 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-01-09 21:32:16.720 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-01-09 21:32:16.720 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-01-09 21:32:16.720 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-01-09 21:32:16.720 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-01-09 21:32:16.720 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-01-09 21:32:16.720 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-01-09 21:32:16.720 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-01-09 21:32:16.721 +02:00 [DBG] Done attempting to bind property 'Common.UserParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-01-09 21:32:16.721 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-09 21:32:16.721 +02:00 [DBG] Done attempting to bind parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-09 21:32:16.721 +02:00 [DBG] Attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters' ...
2024-01-09 21:32:16.721 +02:00 [DBG] Done attempting to validate the bound parameter 'userParameters' of type 'Common.UserParameters'.
2024-01-09 21:32:16.721 +02:00 [INF] GetAllUsersPaged for {
  "Username": null,
  "IsActive": null,
  "RoleId": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Username",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-01-09 21:32:16.727 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:32:16.727 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:32:16.727 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:32:16.727 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.727 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.727 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-09 21:32:16.729 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2024-01-09 21:32:16.730 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.730 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-01-09 21:32:16.730 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.730 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:32:16.732 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-09 21:32:16.732 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:32:16.732 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-09 21:32:16.732 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.732 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.732 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-09 21:32:16.736 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Email], [t].[FirstName], [t].[IsActive], [t].[LastName], [t].[Password], [t].[RoleId], [t].[Username], [r].[Id], [r].[RoleType]
FROM (
    SELECT [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    ORDER BY [u].[Username]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Roles] AS [r] ON [t].[RoleId] = [r].[Id]
ORDER BY [t].[Username]
2024-01-09 21:32:16.737 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:32:16.737 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:32:16.738 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:32:16.738 +02:00 [DBG] Context 'InternshipContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:32:16.738 +02:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:32:16.738 +02:00 [DBG] Context 'InternshipContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-09 21:32:16.738 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.738 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-01-09 21:32:16.738 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-01-09 21:32:16.739 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-01-09 21:32:16.739 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-09 21:32:16.739 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-09 21:32:16.739 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-09 21:32:16.739 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-09 21:32:16.739 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-09 21:32:16.739 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.UserInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-09 21:32:16.740 +02:00 [INF] Executed action WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi) in 22.4405ms
2024-01-09 21:32:16.740 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.GetAllUsersPagedAsync (WebApi)'
2024-01-09 21:32:16.740 +02:00 [INF] HTTP GET /api/User/getUsersPagedAndFiltered responded 200 in 23.3161 ms
2024-01-09 21:32:16.740 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/User/getUsersPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&username=&pagingFilteringParameters.orderBy=Username&pagingFilteringParameters.orderDescending=false application/json - - 200 279 application/json;+charset=utf-8 24.0454ms
2024-01-09 21:32:24.991 +02:00 [DBG] Connection id "0HN0H958OPDK9" received FIN.
2024-01-09 21:32:24.991 +02:00 [DBG] Connection id "0HN0H958OPDK9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-09 21:32:24.991 +02:00 [DBG] Connection id "0HN0H958OPDK9" disconnecting.
2024-01-09 21:32:24.994 +02:00 [DBG] Waiting for the application to finish sending data.
2024-01-09 21:32:25.000 +02:00 [DBG] Socket closed.
2024-01-09 21:32:25.020 +02:00 [DBG] OnConnectedAsync ending.
2024-01-09 21:32:25.030 +02:00 [DBG] Removing connection SSIRwmVIf0PEe_8s2Y8FBQ from the list of connections.
2024-01-09 21:32:25.038 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-01-09 21:32:25.038 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 142364.1099 ms
2024-01-09 21:32:25.038 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 142377.2872ms
2024-01-09 21:32:25.038 +02:00 [DBG] Connection id "0HN0H958OPDK9" stopped.
