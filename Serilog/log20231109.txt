2023-11-09 19:24:06.453 +02:00 [INF] Application starting up
2023-11-09 19:24:07.376 +02:00 [DBG] Hosting starting
2023-11-09 19:24:07.806 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-09 19:24:08.555 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2023-11-09 19:24:08.828 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2023-11-09 19:24:08.840 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-11-09 19:24:08.840 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-11-09 19:24:08.840 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-11-09 19:24:08.840 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-11-09 19:24:08.840 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-11-09 19:24:09.114 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'InternshipContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2023-11-09 19:24:09.121 +02:00 [DBG] Creating DbConnection.
2023-11-09 19:24:09.128 +02:00 [DBG] Created DbConnection. (2ms).
2023-11-09 19:24:09.130 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.141 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.149 +02:00 [DBG] An error occurred using the connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.150 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.150 +02:00 [DBG] An error occurred using the connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.169 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2023-11-09 19:24:09.207 +02:00 [WRN] The 'bool' property 'IsActive' on entity type 'User' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
2023-11-09 19:24:09.207 +02:00 [WRN] No store type was specified for the decimal property 'ValueRead' on entity type 'DeviceReading'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-11-09 19:24:09.207 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-11-09 19:24:09.207 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-11-09 19:24:09.207 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-11-09 19:24:09.207 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2023-11-09 19:24:09.268 +02:00 [DBG] Creating DbConnection.
2023-11-09 19:24:09.268 +02:00 [DBG] Created DbConnection. (0ms).
2023-11-09 19:24:09.268 +02:00 [DBG] Opening connection to database 'master' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.294 +02:00 [DBG] Opened connection to database 'master' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.305 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:09.312 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2023-11-09 19:24:09.315 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2023-11-09 19:24:09.323 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [InternshipDB];
2023-11-09 19:24:09.617 +02:00 [INF] Executed DbCommand (294ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [InternshipDB];
2023-11-09 19:24:09.619 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:09.619 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:09.619 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:09.619 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [InternshipDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-11-09 19:24:09.695 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [InternshipDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-11-09 19:24:09.698 +02:00 [DBG] Closing connection to database 'master' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.711 +02:00 [DBG] Closed connection to database 'master' on server '(LocalDb)\MSSQLLocalDB' (8ms).
2023-11-09 19:24:09.717 +02:00 [DBG] Disposing connection to database 'master' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.719 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-11-09 19:24:09.719 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.784 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.785 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:09.785 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:09.785 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:09.785 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-09 19:24:09.792 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-09 19:24:09.792 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.792 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:09.904 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:09.904 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:09.904 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:09.904 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.905 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.905 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-11-09 19:24:09.913 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-11-09 19:24:09.913 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.913 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:09.914 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.914 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.914 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:09.914 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:09.914 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:09.914 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-09 19:24:09.915 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-11-09 19:24:09.915 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.915 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:09.920 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-09 19:24:09.920 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-09 19:24:09.920 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-09 19:24:09.920 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.920 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.921 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-09 19:24:09.956 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-11-09 19:24:09.956 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.957 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:09.960 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-09 19:24:09.960 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-09 19:24:09.960 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-09 19:24:09.960 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.960 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.961 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-11-09 19:24:09.967 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-11-09 19:24:09.971 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.974 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2023-11-09 19:24:09.974 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:09.974 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.008 +02:00 [INF] Applying migration '20221219120907_InitialMigration'.
2023-11-09 19:24:10.078 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.078 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.082 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.100 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.101 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.101 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.102 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-11-09 19:24:10.103 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DeviceTypes] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_DeviceTypes] PRIMARY KEY ([Id])
);
2023-11-09 19:24:10.106 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DeviceTypes] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_DeviceTypes] PRIMARY KEY ([Id])
);
2023-11-09 19:24:10.107 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.107 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.107 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.107 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Locations] (
    [LocationId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Latitude] float NOT NULL,
    [Longitude] float NOT NULL,
    [EmailAlertsActive] bit NOT NULL,
    [EmailRecipient] nvarchar(max) NOT NULL,
    [ContactEmail] nvarchar(max) NOT NULL,
    [Address] nvarchar(max) NOT NULL,
    [City] nvarchar(max) NOT NULL,
    [Country] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Locations] PRIMARY KEY ([LocationId])
);
2023-11-09 19:24:10.111 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Locations] (
    [LocationId] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Latitude] float NOT NULL,
    [Longitude] float NOT NULL,
    [EmailAlertsActive] bit NOT NULL,
    [EmailRecipient] nvarchar(max) NOT NULL,
    [ContactEmail] nvarchar(max) NOT NULL,
    [Address] nvarchar(max) NOT NULL,
    [City] nvarchar(max) NOT NULL,
    [Country] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Locations] PRIMARY KEY ([LocationId])
);
2023-11-09 19:24:10.111 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.111 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.111 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.111 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Devices] (
    [DeviceId] int NOT NULL IDENTITY,
    [SerialNumber] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [SoftwareVersion] nvarchar(max) NOT NULL,
    [FirmwareVersion] nvarchar(max) NOT NULL,
    [LastUploadTime] datetime2 NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Alias] nvarchar(max) NOT NULL,
    [LocationId] int NOT NULL,
    [DeviceTypeId] int NOT NULL,
    [ImagePath] nvarchar(max) NOT NULL,
    [Emails] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Devices] PRIMARY KEY ([DeviceId]),
    CONSTRAINT [FK_Devices_DeviceTypes_DeviceTypeId] FOREIGN KEY ([DeviceTypeId]) REFERENCES [DeviceTypes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Devices_Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [Locations] ([LocationId]) ON DELETE CASCADE
);
2023-11-09 19:24:10.114 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Devices] (
    [DeviceId] int NOT NULL IDENTITY,
    [SerialNumber] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [SoftwareVersion] nvarchar(max) NOT NULL,
    [FirmwareVersion] nvarchar(max) NOT NULL,
    [LastUploadTime] datetime2 NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Alias] nvarchar(max) NOT NULL,
    [LocationId] int NOT NULL,
    [DeviceTypeId] int NOT NULL,
    [ImagePath] nvarchar(max) NOT NULL,
    [Emails] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Devices] PRIMARY KEY ([DeviceId]),
    CONSTRAINT [FK_Devices_DeviceTypes_DeviceTypeId] FOREIGN KEY ([DeviceTypeId]) REFERENCES [DeviceTypes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Devices_Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [Locations] ([LocationId]) ON DELETE CASCADE
);
2023-11-09 19:24:10.114 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.114 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.114 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.114 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DeviceTestDatas] (
    [DeviceTestDataId] int NOT NULL IDENTITY,
    [DeviceId] int NOT NULL,
    [TestName] nvarchar(max) NOT NULL,
    [Value] decimal(18,2) NOT NULL,
    [Unit] int NOT NULL,
    [TestDate] datetime2 NOT NULL,
    [Duration] int NOT NULL,
    [Succeeded] bit NOT NULL,
    CONSTRAINT [PK_DeviceTestDatas] PRIMARY KEY ([DeviceTestDataId]),
    CONSTRAINT [FK_DeviceTestDatas_Devices_DeviceId] FOREIGN KEY ([DeviceId]) REFERENCES [Devices] ([DeviceId]) ON DELETE CASCADE
);
2023-11-09 19:24:10.117 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DeviceTestDatas] (
    [DeviceTestDataId] int NOT NULL IDENTITY,
    [DeviceId] int NOT NULL,
    [TestName] nvarchar(max) NOT NULL,
    [Value] decimal(18,2) NOT NULL,
    [Unit] int NOT NULL,
    [TestDate] datetime2 NOT NULL,
    [Duration] int NOT NULL,
    [Succeeded] bit NOT NULL,
    CONSTRAINT [PK_DeviceTestDatas] PRIMARY KEY ([DeviceTestDataId]),
    CONSTRAINT [FK_DeviceTestDatas_Devices_DeviceId] FOREIGN KEY ([DeviceId]) REFERENCES [Devices] ([DeviceId]) ON DELETE CASCADE
);
2023-11-09 19:24:10.117 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.117 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.117 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.117 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Devices_DeviceTypeId] ON [Devices] ([DeviceTypeId]);
2023-11-09 19:24:10.118 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Devices_DeviceTypeId] ON [Devices] ([DeviceTypeId]);
2023-11-09 19:24:10.118 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.118 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.118 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.118 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Devices_LocationId] ON [Devices] ([LocationId]);
2023-11-09 19:24:10.118 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Devices_LocationId] ON [Devices] ([LocationId]);
2023-11-09 19:24:10.118 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.118 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.118 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.118 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DeviceTestDatas_DeviceId] ON [DeviceTestDatas] ([DeviceId]);
2023-11-09 19:24:10.119 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DeviceTestDatas_DeviceId] ON [DeviceTestDatas] ([DeviceId]);
2023-11-09 19:24:10.119 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.119 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.119 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.119 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221219120907_InitialMigration', N'7.0.1');
2023-11-09 19:24:10.122 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221219120907_InitialMigration', N'7.0.1');
2023-11-09 19:24:10.124 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.132 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.135 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.135 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.135 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.135 +02:00 [INF] Applying migration '20221220092320_added-phone-to-location-table'.
2023-11-09 19:24:10.154 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.154 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.154 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.155 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.155 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.155 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.155 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.155 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Locations] ADD [Phone] nvarchar(max) NULL;
2023-11-09 19:24:10.157 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Locations] ADD [Phone] nvarchar(max) NULL;
2023-11-09 19:24:10.157 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.157 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.157 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.157 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221220092320_added-phone-to-location-table', N'7.0.1');
2023-11-09 19:24:10.158 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221220092320_added-phone-to-location-table', N'7.0.1');
2023-11-09 19:24:10.158 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.159 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.159 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.159 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.159 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.159 +02:00 [INF] Applying migration '20221221135950_devicehasnullablefields'.
2023-11-09 19:24:10.187 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.187 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.187 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.187 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.187 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.188 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.188 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.188 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Locations]') AND [c].[name] = N'EmailRecipient');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Locations] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Locations] ALTER COLUMN [EmailRecipient] nvarchar(max) NULL;
2023-11-09 19:24:10.274 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Locations]') AND [c].[name] = N'EmailRecipient');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Locations] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Locations] ALTER COLUMN [EmailRecipient] nvarchar(max) NULL;
2023-11-09 19:24:10.274 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.274 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.274 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.274 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Locations]') AND [c].[name] = N'ContactEmail');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Locations] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Locations] ALTER COLUMN [ContactEmail] nvarchar(max) NULL;
2023-11-09 19:24:10.285 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Locations]') AND [c].[name] = N'ContactEmail');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Locations] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Locations] ALTER COLUMN [ContactEmail] nvarchar(max) NULL;
2023-11-09 19:24:10.285 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.285 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.285 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.285 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'SoftwareVersion');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Devices] ALTER COLUMN [SoftwareVersion] nvarchar(max) NULL;
2023-11-09 19:24:10.310 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'SoftwareVersion');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Devices] ALTER COLUMN [SoftwareVersion] nvarchar(max) NULL;
2023-11-09 19:24:10.310 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.310 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.310 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.310 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'LastUploadTime');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Devices] ALTER COLUMN [LastUploadTime] datetime2 NULL;
2023-11-09 19:24:10.324 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'LastUploadTime');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Devices] ALTER COLUMN [LastUploadTime] datetime2 NULL;
2023-11-09 19:24:10.324 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.324 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.324 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.324 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'ImagePath');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [Devices] ALTER COLUMN [ImagePath] nvarchar(max) NULL;
2023-11-09 19:24:10.335 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'ImagePath');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [Devices] ALTER COLUMN [ImagePath] nvarchar(max) NULL;
2023-11-09 19:24:10.335 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.335 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.335 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.335 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'FirmwareVersion');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Devices] ALTER COLUMN [FirmwareVersion] nvarchar(max) NULL;
2023-11-09 19:24:10.346 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'FirmwareVersion');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Devices] ALTER COLUMN [FirmwareVersion] nvarchar(max) NULL;
2023-11-09 19:24:10.346 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.346 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.347 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.347 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'Emails');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Devices] ALTER COLUMN [Emails] nvarchar(max) NULL;
2023-11-09 19:24:10.357 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'Emails');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Devices] ALTER COLUMN [Emails] nvarchar(max) NULL;
2023-11-09 19:24:10.357 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.357 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.357 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.357 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'Alias');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Devices] ALTER COLUMN [Alias] nvarchar(max) NULL;
2023-11-09 19:24:10.369 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'Alias');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Devices] ALTER COLUMN [Alias] nvarchar(max) NULL;
2023-11-09 19:24:10.369 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.369 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.369 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.369 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221221135950_devicehasnullablefields', N'7.0.1');
2023-11-09 19:24:10.370 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221221135950_devicehasnullablefields', N'7.0.1');
2023-11-09 19:24:10.370 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.370 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.370 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.370 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.370 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.371 +02:00 [INF] Applying migration '20221222112754_make-latitude-and-longitude-nullable'.
2023-11-09 19:24:10.389 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.389 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.389 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.389 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.389 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.389 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.389 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.389 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Locations]') AND [c].[name] = N'Longitude');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Locations] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [Locations] ALTER COLUMN [Longitude] float NULL;
2023-11-09 19:24:10.423 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Locations]') AND [c].[name] = N'Longitude');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Locations] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [Locations] ALTER COLUMN [Longitude] float NULL;
2023-11-09 19:24:10.423 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.423 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.423 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.423 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Locations]') AND [c].[name] = N'Latitude');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Locations] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Locations] ALTER COLUMN [Latitude] float NULL;
2023-11-09 19:24:10.433 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Locations]') AND [c].[name] = N'Latitude');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Locations] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Locations] ALTER COLUMN [Latitude] float NULL;
2023-11-09 19:24:10.433 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.434 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.434 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.434 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Locations]') AND [c].[name] = N'EmailRecipient');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Locations] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Locations] ALTER COLUMN [EmailRecipient] nvarchar(max) NULL;
2023-11-09 19:24:10.443 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Locations]') AND [c].[name] = N'EmailRecipient');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Locations] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Locations] ALTER COLUMN [EmailRecipient] nvarchar(max) NULL;
2023-11-09 19:24:10.444 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.444 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.444 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.444 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Locations]') AND [c].[name] = N'ContactEmail');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Locations] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [Locations] ALTER COLUMN [ContactEmail] nvarchar(max) NULL;
2023-11-09 19:24:10.453 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Locations]') AND [c].[name] = N'ContactEmail');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Locations] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [Locations] ALTER COLUMN [ContactEmail] nvarchar(max) NULL;
2023-11-09 19:24:10.454 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.454 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.454 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.454 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221222112754_make-latitude-and-longitude-nullable', N'7.0.1');
2023-11-09 19:24:10.455 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221222112754_make-latitude-and-longitude-nullable', N'7.0.1');
2023-11-09 19:24:10.455 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.456 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.456 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.456 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.456 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.456 +02:00 [INF] Applying migration '20221223075050_removeDeviceTestData'.
2023-11-09 19:24:10.469 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.469 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.469 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.470 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.470 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.470 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.470 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.470 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [DeviceTestDatas];
2023-11-09 19:24:10.482 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [DeviceTestDatas];
2023-11-09 19:24:10.483 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.483 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.483 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.483 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221223075050_removeDeviceTestData', N'7.0.1');
2023-11-09 19:24:10.484 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221223075050_removeDeviceTestData', N'7.0.1');
2023-11-09 19:24:10.484 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.484 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.484 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.484 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.484 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.485 +02:00 [INF] Applying migration '20230103154141_Added-DeviceReadingTypes-Table'.
2023-11-09 19:24:10.507 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.507 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.507 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.508 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.508 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.508 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.508 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.508 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DeviceReadingTypes] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Unit] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_DeviceReadingTypes] PRIMARY KEY ([Id])
);
2023-11-09 19:24:10.510 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DeviceReadingTypes] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Unit] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_DeviceReadingTypes] PRIMARY KEY ([Id])
);
2023-11-09 19:24:10.510 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.510 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.510 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.511 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230103154141_Added-DeviceReadingTypes-Table', N'7.0.1');
2023-11-09 19:24:10.511 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230103154141_Added-DeviceReadingTypes-Table', N'7.0.1');
2023-11-09 19:24:10.512 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.512 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.512 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.512 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.512 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.512 +02:00 [INF] Applying migration '20230104072105_added-uniqueness-on-generate'.
2023-11-09 19:24:10.535 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.536 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.536 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.536 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.536 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.536 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.536 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.536 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[DeviceReadingTypes]') AND [c].[name] = N'Name');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [DeviceReadingTypes] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [DeviceReadingTypes] ALTER COLUMN [Name] nvarchar(450) NOT NULL;
2023-11-09 19:24:10.583 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[DeviceReadingTypes]') AND [c].[name] = N'Name');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [DeviceReadingTypes] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [DeviceReadingTypes] ALTER COLUMN [Name] nvarchar(450) NOT NULL;
2023-11-09 19:24:10.583 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.584 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.584 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.584 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_DeviceReadingTypes_Name] ON [DeviceReadingTypes] ([Name]);
2023-11-09 19:24:10.586 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_DeviceReadingTypes_Name] ON [DeviceReadingTypes] ([Name]);
2023-11-09 19:24:10.586 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.586 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.586 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.586 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230104072105_added-uniqueness-on-generate', N'7.0.1');
2023-11-09 19:24:10.587 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230104072105_added-uniqueness-on-generate', N'7.0.1');
2023-11-09 19:24:10.587 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.588 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.588 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.588 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.588 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.588 +02:00 [INF] Applying migration '20230104115549_added-threshold-table'.
2023-11-09 19:24:10.617 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.618 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.618 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.618 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.618 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.618 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.618 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.618 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Thresholds] (
    [Id] int NOT NULL IDENTITY,
    [DeviceTypeId] int NOT NULL,
    [DeviceReadingTypeId] int NOT NULL,
    [MinValue] decimal(18,2) NOT NULL,
    [WarningValue] decimal(18,2) NOT NULL,
    [CriticalValue] decimal(18,2) NOT NULL,
    [MaxValue] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_Thresholds] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Thresholds_DeviceReadingTypes_DeviceReadingTypeId] FOREIGN KEY ([DeviceReadingTypeId]) REFERENCES [DeviceReadingTypes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Thresholds_DeviceTypes_DeviceTypeId] FOREIGN KEY ([DeviceTypeId]) REFERENCES [DeviceTypes] ([Id]) ON DELETE CASCADE
);
2023-11-09 19:24:10.627 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Thresholds] (
    [Id] int NOT NULL IDENTITY,
    [DeviceTypeId] int NOT NULL,
    [DeviceReadingTypeId] int NOT NULL,
    [MinValue] decimal(18,2) NOT NULL,
    [WarningValue] decimal(18,2) NOT NULL,
    [CriticalValue] decimal(18,2) NOT NULL,
    [MaxValue] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_Thresholds] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Thresholds_DeviceReadingTypes_DeviceReadingTypeId] FOREIGN KEY ([DeviceReadingTypeId]) REFERENCES [DeviceReadingTypes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Thresholds_DeviceTypes_DeviceTypeId] FOREIGN KEY ([DeviceTypeId]) REFERENCES [DeviceTypes] ([Id]) ON DELETE CASCADE
);
2023-11-09 19:24:10.627 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.627 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.627 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.627 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Thresholds_DeviceReadingTypeId] ON [Thresholds] ([DeviceReadingTypeId]);
2023-11-09 19:24:10.628 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Thresholds_DeviceReadingTypeId] ON [Thresholds] ([DeviceReadingTypeId]);
2023-11-09 19:24:10.628 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.628 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.628 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.628 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Thresholds_DeviceTypeId] ON [Thresholds] ([DeviceTypeId]);
2023-11-09 19:24:10.629 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Thresholds_DeviceTypeId] ON [Thresholds] ([DeviceTypeId]);
2023-11-09 19:24:10.629 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.629 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.629 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.629 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230104115549_added-threshold-table', N'7.0.1');
2023-11-09 19:24:10.633 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230104115549_added-threshold-table', N'7.0.1');
2023-11-09 19:24:10.633 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.633 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.633 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.633 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.633 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.633 +02:00 [INF] Applying migration '20230104153327_added-unique-pairs-threshold'.
2023-11-09 19:24:10.657 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.657 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.657 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.657 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.657 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.657 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.657 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.657 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] DROP CONSTRAINT [FK_Thresholds_DeviceReadingTypes_DeviceReadingTypeId];
2023-11-09 19:24:10.664 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] DROP CONSTRAINT [FK_Thresholds_DeviceReadingTypes_DeviceReadingTypeId];
2023-11-09 19:24:10.665 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.665 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.665 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.665 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] DROP CONSTRAINT [FK_Thresholds_DeviceTypes_DeviceTypeId];
2023-11-09 19:24:10.667 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] DROP CONSTRAINT [FK_Thresholds_DeviceTypes_DeviceTypeId];
2023-11-09 19:24:10.667 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.667 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.667 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.667 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Thresholds_DeviceTypeId] ON [Thresholds];
2023-11-09 19:24:10.669 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Thresholds_DeviceTypeId] ON [Thresholds];
2023-11-09 19:24:10.669 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.669 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.669 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.669 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Thresholds_DeviceTypeId_DeviceReadingTypeId] ON [Thresholds] ([DeviceTypeId], [DeviceReadingTypeId]);
2023-11-09 19:24:10.670 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Thresholds_DeviceTypeId_DeviceReadingTypeId] ON [Thresholds] ([DeviceTypeId], [DeviceReadingTypeId]);
2023-11-09 19:24:10.670 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.670 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.670 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.670 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] ADD CONSTRAINT [FK_Thresholds_DeviceReadingTypes_DeviceReadingTypeId] FOREIGN KEY ([DeviceReadingTypeId]) REFERENCES [DeviceReadingTypes] ([Id]) ON DELETE CASCADE;
2023-11-09 19:24:10.671 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] ADD CONSTRAINT [FK_Thresholds_DeviceReadingTypes_DeviceReadingTypeId] FOREIGN KEY ([DeviceReadingTypeId]) REFERENCES [DeviceReadingTypes] ([Id]) ON DELETE CASCADE;
2023-11-09 19:24:10.671 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.671 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.671 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.671 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] ADD CONSTRAINT [FK_Thresholds_DeviceTypes_DeviceTypeId] FOREIGN KEY ([DeviceTypeId]) REFERENCES [DeviceTypes] ([Id]) ON DELETE CASCADE;
2023-11-09 19:24:10.672 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] ADD CONSTRAINT [FK_Thresholds_DeviceTypes_DeviceTypeId] FOREIGN KEY ([DeviceTypeId]) REFERENCES [DeviceTypes] ([Id]) ON DELETE CASCADE;
2023-11-09 19:24:10.672 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.672 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.672 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.672 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230104153327_added-unique-pairs-threshold', N'7.0.1');
2023-11-09 19:24:10.674 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230104153327_added-unique-pairs-threshold', N'7.0.1');
2023-11-09 19:24:10.674 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.674 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.674 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.674 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.674 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.674 +02:00 [INF] Applying migration '20230111151043_updated_device_table'.
2023-11-09 19:24:10.695 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.695 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.695 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.696 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.696 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.696 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.696 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.696 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] DROP CONSTRAINT [FK_Thresholds_DeviceReadingTypes_DeviceReadingTypeId];
2023-11-09 19:24:10.698 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] DROP CONSTRAINT [FK_Thresholds_DeviceReadingTypes_DeviceReadingTypeId];
2023-11-09 19:24:10.698 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.698 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.698 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.698 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] DROP CONSTRAINT [FK_Thresholds_DeviceTypes_DeviceTypeId];
2023-11-09 19:24:10.699 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] DROP CONSTRAINT [FK_Thresholds_DeviceTypes_DeviceTypeId];
2023-11-09 19:24:10.699 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.699 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.699 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.699 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Devices] ADD [LastPingedTs] datetime2 NULL;
2023-11-09 19:24:10.700 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Devices] ADD [LastPingedTs] datetime2 NULL;
2023-11-09 19:24:10.700 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.700 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.700 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.700 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] ADD CONSTRAINT [FK_Thresholds_DeviceReadingTypes_DeviceReadingTypeId] FOREIGN KEY ([DeviceReadingTypeId]) REFERENCES [DeviceReadingTypes] ([Id]);
2023-11-09 19:24:10.701 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] ADD CONSTRAINT [FK_Thresholds_DeviceReadingTypes_DeviceReadingTypeId] FOREIGN KEY ([DeviceReadingTypeId]) REFERENCES [DeviceReadingTypes] ([Id]);
2023-11-09 19:24:10.701 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.701 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.701 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.701 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] ADD CONSTRAINT [FK_Thresholds_DeviceTypes_DeviceTypeId] FOREIGN KEY ([DeviceTypeId]) REFERENCES [DeviceTypes] ([Id]);
2023-11-09 19:24:10.702 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Thresholds] ADD CONSTRAINT [FK_Thresholds_DeviceTypes_DeviceTypeId] FOREIGN KEY ([DeviceTypeId]) REFERENCES [DeviceTypes] ([Id]);
2023-11-09 19:24:10.702 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.702 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.702 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.702 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230111151043_updated_device_table', N'7.0.1');
2023-11-09 19:24:10.702 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230111151043_updated_device_table', N'7.0.1');
2023-11-09 19:24:10.702 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.703 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.703 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.703 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.703 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.703 +02:00 [INF] Applying migration '20230117101830_added-users-and-roles-table'.
2023-11-09 19:24:10.768 +02:00 [DBG] Executing 4 update commands as a batch.
2023-11-09 19:24:10.779 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.779 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.779 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.779 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.779 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.779 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.779 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.779 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [RoleType] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2023-11-09 19:24:10.787 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [RoleType] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2023-11-09 19:24:10.787 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.787 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.787 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.787 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(450) NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [RoleId] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id])
);
2023-11-09 19:24:10.789 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [Username] nvarchar(450) NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [RoleId] int NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id])
);
2023-11-09 19:24:10.789 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.789 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.789 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.789 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'RoleType') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [RoleType])
VALUES (1, N'Admin'),
(2, N'Agent'),
(3, N'Operator'),
(4, N'Observer');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'RoleType') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
2023-11-09 19:24:10.820 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'RoleType') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] ON;
INSERT INTO [Roles] ([Id], [RoleType])
VALUES (1, N'Admin'),
(2, N'Agent'),
(3, N'Operator'),
(4, N'Observer');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'RoleType') AND [object_id] = OBJECT_ID(N'[Roles]'))
    SET IDENTITY_INSERT [Roles] OFF;
2023-11-09 19:24:10.820 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.820 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.820 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.820 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_RoleId] ON [Users] ([RoleId]);
2023-11-09 19:24:10.821 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_RoleId] ON [Users] ([RoleId]);
2023-11-09 19:24:10.821 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.821 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.821 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.821 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Username] ON [Users] ([Username]);
2023-11-09 19:24:10.821 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Username] ON [Users] ([Username]);
2023-11-09 19:24:10.821 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.821 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.821 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.821 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230117101830_added-users-and-roles-table', N'7.0.1');
2023-11-09 19:24:10.823 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230117101830_added-users-and-roles-table', N'7.0.1');
2023-11-09 19:24:10.823 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.823 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.823 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.823 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.823 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.823 +02:00 [INF] Applying migration '20230117103519_device_reading_table'.
2023-11-09 19:24:10.853 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.853 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.853 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.853 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.853 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.853 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.853 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.853 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DeviceReadings] (
    [Id] int NOT NULL IDENTITY,
    [ReceivedTs] datetime2 NOT NULL,
    [DeviceReadingTypeId] int NOT NULL,
    [DeviceId] int NOT NULL,
    [ValueRead] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_DeviceReadings] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_DeviceReadings_DeviceReadingTypes_DeviceReadingTypeId] FOREIGN KEY ([DeviceReadingTypeId]) REFERENCES [DeviceReadingTypes] ([Id]),
    CONSTRAINT [FK_DeviceReadings_Devices_DeviceId] FOREIGN KEY ([DeviceId]) REFERENCES [Devices] ([DeviceId])
);
2023-11-09 19:24:10.860 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [DeviceReadings] (
    [Id] int NOT NULL IDENTITY,
    [ReceivedTs] datetime2 NOT NULL,
    [DeviceReadingTypeId] int NOT NULL,
    [DeviceId] int NOT NULL,
    [ValueRead] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_DeviceReadings] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_DeviceReadings_DeviceReadingTypes_DeviceReadingTypeId] FOREIGN KEY ([DeviceReadingTypeId]) REFERENCES [DeviceReadingTypes] ([Id]),
    CONSTRAINT [FK_DeviceReadings_Devices_DeviceId] FOREIGN KEY ([DeviceId]) REFERENCES [Devices] ([DeviceId])
);
2023-11-09 19:24:10.860 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.860 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.860 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.860 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DeviceReadings_DeviceId] ON [DeviceReadings] ([DeviceId]);
2023-11-09 19:24:10.861 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DeviceReadings_DeviceId] ON [DeviceReadings] ([DeviceId]);
2023-11-09 19:24:10.861 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.861 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.861 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.861 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DeviceReadings_DeviceReadingTypeId] ON [DeviceReadings] ([DeviceReadingTypeId]);
2023-11-09 19:24:10.861 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_DeviceReadings_DeviceReadingTypeId] ON [DeviceReadings] ([DeviceReadingTypeId]);
2023-11-09 19:24:10.861 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.861 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.861 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.861 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230117103519_device_reading_table', N'7.0.1');
2023-11-09 19:24:10.863 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230117103519_device_reading_table', N'7.0.1');
2023-11-09 19:24:10.863 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.863 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.863 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.863 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.863 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.863 +02:00 [INF] Applying migration '20230118095751_MaintenanceTable'.
2023-11-09 19:24:10.896 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.896 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.896 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.896 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.896 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.896 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.896 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.896 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Maintenances] (
    [Id] int NOT NULL IDENTITY,
    [DeviceId] int NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Outcome] nvarchar(max) NOT NULL,
    [Status] int NOT NULL,
    [ScheduledDate] datetime2 NOT NULL,
    [ActualDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [CreatedBy] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Maintenances] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Maintenances_Devices_DeviceId] FOREIGN KEY ([DeviceId]) REFERENCES [Devices] ([DeviceId]) ON DELETE CASCADE
);
2023-11-09 19:24:10.906 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Maintenances] (
    [Id] int NOT NULL IDENTITY,
    [DeviceId] int NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Outcome] nvarchar(max) NOT NULL,
    [Status] int NOT NULL,
    [ScheduledDate] datetime2 NOT NULL,
    [ActualDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [CreatedBy] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Maintenances] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Maintenances_Devices_DeviceId] FOREIGN KEY ([DeviceId]) REFERENCES [Devices] ([DeviceId]) ON DELETE CASCADE
);
2023-11-09 19:24:10.906 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.906 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.906 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.906 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Maintenances_DeviceId] ON [Maintenances] ([DeviceId]);
2023-11-09 19:24:10.907 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Maintenances_DeviceId] ON [Maintenances] ([DeviceId]);
2023-11-09 19:24:10.907 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.907 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.907 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.907 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230118095751_MaintenanceTable', N'7.0.1');
2023-11-09 19:24:10.908 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230118095751_MaintenanceTable', N'7.0.1');
2023-11-09 19:24:10.908 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.908 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.908 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.908 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.908 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.908 +02:00 [INF] Applying migration '20230118110242_added-field-for-alerts-read-state'.
2023-11-09 19:24:10.939 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.939 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.939 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.940 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.940 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.940 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.940 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.940 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [DeviceReadings] ADD [IsAlertRead] bit NOT NULL DEFAULT CAST(0 AS bit);
2023-11-09 19:24:10.941 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [DeviceReadings] ADD [IsAlertRead] bit NOT NULL DEFAULT CAST(0 AS bit);
2023-11-09 19:24:10.941 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.941 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.941 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.941 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230118110242_added-field-for-alerts-read-state', N'7.0.1');
2023-11-09 19:24:10.941 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230118110242_added-field-for-alerts-read-state', N'7.0.1');
2023-11-09 19:24:10.941 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:10.942 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:10.942 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:10.942 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.942 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:10.942 +02:00 [INF] Applying migration '20230118114836_newMaintenance'.
2023-11-09 19:24:10.973 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.973 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:10.973 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:10.973 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:10.973 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:10.973 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.973 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:10.973 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Maintenances]') AND [c].[name] = N'Outcome');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Maintenances] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Maintenances] ALTER COLUMN [Outcome] nvarchar(max) NULL;
2023-11-09 19:24:11.018 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Maintenances]') AND [c].[name] = N'Outcome');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Maintenances] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Maintenances] ALTER COLUMN [Outcome] nvarchar(max) NULL;
2023-11-09 19:24:11.018 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:11.018 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.018 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.018 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Maintenances]') AND [c].[name] = N'Description');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [Maintenances] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [Maintenances] ALTER COLUMN [Description] nvarchar(max) NULL;
2023-11-09 19:24:11.029 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Maintenances]') AND [c].[name] = N'Description');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [Maintenances] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [Maintenances] ALTER COLUMN [Description] nvarchar(max) NULL;
2023-11-09 19:24:11.029 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:11.029 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.029 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.029 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var15 sysname;
SELECT @var15 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Maintenances]') AND [c].[name] = N'ActualDate');
IF @var15 IS NOT NULL EXEC(N'ALTER TABLE [Maintenances] DROP CONSTRAINT [' + @var15 + '];');
ALTER TABLE [Maintenances] ALTER COLUMN [ActualDate] datetime2 NULL;
2023-11-09 19:24:11.040 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var15 sysname;
SELECT @var15 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Maintenances]') AND [c].[name] = N'ActualDate');
IF @var15 IS NOT NULL EXEC(N'ALTER TABLE [Maintenances] DROP CONSTRAINT [' + @var15 + '];');
ALTER TABLE [Maintenances] ALTER COLUMN [ActualDate] datetime2 NULL;
2023-11-09 19:24:11.040 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:11.040 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.040 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.040 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230118114836_newMaintenance', N'7.0.1');
2023-11-09 19:24:11.041 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230118114836_newMaintenance', N'7.0.1');
2023-11-09 19:24:11.041 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:11.041 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:11.041 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:11.041 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:11.042 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:11.042 +02:00 [INF] Applying migration '20230119121559_added-alertType-field-in-DeviceReading-table'.
2023-11-09 19:24:11.079 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:11.079 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:11.079 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:11.080 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:11.080 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:11.080 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.080 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.080 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [DeviceReadings] ADD [AlertType] int NULL;
2023-11-09 19:24:11.081 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [DeviceReadings] ADD [AlertType] int NULL;
2023-11-09 19:24:11.081 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:11.081 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.081 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.081 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230119121559_added-alertType-field-in-DeviceReading-table', N'7.0.1');
2023-11-09 19:24:11.082 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230119121559_added-alertType-field-in-DeviceReading-table', N'7.0.1');
2023-11-09 19:24:11.082 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:11.083 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:11.083 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:11.083 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:11.083 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:11.083 +02:00 [INF] Applying migration '20230120091820_imageBytesColumn_removeImagePath_nullableDescription'.
2023-11-09 19:24:11.115 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:11.115 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:11.115 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-09 19:24:11.115 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-09 19:24:11.115 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:11.115 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.115 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.115 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var16 sysname;
SELECT @var16 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'ImagePath');
IF @var16 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var16 + '];');
ALTER TABLE [Devices] DROP COLUMN [ImagePath];
2023-11-09 19:24:11.164 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var16 sysname;
SELECT @var16 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'ImagePath');
IF @var16 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var16 + '];');
ALTER TABLE [Devices] DROP COLUMN [ImagePath];
2023-11-09 19:24:11.164 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:11.164 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.164 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.164 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var17 sysname;
SELECT @var17 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'Description');
IF @var17 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var17 + '];');
ALTER TABLE [Devices] ALTER COLUMN [Description] nvarchar(max) NULL;
2023-11-09 19:24:11.174 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var17 sysname;
SELECT @var17 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Devices]') AND [c].[name] = N'Description');
IF @var17 IS NOT NULL EXEC(N'ALTER TABLE [Devices] DROP CONSTRAINT [' + @var17 + '];');
ALTER TABLE [Devices] ALTER COLUMN [Description] nvarchar(max) NULL;
2023-11-09 19:24:11.174 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:11.174 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.174 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.174 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Devices] ADD [ImageBytes] varbinary(max) NULL;
2023-11-09 19:24:11.175 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Devices] ADD [ImageBytes] varbinary(max) NULL;
2023-11-09 19:24:11.175 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-09 19:24:11.176 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.176 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-09 19:24:11.176 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230120091820_imageBytesColumn_removeImagePath_nullableDescription', N'7.0.1');
2023-11-09 19:24:11.177 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230120091820_imageBytesColumn_removeImagePath_nullableDescription', N'7.0.1');
2023-11-09 19:24:11.177 +02:00 [DBG] Committing transaction.
2023-11-09 19:24:11.178 +02:00 [DBG] Committed transaction.
2023-11-09 19:24:11.178 +02:00 [DBG] Disposing transaction.
2023-11-09 19:24:11.178 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:11.178 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2023-11-09 19:24:11.309 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-09 19:24:11.487 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2023-11-09 19:24:11.715 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DB1EB5FD6F2B27194A16DA81B062CAE4A8D8A2A8)
2023-11-09 19:24:11.834 +02:00 [INF] Now listening on: https://localhost:7137
2023-11-09 19:24:11.834 +02:00 [INF] Now listening on: http://localhost:5275
2023-11-09 19:24:11.834 +02:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-09 19:24:11.834 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-09 19:24:11.834 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-09 19:24:11.839 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-09 19:24:11.840 +02:00 [INF] Hosting environment: Development
2023-11-09 19:24:11.840 +02:00 [INF] Content root path: C:\Users\ghica\OneDrive\Desktop\Git Smedix Aplicatie\Aplicatie\WebApi
2023-11-09 19:24:11.840 +02:00 [DBG] Hosting started
2023-11-09 19:24:12.182 +02:00 [DBG] Connection id "0HMV192OBEOOD" accepted.
2023-11-09 19:24:12.184 +02:00 [DBG] Connection id "0HMV192OBEOOD" started.
2023-11-09 19:24:12.214 +02:00 [DBG] Connection id "0HMV192OBEOOE" accepted.
2023-11-09 19:24:12.214 +02:00 [DBG] Connection id "0HMV192OBEOOE" started.
2023-11-09 19:24:12.451 +02:00 [DBG] Connection id "0HMV192OBEOOF" accepted.
2023-11-09 19:24:12.452 +02:00 [DBG] Connection id "0HMV192OBEOOF" started.
2023-11-09 19:24:12.465 +02:00 [DBG] Connection id "0HMV192OBEOOG" accepted.
2023-11-09 19:24:12.465 +02:00 [DBG] Connection id "0HMV192OBEOOG" started.
2023-11-09 19:24:12.510 +02:00 [DBG] Connection id "0HMV192OBEOOF" received FIN.
2023-11-09 19:24:12.523 +02:00 [DBG] Connection 0HMV192OBEOOF established using the following protocol: "Tls12"
2023-11-09 19:24:12.523 +02:00 [DBG] Connection 0HMV192OBEOOG established using the following protocol: "Tls12"
2023-11-09 19:24:12.543 +02:00 [DBG] Connection id "0HMV192OBEOOF" is closed. The last processed stream ID was 0.
2023-11-09 19:24:12.545 +02:00 [DBG] Connection id "0HMV192OBEOOF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-09 19:24:12.562 +02:00 [DBG] Connection id "0HMV192OBEOOF" stopped.
2023-11-09 19:24:12.616 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger - -
2023-11-09 19:24:12.658 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-09 19:24:12.700 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger - - - 301 0 - 91.1022ms
2023-11-09 19:24:12.701 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2023-11-09 19:24:12.932 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-09 19:24:13.135 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-09 19:24:13.137 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 435.7946ms
2023-11-09 19:24:13.146 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2023-11-09 19:24:13.146 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/swagger-ui-standalone-preset.js - -
2023-11-09 19:24:13.147 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/swagger-ui.css - -
2023-11-09 19:24:13.147 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/swagger-ui-bundle.js - -
2023-11-09 19:24:13.147 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2023-11-09 19:24:13.164 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 18.6356ms
2023-11-09 19:24:13.218 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-09 19:24:13.218 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-09 19:24:13.218 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 72.8363ms
2023-11-09 19:24:13.224 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/swagger-ui.css - - - 200 143632 text/css 77.2648ms
2023-11-09 19:24:13.238 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-09 19:24:13.239 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 92.0787ms
2023-11-09 19:24:13.240 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 92.5710ms
2023-11-09 19:24:13.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2023-11-09 19:24:13.433 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/favicon-32x32.png - -
2023-11-09 19:24:13.434 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-09 19:24:13.434 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/favicon-32x32.png - - - 200 628 image/png 0.7210ms
2023-11-09 19:24:13.652 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 241.3668ms
2023-11-09 19:24:18.096 +02:00 [DBG] Connection id "0HMV192OBEOOG" received FIN.
2023-11-09 19:24:18.096 +02:00 [DBG] Connection id "0HMV192OBEOOG" is closed. The last processed stream ID was 17.
2023-11-09 19:24:18.097 +02:00 [DBG] Connection id "0HMV192OBEOOG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-09 19:24:18.098 +02:00 [DBG] Connection id "0HMV192OBEOOG" stopped.
2023-11-09 19:24:22.212 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2023-11-09 19:24:22.212 +02:00 [DBG] Connection id "0HMV192OBEOOD" stopped.
2023-11-09 19:24:22.212 +02:00 [DBG] Connection id "0HMV192OBEOOD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-09 19:24:22.222 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2023-11-09 19:24:22.222 +02:00 [DBG] Connection id "0HMV192OBEOOE" stopped.
2023-11-09 19:24:22.222 +02:00 [DBG] Connection id "0HMV192OBEOOE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-09 19:24:24.825 +02:00 [DBG] Connection id "0HMV192OBEOOH" accepted.
2023-11-09 19:24:24.825 +02:00 [DBG] Connection id "0HMV192OBEOOH" started.
2023-11-09 19:24:24.826 +02:00 [DBG] Connection 0HMV192OBEOOH established using the following protocol: "Tls12"
2023-11-09 19:24:24.828 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices - -
2023-11-09 19:24:24.828 +02:00 [DBG] The request path  does not match the path filter
2023-11-09 19:24:24.834 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2023-11-09 19:24:24.881 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2023-11-09 19:24:24.882 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2023-11-09 19:24:24.882 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2023-11-09 19:24:24.882 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2023-11-09 19:24:24.883 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2023-11-09 19:24:24.905 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2023-11-09 19:24:24.906 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-09 19:24:24.906 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-09 19:24:24.906 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-09 19:24:24.906 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-09 19:24:24.907 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-09 19:24:24.907 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2023-11-09 19:24:24.910 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2023-11-09 19:24:24.912 +02:00 [INF] GetAllDevices
2023-11-09 19:24:24.976 +02:00 [DBG] Compiling query expression: 
'DbSet<Device>()
    .Include(d => d.Location)
    .Include(d => d.DeviceType)'
2023-11-09 19:24:25.169 +02:00 [DBG] Including navigation: 'Device.Location'.
2023-11-09 19:24:25.170 +02:00 [DBG] Including navigation: 'Device.DeviceType'.
2023-11-09 19:24:25.538 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Device>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Device.Alias (string), 1], [Property: Device.Description (string), 2], [Property: Device.DeviceTypeId (int) Required FK Index, 3], [Property: Device.Emails (string), 4], [Property: Device.FirmwareVersion (string), 5], [Property: Device.ImageBytes (byte[]), 6], [Property: Device.LastPingedTs (DateTime?), 7], [Property: Device.LastUploadTime (DateTime?), 8], [Property: Device.LocationId (int) Required FK Index, 9], [Property: Device.Name (string) Required, 10], [Property: Device.SerialNumber (string) Required, 11], [Property: Device.SoftwareVersion (string), 12] }
            1 -> Dictionary<IProperty, int> { [Property: Location.LocationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Location.Address (string) Required, 14], [Property: Location.City (string) Required, 15], [Property: Location.ContactEmail (string), 16], [Property: Location.Country (string) Required, 17], [Property: Location.EmailAlertsActive (bool) Required, 18], [Property: Location.EmailRecipient (string), 19], [Property: Location.Latitude (double?), 20], [Property: Location.Longitude (double?), 21], [Property: Location.Name (string) Required, 22], [Property: Location.Phone (string), 23] }
            2 -> Dictionary<IProperty, int> { [Property: DeviceType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: DeviceType.Name (string) Required, 25] }
        SELECT d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion, l.LocationId, l.Address, l.City, l.ContactEmail, l.Country, l.EmailAlertsActive, l.EmailRecipient, l.Latitude, l.Longitude, l.Name, l.Phone, d0.Id, d0.Name
        FROM Devices AS d
        INNER JOIN Locations AS l ON d.LocationId == l.LocationId
        INNER JOIN DeviceTypes AS d0 ON d.DeviceTypeId == d0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Device>, 
    DataAccessLayer.InternshipContext, 
    False, 
    False, 
    True
)'
2023-11-09 19:24:25.591 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-09 19:24:25.591 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-09 19:24:25.591 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-09 19:24:25.601 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:25.602 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:25.603 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2023-11-09 19:24:25.642 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2023-11-09 19:24:25.675 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:25.676 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 33ms reading results.
2023-11-09 19:24:25.684 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2023-11-09 19:24:25.685 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2023-11-09 19:24:25.692 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-11-09 19:24:25.694 +02:00 [DBG] No information found on request to perform content negotiation.
2023-11-09 19:24:25.694 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-09 19:24:25.694 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-09 19:24:25.695 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-09 19:24:25.695 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-09 19:24:25.832 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 921.2433ms
2023-11-09 19:24:25.834 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2023-11-09 19:24:25.837 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 993.5090 ms
2023-11-09 19:24:25.848 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices - - - 200 2 application/json;+charset=utf-8 1020.2535ms
2023-11-09 19:24:28.107 +02:00 [DBG] Connection id "0HMV192OBEOOH" received FIN.
2023-11-09 19:24:28.107 +02:00 [DBG] Connection id "0HMV192OBEOOH" is closed. The last processed stream ID was 1.
2023-11-09 19:24:28.107 +02:00 [DBG] Connection id "0HMV192OBEOOH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-09 19:24:28.111 +02:00 [DBG] Connection id "0HMV192OBEOOH" stopped.
