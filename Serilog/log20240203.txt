2024-02-03 14:58:34.594 +02:00 [INF] Application starting up
2024-02-03 14:58:39.141 +02:00 [DBG] Hosting starting
2024-02-03 14:58:40.025 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-02-03 14:58:40.880 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-02-03 14:58:41.200 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-02-03 14:58:41.200 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-02-03 14:58:41.201 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-02-03 14:58:41.201 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-02-03 14:58:41.499 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-02-03 14:58:41.510 +02:00 [DBG] Creating DbConnection.
2024-02-03 14:58:41.519 +02:00 [DBG] Created DbConnection. (3ms).
2024-02-03 14:58:41.521 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.530 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.562 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.578 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-02-03 14:58:41.587 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2024-02-03 14:58:41.590 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (18ms).
2024-02-03 14:58:41.603 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-02-03 14:58:41.641 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-02-03 14:58:41.645 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.654 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (5ms).
2024-02-03 14:58:41.660 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-02-03 14:58:41.660 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-02-03 14:58:41.660 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-02-03 14:58:41.660 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.661 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.663 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-02-03 14:58:41.722 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-02-03 14:58:41.722 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.724 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-02-03 14:58:41.726 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.726 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.726 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-02-03 14:58:41.726 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-02-03 14:58:41.726 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-02-03 14:58:41.726 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-02-03 14:58:41.733 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-02-03 14:58:41.733 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.733 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 14:58:41.733 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-02-03 14:58:41.733 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-02-03 14:58:41.733 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-02-03 14:58:41.733 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.733 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.733 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-02-03 14:58:41.735 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-02-03 14:58:41.735 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.735 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 14:58:41.780 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 14:58:41.780 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 14:58:41.780 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 14:58:41.780 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.780 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.782 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-02-03 14:58:41.788 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-02-03 14:58:41.798 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.802 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-02-03 14:58:41.802 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:58:41.803 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 14:58:41.937 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-02-03 14:58:42.175 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-02-03 14:58:42.656 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-02-03 14:58:43.216 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DD6A44F29398EF832C70326A091BE676DFEDB1C9)
2024-02-03 14:58:43.299 +02:00 [INF] Now listening on: https://localhost:7137
2024-02-03 14:58:43.299 +02:00 [INF] Now listening on: http://localhost:5275
2024-02-03 14:58:43.299 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-02-03 14:58:43.300 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-02-03 14:58:43.300 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-02-03 14:58:43.303 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-03 14:58:43.303 +02:00 [INF] Hosting environment: Development
2024-02-03 14:58:43.303 +02:00 [INF] Content root path: C:\Users\ghica\Desktop\Backend\Aplicatie\WebApi
2024-02-03 14:58:43.303 +02:00 [DBG] Hosting started
2024-02-03 14:58:43.640 +02:00 [DBG] Connection id "0HN14MVD1GBFJ" received FIN.
2024-02-03 14:58:43.678 +02:00 [DBG] Connection id "0HN14MVD1GBFJ" accepted.
2024-02-03 14:58:43.682 +02:00 [DBG] Connection id "0HN14MVD1GBFJ" started.
2024-02-03 14:58:43.747 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-02-03 14:58:43.850 +02:00 [DBG] Connection id "0HN14MVD1GBFJ" stopped.
2024-02-03 14:58:43.854 +02:00 [DBG] Connection id "0HN14MVD1GBFJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 14:58:45.674 +02:00 [DBG] Connection id "0HN14MVD1GBFK" accepted.
2024-02-03 14:58:45.675 +02:00 [DBG] Connection id "0HN14MVD1GBFK" started.
2024-02-03 14:58:45.729 +02:00 [DBG] Connection 0HN14MVD1GBFK established using the following protocol: "Tls13"
2024-02-03 14:58:45.814 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-02-03 14:58:46.045 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-02-03 14:58:46.393 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-02-03 14:58:46.420 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-02-03 14:58:46.431 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 624.6713ms
2024-02-03 14:58:46.432 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-02-03 14:58:46.432 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-02-03 14:58:46.439 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 13748 application/javascript;+charset=utf-8 7.0766ms
2024-02-03 14:58:46.560 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 127.5214ms
2024-02-03 14:58:46.668 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-02-03 14:58:46.922 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 254.5110ms
2024-02-03 14:58:50.784 +02:00 [DBG] Connection id "0HN14MVD1GBFK" received FIN.
2024-02-03 14:58:50.784 +02:00 [DBG] Connection id "0HN14MVD1GBFK" is closed. The last processed stream ID was 7.
2024-02-03 14:58:50.785 +02:00 [DBG] Connection id "0HN14MVD1GBFK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 14:58:50.790 +02:00 [DBG] Connection id "0HN14MVD1GBFK" stopped.
2024-02-03 14:59:22.526 +02:00 [DBG] Connection id "0HN14MVD1GBFL" accepted.
2024-02-03 14:59:22.526 +02:00 [DBG] Connection id "0HN14MVD1GBFL" started.
2024-02-03 14:59:22.550 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 14:59:22.553 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 14:59:22.554 +02:00 [INF] CORS policy execution successful.
2024-02-03 14:59:22.561 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 14:59:22.564 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 14:59:22.636 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 14:59:22.637 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 14:59:22.638 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 14:59:22.723 +02:00 [DBG] New connection LDlaR9KM8VTh6LyBVFCeiA created.
2024-02-03 14:59:22.736 +02:00 [DBG] Establishing new connection.
2024-02-03 14:59:22.747 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 14:59:22.761 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 14:59:22.825 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 14:59:22.835 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 14:59:22.872 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 14:59:22.880 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 14:59:22.885 +02:00 [DBG] Waiting for the application to finish sending data.
2024-02-03 14:59:22.890 +02:00 [DBG] Socket closed.
2024-02-03 14:59:22.898 +02:00 [DBG] Removing connection LDlaR9KM8VTh6LyBVFCeiA from the list of connections.
2024-02-03 14:59:22.903 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 14:59:22.909 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 333.3642 ms
2024-02-03 14:59:22.913 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 363.3624ms
2024-02-03 14:59:22.914 +02:00 [DBG] Connection id "0HN14MVD1GBFL" disconnecting.
2024-02-03 14:59:22.914 +02:00 [DBG] Connection id "0HN14MVD1GBFL" stopped.
2024-02-03 14:59:22.914 +02:00 [DBG] Connection id "0HN14MVD1GBFL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 14:59:27.120 +02:00 [DBG] Connection id "0HN14MVD1GBFM" accepted.
2024-02-03 14:59:27.121 +02:00 [DBG] Connection id "0HN14MVD1GBFM" started.
2024-02-03 14:59:27.140 +02:00 [DBG] Connection 0HN14MVD1GBFM established using the following protocol: "Tls13"
2024-02-03 14:59:27.143 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-02-03 14:59:27.143 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 14:59:27.143 +02:00 [INF] CORS policy execution successful.
2024-02-03 14:59:27.143 +02:00 [DBG] The request is a preflight request.
2024-02-03 14:59:27.145 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 2.3014ms
2024-02-03 14:59:27.148 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-02-03 14:59:27.148 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 14:59:27.148 +02:00 [INF] CORS policy execution successful.
2024-02-03 14:59:27.148 +02:00 [DBG] POST requests are not supported
2024-02-03 14:59:27.148 +02:00 [DBG] POST requests are not supported
2024-02-03 14:59:27.150 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-02-03 14:59:27.152 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-02-03 14:59:27.152 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-02-03 14:59:27.152 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-02-03 14:59:27.193 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-02-03 14:59:27.193 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 14:59:27.194 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 14:59:27.194 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 14:59:27.194 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 14:59:27.194 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 14:59:27.194 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-02-03 14:59:27.196 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-02-03 14:59:27.200 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-02-03 14:59:27.202 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-02-03 14:59:27.204 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 14:59:27.204 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 14:59:27.301 +02:00 [DBG] Connection id "0HN14MVD1GBFM", Request id "0HN14MVD1GBFM:00000003": started reading request body.
2024-02-03 14:59:27.302 +02:00 [DBG] Connection id "0HN14MVD1GBFM", Request id "0HN14MVD1GBFM:00000003": done reading request body.
2024-02-03 14:59:27.472 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-02-03 14:59:27.472 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-02-03 14:59:27.472 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-02-03 14:59:27.479 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-02-03 14:59:27.658 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Username == __userObj_Username_0)'
2024-02-03 14:59:27.998 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FirstName (string), 2], [Property: User.IsActive (bool?) ValueGenerated.OnAdd, 3], [Property: User.LastName (string), 4], [Property: User.Password (string), 5], [Property: User.RefreshToken (string), 6], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 7], [Property: User.RoleId (int?) FK Index, 8], [Property: User.Token (string), 9], [Property: User.Username (string) Index, 10] }
            SELECT TOP(1) u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RefreshToken, u.RefreshTokenExpiryTime, u.RoleId, u.Token, u.Username
            FROM Users AS u
            WHERE u.Username == @__userObj_Username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        DataAccessLayer.DataContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-02-03 14:59:28.085 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 14:59:28.085 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 14:59:28.091 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-02-03 14:59:28.099 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:28.100 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:28.107 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-02-03 14:59:28.182 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-02-03 14:59:28.246 +02:00 [DBG] Context 'DataContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 14:59:28.336 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:28.338 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 155ms reading results.
2024-02-03 14:59:28.346 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:28.347 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-02-03 14:59:28.554 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(a => a.RefreshToken == __refreshToken_0)'
2024-02-03 14:59:28.563 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-02-03 14:59:28.579 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 14:59:28.579 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 14:59:28.579 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 14:59:28.579 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:28.579 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:28.579 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-02-03 14:59:28.581 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-02-03 14:59:28.582 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:28.583 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 14:59:28.583 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:28.583 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 14:59:28.594 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 14:59:28.599 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 14:59:28.631 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 14:59:28.646 +02:00 [DBG] An entity of type 'User' tracked by 'DataContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 14:59:28.650 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 14:59:28.657 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 14:59:28.664 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 14:59:28.815 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:28.815 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:28.822 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 14:59:28.822 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 14:59:28.823 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-02-03 14:59:28.824 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-02-03 14:59:28.843 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-02-03 14:59:28.859 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:28.859 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 15ms reading results.
2024-02-03 14:59:28.861 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:28.861 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 14:59:28.876 +02:00 [DBG] An entity of type 'User' tracked by 'DataContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 14:59:28.882 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 14:59:28.889 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 14:59:28.893 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 14:59:28.893 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 14:59:28.893 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 14:59:28.893 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 14:59:28.893 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-02-03 14:59:28.942 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 1744.5324ms
2024-02-03 14:59:28.943 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-02-03 14:59:28.943 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 1794.6968 ms
2024-02-03 14:59:28.957 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 1809.3439ms
2024-02-03 14:59:40.569 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 14:59:40.570 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 14:59:40.570 +02:00 [INF] CORS policy execution successful.
2024-02-03 14:59:40.571 +02:00 [DBG] The request is a preflight request.
2024-02-03 14:59:40.571 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 2.0092ms
2024-02-03 14:59:40.574 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 14:59:40.575 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 14:59:40.575 +02:00 [INF] CORS policy execution successful.
2024-02-03 14:59:40.575 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 14:59:40.575 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 14:59:40.578 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 14:59:40.578 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 14:59:40.578 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 14:59:40.578 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 14:59:40.578 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 14:59:40.584 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 14:59:40.584 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 14:59:40.585 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 14:59:40.585 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 14:59:40.585 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 14:59:40.585 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 14:59:40.585 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 14:59:40.589 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 14:59:40.591 +02:00 [INF] GetAllDevices
2024-02-03 14:59:40.619 +02:00 [DBG] Compiling query expression: 
'DbSet<Device>()
    .Include(d => d.Location)
    .Include(d => d.DeviceType)'
2024-02-03 14:59:40.682 +02:00 [DBG] Including navigation: 'Device.Location'.
2024-02-03 14:59:40.685 +02:00 [DBG] Including navigation: 'Device.DeviceType'.
2024-02-03 14:59:40.818 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Device>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Device.Alias (string), 1], [Property: Device.Description (string), 2], [Property: Device.DeviceTypeId (int) Required FK Index, 3], [Property: Device.Emails (string), 4], [Property: Device.FirmwareVersion (string), 5], [Property: Device.ImageBytes (byte[]), 6], [Property: Device.LastPingedTs (DateTime?), 7], [Property: Device.LastUploadTime (DateTime?), 8], [Property: Device.LocationId (int) Required FK Index, 9], [Property: Device.Name (string) Required, 10], [Property: Device.SerialNumber (string) Required, 11], [Property: Device.SoftwareVersion (string), 12] }
            1 -> Dictionary<IProperty, int> { [Property: Location.LocationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Location.Address (string) Required, 14], [Property: Location.City (string) Required, 15], [Property: Location.ContactEmail (string), 16], [Property: Location.Country (string) Required, 17], [Property: Location.EmailAlertsActive (bool) Required, 18], [Property: Location.EmailRecipient (string), 19], [Property: Location.Latitude (double?), 20], [Property: Location.Longitude (double?), 21], [Property: Location.Name (string) Required, 22], [Property: Location.Phone (string), 23] }
            2 -> Dictionary<IProperty, int> { [Property: DeviceType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: DeviceType.Name (string) Required, 25] }
        SELECT d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion, l.LocationId, l.Address, l.City, l.ContactEmail, l.Country, l.EmailAlertsActive, l.EmailRecipient, l.Latitude, l.Longitude, l.Name, l.Phone, d0.Id, d0.Name
        FROM Devices AS d
        INNER JOIN Locations AS l ON d.LocationId == l.LocationId
        INNER JOIN DeviceTypes AS d0 ON d.DeviceTypeId == d0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Device>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 14:59:40.819 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 14:59:40.819 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 14:59:40.819 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 14:59:40.819 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:40.819 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:40.819 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 14:59:40.827 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 14:59:40.852 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 14:59:40.898 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 14:59:40.903 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 14:59:40.933 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 14:59:40.933 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 14:59:40.937 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:40.937 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 110ms reading results.
2024-02-03 14:59:40.937 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 14:59:40.937 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 14:59:40.940 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 14:59:40.940 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 14:59:40.940 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 14:59:40.940 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 14:59:40.940 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 14:59:40.940 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 14:59:40.960 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 374.8191ms
2024-02-03 14:59:40.960 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 14:59:40.960 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 385.0737 ms
2024-02-03 14:59:40.960 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 385.6969ms
2024-02-03 15:00:32.725 +02:00 [DBG] Connection id "0HN14MVD1GBFM" received FIN.
2024-02-03 15:00:32.730 +02:00 [DBG] Connection id "0HN14MVD1GBFM" is closed. The last processed stream ID was 7.
2024-02-03 15:00:32.730 +02:00 [DBG] Connection id "0HN14MVD1GBFM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:00:32.793 +02:00 [DBG] Connection id "0HN14MVD1GBFM" stopped.
2024-02-03 15:04:59.745 +02:00 [DBG] Connection id "0HN14MVD1GBFN" accepted.
2024-02-03 15:04:59.749 +02:00 [DBG] Connection id "0HN14MVD1GBFN" started.
2024-02-03 15:04:59.776 +02:00 [DBG] Connection 0HN14MVD1GBFN established using the following protocol: "Tls13"
2024-02-03 15:04:59.777 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:04:59.778 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:04:59.779 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:04:59.779 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:04:59.782 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 2.3375ms
2024-02-03 15:04:59.793 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 563
2024-02-03 15:04:59.793 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:04:59.793 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:04:59.793 +02:00 [DBG] POST requests are not supported
2024-02-03 15:04:59.793 +02:00 [DBG] POST requests are not supported
2024-02-03 15:04:59.793 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:04:59.793 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:04:59.794 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:04:59.794 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:04:59.801 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:04:59.801 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:04:59.801 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:04:59.801 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:04:59.801 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:04:59.801 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:04:59.801 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:04:59.802 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:04:59.802 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:04:59.802 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:04:59.802 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:04:59.802 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:04:59.802 +02:00 [DBG] Connection id "0HN14MVD1GBFN", Request id "0HN14MVD1GBFN:00000003": started reading request body.
2024-02-03 15:04:59.803 +02:00 [DBG] Connection id "0HN14MVD1GBFN", Request id "0HN14MVD1GBFN:00000003": done reading request body.
2024-02-03 15:04:59.840 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:04:59.840 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:04:59.840 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:04:59.845 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:04:59.857 +02:00 [INF] AddDeviceMaintenance for {
  "Id": 0,
  "DeviceId": 0,
  "Device": {
    "DeviceId": 2,
    "Name": "Jziki no. 1",
    "SerialNumber": "JT12020",
    "Description": "Tensiometru",
    "Location": {
      "LocationId": 1,
      "Name": "Petrosani",
      "EmailAlertsActive": true,
      "Address": "Str 1 Decembrie 1918",
      "City": "Petrosani",
      "Country": "Romania",
      "IsLocationUsed": false
    },
    "DeviceType": {
      "DeviceTypeId": 9,
      "Name": "Tensiometru"
    },
    "ImageBytes": null
  },
  "ScheduledDate": "2024-02-03T22:00:00Z",
  "Description": "bbb"
}
2024-02-03 15:04:59.916 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Maintenance'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:04:59.944 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:04:59.945 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:04:59.945 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:04:59.956 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:04:59.969 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:04:59.969 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:04:59.969 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:04:59.969 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:04:59.971 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-02-03 15:04:59.971 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:04:59.995 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:05:00.033 +02:00 [DBG] The foreign key property 'Maintenance.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:05:00.052 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:05:00.052 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 56ms reading results.
2024-02-03 15:05:00.052 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:05:00.052 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:05:00.062 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:05:00.063 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:05:00.063 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:05:00.063 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:05:00.063 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:05:00.063 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:05:00.064 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:05:00.064 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:05:00.068 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 266.9139ms
2024-02-03 15:05:00.068 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:05:00.068 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 200 in 274.8346 ms
2024-02-03 15:05:00.068 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 563 - 200 416 application/json;+charset=utf-8 275.5714ms
2024-02-03 15:05:00.129 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:05:00.130 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:05:00.130 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:05:00.130 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:05:00.130 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.7984ms
2024-02-03 15:05:00.144 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:05:00.144 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:05:00.145 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:05:00.145 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:05:00.146 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:05:00.155 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:05:00.155 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:05:00.155 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:05:00.156 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:05:00.158 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:05:00.190 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:05:00.190 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:05:00.190 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:05:00.190 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:05:00.190 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:05:00.190 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:05:00.190 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:05:00.191 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:05:00.202 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:05:00.207 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:05:00.219 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:05:00.220 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:05:00.222 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:05:00.222 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:05:00.222 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:05:00.222 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:05:00.223 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:05:00.223 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:05:00.224 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:05:00.224 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:05:00.225 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:05:00.225 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:05:00.225 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:05:00.226 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:05:00.226 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:05:00.226 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:05:00.226 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:05:00.226 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:05:00.226 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:05:00.226 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:05:00.227 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:05:00.227 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:05:00.227 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:05:00.228 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:05:00.229 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:05:00.229 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:05:00.230 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:05:00.230 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:05:00.230 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:05:00.230 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:05:00.231 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:05:00.231 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:05:00.232 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:05:00.232 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:05:00.232 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:05:00.236 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:05:00.248 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:05:00.272 +02:00 [DBG] Compiling query expression: 
'DbSet<Maintenance>()
    .Include(m => m.Device)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .OrderBy(m => m.Status)
    .ThenBy(m => m.ScheduledDate)'
2024-02-03 15:05:00.277 +02:00 [DBG] Including navigation: 'Maintenance.Device'.
2024-02-03 15:05:00.296 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Maintenance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Maintenance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Maintenance.ActualDate (DateTime?), 1], [Property: Maintenance.CreatedAt (DateTime) Required, 2], [Property: Maintenance.CreatedBy (string) Required, 3], [Property: Maintenance.Description (string), 4], [Property: Maintenance.DeviceId (int) Required FK Index, 5], [Property: Maintenance.Outcome (string), 6], [Property: Maintenance.ScheduledDate (DateTime) Required, 7], [Property: Maintenance.Status (Status) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Device.Alias (string), 10], [Property: Device.Description (string), 11], [Property: Device.DeviceTypeId (int) Required FK Index, 12], [Property: Device.Emails (string), 13], [Property: Device.FirmwareVersion (string), 14], [Property: Device.ImageBytes (byte[]), 15], [Property: Device.LastPingedTs (DateTime?), 16], [Property: Device.LastUploadTime (DateTime?), 17], [Property: Device.LocationId (int) Required FK Index, 18], [Property: Device.Name (string) Required, 19], [Property: Device.SerialNumber (string) Required, 20], [Property: Device.SoftwareVersion (string), 21] }
        SELECT m.Id, m.ActualDate, m.CreatedAt, m.CreatedBy, m.Description, m.DeviceId, m.Outcome, m.ScheduledDate, m.Status, d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion
        FROM Maintenances AS m
        INNER JOIN Devices AS d ON m.DeviceId == d.DeviceId
        ORDER BY m.Status ASC, m.ScheduledDate ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Maintenance>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 15:05:00.298 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:05:00.298 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:05:00.298 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:05:00.298 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:05:00.298 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:05:00.298 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:05:00.304 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:05:00.304 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:05:00.305 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:05:00.305 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:05:00.305 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:05:00.306 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:05:00.306 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:05:00.306 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:05:00.306 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:05:00.306 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:05:00.307 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:05:00.327 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 136.118ms
2024-02-03 15:05:00.327 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:05:00.327 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 181.2012 ms
2024-02-03 15:05:00.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 183.3989ms
2024-02-03 15:06:40.647 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:06:40.647 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:06:40.649 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:06:40.649 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:06:40.649 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 2.6702ms
2024-02-03 15:06:40.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:06:40.666 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:06:40.666 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:06:40.666 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:06:40.666 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:06:40.671 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:06:40.671 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:06:40.671 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:06:40.671 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:06:40.671 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:06:40.671 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:06:40.671 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:06:40.671 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:06:40.672 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:06:40.672 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:06:40.672 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:06:40.672 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:06:40.672 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:06:40.672 +02:00 [INF] GetAllDevices
2024-02-03 15:06:40.679 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:06:40.679 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:06:40.679 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:06:40.680 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:06:40.680 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:06:40.680 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:06:40.689 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:06:40.691 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:06:40.691 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:06:40.691 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:06:40.692 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:06:40.692 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:06:40.692 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:06:40.692 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:06:40.692 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:06:40.692 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:06:40.692 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:06:40.693 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:06:40.693 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:06:40.693 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:06:40.693 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:06:40.693 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:06:40.693 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 21.4549ms
2024-02-03 15:06:40.693 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:06:40.693 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 26.8288 ms
2024-02-03 15:06:40.694 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 27.5415ms
2024-02-03 15:07:49.744 +02:00 [DBG] Connection id "0HN14MVD1GBFO" accepted.
2024-02-03 15:07:49.747 +02:00 [DBG] Connection id "0HN14MVD1GBFO" started.
2024-02-03 15:07:49.781 +02:00 [DBG] Connection 0HN14MVD1GBFO established using the following protocol: "Tls13"
2024-02-03 15:07:49.783 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:07:49.837 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:07:49.837 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:07:49.837 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:07:49.837 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:07:49.837 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:07:49.837 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:07:49.837 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:07:49.837 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:07:49.837 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:07:49.837 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:07:49.837 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:07:49.837 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:07:49.837 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:07:49.838 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:07:49.844 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:07:49.844 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:07:49.844 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:07:49.845 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:07:49.845 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:07:49.845 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:07:49.845 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:07:49.845 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:07:49.845 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:07:49.845 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:07:49.845 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:07:49.845 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:07:49.845 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:07:49.845 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:07:49.850 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:07:49.850 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:07:49.850 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:07:49.850 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:07:49.850 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:07:49.850 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:07:49.855 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:07:49.855 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:07:49.855 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:07:49.855 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:07:49.855 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:07:49.855 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:07:49.856 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:07:49.856 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:07:49.856 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:07:49.856 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:07:49.856 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:07:49.856 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 18.4408ms
2024-02-03 15:07:49.856 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:07:49.856 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 19.1089 ms
2024-02-03 15:07:49.856 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 200 105 application/json;+charset=utf-8 73.6115ms
2024-02-03 15:07:49.880 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/favicon.ico - -
2024-02-03 15:07:49.880 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:07:49.880 +02:00 [DBG] The request path /favicon.ico does not match an existing file
2024-02-03 15:07:49.880 +02:00 [DBG] No candidates found for the request path '/favicon.ico'
2024-02-03 15:07:49.880 +02:00 [DBG] Request did not match any endpoints
2024-02-03 15:07:49.881 +02:00 [INF] HTTP GET /favicon.ico responded 404 in 0.4865 ms
2024-02-03 15:07:49.881 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/favicon.ico - - - 404 0 - 1.2232ms
2024-02-03 15:09:09.502 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=dev&Description=dd&Outcome=abc&Status=1&PagingFilteringParameters.OrderDescending=true - -
2024-02-03 15:09:09.502 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:09:09.502 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:09:09.502 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:09:09.503 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:09:09.503 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:09:09.503 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:09:09.503 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:09:09.503 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:09:09.503 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:09:09.503 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:09:09.503 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:09:09.503 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:09:09.503 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:09:09.503 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:09:09.503 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:09:09.503 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:09:09.503 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:09:09.503 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:09:09.503 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:09:09.503 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:09:09.503 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:09:09.503 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:09:09.503 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:09:09.503 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:09:09.503 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:09:09.503 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:09:09.504 +02:00 [DBG] Could not find a value in the request with name 'ScheduledDateStart' for binding property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:09.504 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:09.504 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:09:09.504 +02:00 [DBG] Could not find a value in the request with name 'ScheduledDateEnd' for binding property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:09.504 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:09.504 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:09:09.504 +02:00 [DBG] Could not find a value in the request with name 'ActualDateStart' for binding property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:09.504 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:09.504 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:09:09.504 +02:00 [DBG] Could not find a value in the request with name 'ActualDateEnd' for binding property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:09.504 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:09.504 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:09:09.504 +02:00 [DBG] Could not find a value in the request with name 'CreatedAtStart' for binding property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:09.504 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:09.504 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:09:09.504 +02:00 [DBG] Could not find a value in the request with name 'CreatedAtEnd' for binding property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:09.504 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:09.504 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:09:09.505 +02:00 [DBG] Could not find a value in the request with name 'CreatedBy' for binding property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:09:09.505 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:09:09.505 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:09:09.505 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:09:09.505 +02:00 [DBG] Could not find a value in the request with name 'PagingFilteringParameters.PageNumber' for binding property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:09:09.505 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:09:09.505 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:09:09.505 +02:00 [DBG] Could not find a value in the request with name 'PagingFilteringParameters.OrderBy' for binding property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:09:09.505 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:09:09.505 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:09:09.505 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:09:09.505 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:09:09.505 +02:00 [DBG] Could not find a value in the request with name 'PagingFilteringParameters.PageSize' for binding property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:09:09.505 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:09:09.505 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:09:09.505 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:09:09.505 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:09:09.505 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:09:09.505 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:09:09.506 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": "dev",
  "Description": "dd",
  "Outcome": "abc",
  "Status": 1,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Name",
    "OrderDescending": true,
    "PageSize": 10
  }
}
2024-02-03 15:09:09.514 +02:00 [DBG] Compiling query expression: 
'DbSet<Maintenance>()
    .Include(m => m.Device)
    .Where(m => False || m.Device.Name.Contains(__maintenanceFilter_Device_0))
    .Where(m => False || m.Description.Contains(__maintenanceFilter_Description_1))
    .Where(m => False || m.Outcome.Contains(__maintenanceFilter_Outcome_2))
    .Where(m => False || (int?)m.Status == (int?)__maintenanceFilter_Status_3)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .OrderBy(m => m.Status)
    .ThenBy(m => m.ScheduledDate)'
2024-02-03 15:09:09.518 +02:00 [DBG] Including navigation: 'Maintenance.Device'.
2024-02-03 15:09:09.544 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Maintenance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Maintenance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Maintenance.ActualDate (DateTime?), 1], [Property: Maintenance.CreatedAt (DateTime) Required, 2], [Property: Maintenance.CreatedBy (string) Required, 3], [Property: Maintenance.Description (string), 4], [Property: Maintenance.DeviceId (int) Required FK Index, 5], [Property: Maintenance.Outcome (string), 6], [Property: Maintenance.ScheduledDate (DateTime) Required, 7], [Property: Maintenance.Status (Status) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Device.Alias (string), 10], [Property: Device.Description (string), 11], [Property: Device.DeviceTypeId (int) Required FK Index, 12], [Property: Device.Emails (string), 13], [Property: Device.FirmwareVersion (string), 14], [Property: Device.ImageBytes (byte[]), 15], [Property: Device.LastPingedTs (DateTime?), 16], [Property: Device.LastUploadTime (DateTime?), 17], [Property: Device.LocationId (int) Required FK Index, 18], [Property: Device.Name (string) Required, 19], [Property: Device.SerialNumber (string) Required, 20], [Property: Device.SoftwareVersion (string), 21] }
        SELECT m.Id, m.ActualDate, m.CreatedAt, m.CreatedBy, m.Description, m.DeviceId, m.Outcome, m.ScheduledDate, m.Status, d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion
        FROM Maintenances AS m
        INNER JOIN Devices AS d ON m.DeviceId == d.DeviceId
        WHERE (((CAST(0 AS bit) || ((@__maintenanceFilter_Device_0 LIKE N'') || (CHARINDEX(@__maintenanceFilter_Device_0, d.Name) > 0))) && (CAST(0 AS bit) || ((@__maintenanceFilter_Description_1 LIKE N'') || (CHARINDEX(@__maintenanceFilter_Description_1, m.Description) > 0)))) && (CAST(0 AS bit) || ((@__maintenanceFilter_Outcome_2 LIKE N'') || (CHARINDEX(@__maintenanceFilter_Outcome_2, m.Outcome) > 0)))) && (CAST(0 AS bit) || (m.Status == @__maintenanceFilter_Status_3))
        ORDER BY m.Status ASC, m.ScheduledDate ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Maintenance>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 15:09:09.551 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:09:09.551 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:09:09.551 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:09:09.551 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:09.551 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:09.551 +02:00 [DBG] Executing DbCommand [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000), @__maintenanceFilter_Outcome_2='?' (Size = 4000), @__maintenanceFilter_Status_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0) AND ((@__maintenanceFilter_Outcome_2 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Outcome_2, [m].[Outcome]) > 0) AND [m].[Status] = @__maintenanceFilter_Status_3
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:09:09.580 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000), @__maintenanceFilter_Outcome_2='?' (Size = 4000), @__maintenanceFilter_Status_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0) AND ((@__maintenanceFilter_Outcome_2 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Outcome_2, [m].[Outcome]) > 0) AND [m].[Status] = @__maintenanceFilter_Status_3
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:09:09.580 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:09.580 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:09:09.580 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:09.581 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:09:09.581 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:09:09.581 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:09:09.581 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:09:09.581 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:09:09.581 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:09:09.581 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:09:09.581 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 78.493ms
2024-02-03 15:09:09.581 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:09:09.581 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 79.0345 ms
2024-02-03 15:09:09.582 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=dev&Description=dd&Outcome=abc&Status=1&PagingFilteringParameters.OrderDescending=true - - - 200 106 application/json;+charset=utf-8 79.6941ms
2024-02-03 15:09:37.096 +02:00 [DBG] Connection id "0HN14MVD1GBFP" accepted.
2024-02-03 15:09:37.096 +02:00 [DBG] Connection id "0HN14MVD1GBFP" started.
2024-02-03 15:09:37.096 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:09:37.096 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:09:37.096 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:09:37.119 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:09:37.119 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:09:37.119 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:09:37.119 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:09:37.119 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:09:37.120 +02:00 [DBG] New connection GduCQjguZ-c_Fuwfvjc0eQ created.
2024-02-03 15:09:37.120 +02:00 [DBG] Establishing new connection.
2024-02-03 15:09:37.120 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:09:37.121 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:09:37.159 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:09:37.159 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:09:37.159 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:09:37.159 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:09:37.160 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.4620ms
2024-02-03 15:09:37.167 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:09:37.168 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:09:37.168 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:09:37.168 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:09:37.168 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:09:37.168 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:09:37.168 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:09:37.168 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:09:37.168 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:09:37.168 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:09:37.168 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:09:37.168 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:09:37.168 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:09:37.168 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:09:37.168 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:09:37.168 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:09:37.168 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:09:37.168 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:09:37.168 +02:00 [INF] GetAllDevices
2024-02-03 15:09:37.169 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:09:37.169 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:09:37.169 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:09:37.169 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:37.169 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:37.169 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:09:37.174 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:09:37.175 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:09:37.175 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:09:37.175 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:09:37.175 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:09:37.175 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:09:37.175 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:37.175 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:09:37.176 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:37.176 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:09:37.176 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:09:37.176 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:09:37.176 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:09:37.176 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:09:37.176 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:09:37.176 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:09:37.176 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 7.7354ms
2024-02-03 15:09:37.176 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:09:37.176 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 8.3002 ms
2024-02-03 15:09:37.176 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 9.1391ms
2024-02-03 15:09:37.224 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:09:37.225 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:09:37.226 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:09:37.226 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:09:37.228 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:09:37.228 +02:00 [DBG] Socket closed.
2024-02-03 15:09:37.229 +02:00 [DBG] Removing connection GduCQjguZ-c_Fuwfvjc0eQ from the list of connections.
2024-02-03 15:09:37.229 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:09:37.229 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 109.3218 ms
2024-02-03 15:09:37.229 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 132.7682ms
2024-02-03 15:09:37.229 +02:00 [DBG] Connection id "0HN14MVD1GBFP" disconnecting.
2024-02-03 15:09:37.229 +02:00 [DBG] Connection id "0HN14MVD1GBFP" stopped.
2024-02-03 15:09:37.229 +02:00 [DBG] Connection id "0HN14MVD1GBFP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:09:39.725 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:09:39.725 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:09:39.726 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:09:39.726 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:09:39.726 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.6401ms
2024-02-03 15:09:39.729 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:09:39.729 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:09:39.730 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:09:39.730 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:09:39.730 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:09:39.730 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:09:39.730 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:09:39.730 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:09:39.730 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:09:39.730 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:09:39.730 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:09:39.730 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:09:39.730 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:09:39.730 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:09:39.730 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:09:39.731 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:09:39.731 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:09:39.731 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:09:39.731 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:09:39.731 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:09:39.731 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:09:39.731 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:09:39.731 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:09:39.731 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:09:39.731 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:09:39.732 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:09:39.732 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:09:39.732 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:09:39.732 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:09:39.732 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:39.732 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:09:39.732 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:39.732 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:09:39.732 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:39.732 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:09:39.732 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:39.732 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:09:39.732 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:39.732 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:09:39.732 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:39.733 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:09:39.733 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:09:39.733 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:09:39.733 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:09:39.733 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:09:39.733 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:09:39.733 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:09:39.733 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:09:39.733 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:09:39.733 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:09:39.733 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:09:39.733 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:09:39.734 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:09:39.734 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:09:39.734 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:09:39.734 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:09:39.735 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:09:39.744 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:09:39.744 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:09:39.744 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:09:39.745 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:39.745 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:39.745 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:09:39.750 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:09:39.750 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:39.750 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:09:39.751 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:39.751 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:09:39.751 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:09:39.751 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:09:39.751 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:09:39.751 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:09:39.751 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:09:39.751 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:09:39.751 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 20.7383ms
2024-02-03 15:09:39.751 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:09:39.752 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 21.7245 ms
2024-02-03 15:09:39.752 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 22.7248ms
2024-02-03 15:09:42.818 +02:00 [DBG] Connection id "0HN14MVD1GBFQ" accepted.
2024-02-03 15:09:42.819 +02:00 [DBG] Connection id "0HN14MVD1GBFQ" started.
2024-02-03 15:09:42.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:09:42.819 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:09:42.819 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:09:42.819 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:09:42.819 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:09:42.819 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:09:42.819 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:09:42.819 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:09:42.819 +02:00 [DBG] New connection I_ZBpd7jH49nLzx7yDAinw created.
2024-02-03 15:09:42.819 +02:00 [DBG] Establishing new connection.
2024-02-03 15:09:42.820 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:09:42.820 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:09:42.888 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:09:42.888 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:09:42.888 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:09:42.888 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:09:42.888 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:09:42.888 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:09:42.888 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:09:42.888 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:09:42.888 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:09:42.888 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:09:42.888 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:09:42.888 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:09:42.888 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:09:42.888 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:09:42.888 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:09:42.888 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:09:42.888 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:09:42.888 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:09:42.888 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:09:42.888 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:09:42.888 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:09:42.888 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:09:42.888 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:09:42.888 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:09:42.888 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:09:42.888 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:09:42.888 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:09:42.888 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:09:42.889 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:09:42.889 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:09:42.889 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:09:42.894 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:09:42.894 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:09:42.894 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:09:42.894 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:42.894 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:42.894 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:09:42.896 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:09:42.898 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:42.898 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:09:42.898 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:09:42.898 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:09:42.898 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:09:42.898 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:09:42.898 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:09:42.898 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:09:42.898 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:09:42.898 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:09:42.899 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 10.3657ms
2024-02-03 15:09:42.899 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:09:42.899 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 10.8343 ms
2024-02-03 15:09:42.899 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 11.2686ms
2024-02-03 15:09:42.990 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:09:42.990 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:09:42.992 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:09:42.992 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:09:42.993 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:09:42.993 +02:00 [DBG] Socket closed.
2024-02-03 15:09:42.993 +02:00 [DBG] Removing connection I_ZBpd7jH49nLzx7yDAinw from the list of connections.
2024-02-03 15:09:42.993 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:09:42.993 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 174.0845 ms
2024-02-03 15:09:42.993 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 174.4341ms
2024-02-03 15:09:42.993 +02:00 [DBG] Connection id "0HN14MVD1GBFQ" disconnecting.
2024-02-03 15:09:42.993 +02:00 [DBG] Connection id "0HN14MVD1GBFQ" stopped.
2024-02-03 15:09:42.994 +02:00 [DBG] Connection id "0HN14MVD1GBFQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:12:45.803 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:12:45.803 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:12:45.803 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:12:45.803 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:12:45.804 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 1.0544ms
2024-02-03 15:12:45.816 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:12:45.816 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:12:45.816 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:12:45.816 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:12:45.816 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:12:45.816 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:12:45.816 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:12:45.816 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:12:45.816 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:12:45.816 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:12:45.816 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:12:45.816 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:12:45.817 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:12:45.817 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:12:45.817 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:12:45.817 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:12:45.817 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:12:45.817 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:12:45.817 +02:00 [INF] GetAllDevices
2024-02-03 15:12:45.817 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:12:45.818 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:12:45.818 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:12:45.818 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:12:45.818 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:12:45.818 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:12:45.826 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:12:45.828 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:12:45.829 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:12:45.829 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:12:45.829 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:12:45.829 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:12:45.829 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:12:45.830 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-02-03 15:12:45.830 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:12:45.830 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:12:45.830 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:12:45.830 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:12:45.830 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:12:45.830 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:12:45.830 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:12:45.830 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:12:45.831 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 13.9968ms
2024-02-03 15:12:45.831 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:12:45.831 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 14.8619 ms
2024-02-03 15:12:45.831 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 15.5757ms
2024-02-03 15:13:12.121 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:13:12.122 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:13:12.122 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:13:12.122 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:13:12.122 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.5040ms
2024-02-03 15:13:12.129 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:13:12.129 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:13:12.129 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:13:12.129 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:13:12.129 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:13:12.129 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:13:12.129 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:13:12.129 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:13:12.129 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:13:12.130 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:13:12.130 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:13:12.130 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:13:12.130 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:13:12.130 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:13:12.130 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:13:12.130 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:13:12.130 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:13:12.130 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:13:12.130 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:13:12.130 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:13:12.130 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:13:12.130 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:13:12.130 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:13:12.130 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:13:12.130 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:13:12.130 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:13:12.130 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:13:12.130 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:13:12.131 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:13:12.131 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:13:12.131 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:13:12.131 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:13:12.131 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:13:12.131 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:13:12.131 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:13:12.131 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:13:12.131 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:13:12.131 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:13:12.131 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:13:12.131 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:13:12.131 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:13:12.132 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:13:12.132 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:13:12.132 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:13:12.132 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:13:12.139 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:13:12.139 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:13:12.139 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:13:12.139 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:13:12.139 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:13:12.140 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:13:12.143 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:13:12.143 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:13:12.143 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:13:12.143 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:13:12.143 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:13:12.143 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:13:12.143 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:13:12.143 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:13:12.143 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:13:12.143 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:13:12.143 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:13:12.144 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 13.6862ms
2024-02-03 15:13:12.144 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:13:12.144 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 14.3433 ms
2024-02-03 15:13:12.144 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 15.2630ms
2024-02-03 15:13:24.473 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:13:24.473 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:13:24.473 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:13:24.473 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:13:24.474 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.6414ms
2024-02-03 15:13:24.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:13:24.477 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:13:24.477 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:13:24.477 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:13:24.477 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:13:24.477 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:13:24.477 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:13:24.477 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:13:24.478 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:13:24.478 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:13:24.478 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:13:24.478 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:13:24.478 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:13:24.478 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:13:24.478 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:13:24.478 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:13:24.478 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:13:24.478 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:13:24.478 +02:00 [INF] GetAllDevices
2024-02-03 15:13:24.478 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:13:24.479 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:13:24.479 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:13:24.479 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:13:24.479 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:13:24.479 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:13:24.482 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:13:24.486 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:13:24.486 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:13:24.486 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:13:24.486 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:13:24.486 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:13:24.486 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:13:24.486 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-02-03 15:13:24.486 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:13:24.486 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:13:24.487 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:13:24.487 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:13:24.487 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:13:24.487 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:13:24.487 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:13:24.487 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:13:24.487 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 9.1103ms
2024-02-03 15:13:24.487 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:13:24.487 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 9.7621 ms
2024-02-03 15:13:24.488 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 10.8126ms
2024-02-03 15:13:28.547 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:13:28.547 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:13:28.547 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:13:28.547 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:13:28.548 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.9318ms
2024-02-03 15:13:28.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:13:28.551 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:13:28.551 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:13:28.552 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:13:28.552 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:13:28.552 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:13:28.552 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:13:28.552 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:13:28.552 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:13:28.552 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:13:28.552 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:13:28.552 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:13:28.552 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:13:28.552 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:13:28.552 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:13:28.552 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:13:28.552 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:13:28.552 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:13:28.553 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:13:28.553 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:13:28.553 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:13:28.553 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:13:28.553 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:13:28.553 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:13:28.553 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:13:28.553 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:13:28.553 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:13:28.553 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:13:28.553 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:13:28.553 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:13:28.554 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:13:28.554 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:13:28.554 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:13:28.554 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:13:28.554 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:13:28.554 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:13:28.554 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:13:28.554 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:13:28.554 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:13:28.554 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:13:28.554 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:13:28.554 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:13:28.554 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:13:28.554 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:13:28.554 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:13:28.564 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:13:28.564 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:13:28.564 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:13:28.564 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:13:28.564 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:13:28.564 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:13:28.566 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:13:28.567 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:13:28.568 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:13:28.568 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:13:28.569 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:13:28.569 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:13:28.569 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:13:28.569 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:13:28.569 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:13:28.569 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:13:28.569 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:13:28.570 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 17.4929ms
2024-02-03 15:13:28.570 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:13:28.570 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 18.2772 ms
2024-02-03 15:13:28.570 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 19.0411ms
2024-02-03 15:14:34.080 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:14:34.080 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:14:34.080 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:14:34.080 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:14:34.080 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.5998ms
2024-02-03 15:14:34.090 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:14:34.090 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:14:34.090 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:14:34.090 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:14:34.090 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:14:34.090 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:14:34.090 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:14:34.090 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:14:34.090 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:14:34.090 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:14:34.091 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:14:34.091 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:14:34.091 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:14:34.091 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:14:34.091 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:14:34.091 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:14:34.091 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:14:34.091 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:14:34.091 +02:00 [INF] GetAllDevices
2024-02-03 15:14:34.091 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:14:34.091 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:14:34.091 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:14:34.091 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:14:34.092 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:14:34.092 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:14:34.099 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:14:34.101 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:14:34.101 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:14:34.101 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:14:34.102 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:14:34.102 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:14:34.102 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:14:34.102 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:14:34.102 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:14:34.102 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:14:34.102 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:14:34.103 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:14:34.103 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:14:34.103 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:14:34.103 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:14:34.103 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:14:34.103 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 12.485ms
2024-02-03 15:14:34.103 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:14:34.103 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 13.2084 ms
2024-02-03 15:14:34.104 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 14.0640ms
2024-02-03 15:14:38.632 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:14:38.632 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:14:38.632 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:14:38.632 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:14:38.632 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.6121ms
2024-02-03 15:14:38.635 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 560
2024-02-03 15:14:38.635 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:14:38.635 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:14:38.635 +02:00 [DBG] POST requests are not supported
2024-02-03 15:14:38.635 +02:00 [DBG] POST requests are not supported
2024-02-03 15:14:38.636 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:14:38.636 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:14:38.636 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:14:38.636 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:14:38.636 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:14:38.636 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:14:38.636 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:14:38.636 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:14:38.636 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:14:38.636 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:14:38.636 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:14:38.637 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:14:38.637 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:14:38.637 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:14:38.637 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:14:38.637 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:14:38.637 +02:00 [DBG] Connection id "0HN14MVD1GBFN", Request id "0HN14MVD1GBFN:0000002D": started reading request body.
2024-02-03 15:14:38.637 +02:00 [DBG] Connection id "0HN14MVD1GBFN", Request id "0HN14MVD1GBFN:0000002D": done reading request body.
2024-02-03 15:14:38.637 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:14:38.637 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:14:38.637 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:14:38.637 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:14:38.638 +02:00 [INF] AddDeviceMaintenance for {
  "Id": 0,
  "DeviceId": 0,
  "Device": {
    "DeviceId": 2,
    "Name": "Jziki no. 1",
    "SerialNumber": "JT12020",
    "Description": "Tensiometru",
    "Location": {
      "LocationId": 1,
      "Name": "Petrosani",
      "EmailAlertsActive": true,
      "Address": "Str 1 Decembrie 1918",
      "City": "Petrosani",
      "Country": "Romania",
      "IsLocationUsed": false
    },
    "DeviceType": {
      "DeviceTypeId": 9,
      "Name": "Tensiometru"
    },
    "ImageBytes": null
  },
  "ScheduledDate": "2024-02-04T22:00:00Z",
  "Description": ""
}
2024-02-03 15:14:38.638 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Maintenance'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:14:38.638 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:14:38.638 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:14:38.638 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:14:38.639 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:14:38.639 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:14:38.639 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:14:38.639 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:14:38.639 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:14:38.639 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:14:38.639 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:14:38.645 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:14:38.646 +02:00 [DBG] The foreign key property 'Maintenance.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:14:38.646 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:14:38.646 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:14:38.646 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:14:38.647 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:14:38.647 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:14:38.647 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:14:38.647 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:14:38.647 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:14:38.647 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:14:38.647 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:14:38.648 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:14:38.648 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:14:38.648 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 11.6277ms
2024-02-03 15:14:38.648 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:14:38.648 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 200 in 12.6619 ms
2024-02-03 15:14:38.648 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 560 - 200 413 application/json;+charset=utf-8 13.6498ms
2024-02-03 15:14:38.683 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:14:38.683 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:14:38.683 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:14:38.683 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:14:38.684 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.9523ms
2024-02-03 15:14:38.687 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:14:38.687 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:14:38.687 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:14:38.687 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:14:38.687 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:14:38.688 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:14:38.688 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:14:38.688 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:14:38.688 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:14:38.688 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:14:38.688 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:14:38.688 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:14:38.688 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:14:38.688 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:14:38.688 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:14:38.688 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:14:38.688 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:14:38.688 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:14:38.688 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:14:38.688 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:14:38.688 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:14:38.689 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:14:38.689 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:14:38.690 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:14:38.690 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:14:38.690 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:14:38.690 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:14:38.690 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:14:38.690 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:14:38.690 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:14:38.690 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:14:38.690 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:14:38.690 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:14:38.701 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:14:38.701 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:14:38.701 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:14:38.701 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:14:38.701 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:14:38.701 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:14:38.707 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:14:38.707 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:14:38.707 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:14:38.708 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:14:38.708 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:14:38.708 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:14:38.708 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:14:38.708 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:14:38.708 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:14:38.708 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:14:38.708 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:14:38.709 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 20.331ms
2024-02-03 15:14:38.709 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:14:38.709 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 21.3068 ms
2024-02-03 15:14:38.709 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 22.2623ms
2024-02-03 15:15:57.152 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:15:57.153 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:15:57.153 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:15:57.153 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:15:57.153 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.6682ms
2024-02-03 15:15:57.163 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:15:57.163 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:15:57.164 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:15:57.164 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:15:57.164 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:15:57.164 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:15:57.164 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:15:57.164 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:15:57.164 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:15:57.164 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:15:57.164 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:15:57.164 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:15:57.164 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:15:57.164 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:15:57.164 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:15:57.164 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:15:57.165 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:15:57.165 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:15:57.165 +02:00 [INF] GetAllDevices
2024-02-03 15:15:57.165 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:15:57.165 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:15:57.165 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:15:57.166 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:15:57.166 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:15:57.166 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:15:57.175 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:15:57.176 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:15:57.177 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:15:57.177 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:15:57.177 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:15:57.177 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:15:57.177 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:15:57.177 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:15:57.177 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:15:57.177 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:15:57.178 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:15:57.178 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:15:57.178 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:15:57.178 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:15:57.178 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:15:57.178 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:15:57.178 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 13.6004ms
2024-02-03 15:15:57.178 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:15:57.178 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 14.4748 ms
2024-02-03 15:15:57.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 15.3610ms
2024-02-03 15:16:56.872 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:16:56.873 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:16:56.873 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:16:56.873 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:16:56.874 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 3.1187ms
2024-02-03 15:16:56.904 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 562
2024-02-03 15:16:56.926 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:16:56.926 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:16:56.926 +02:00 [DBG] POST requests are not supported
2024-02-03 15:16:56.926 +02:00 [DBG] POST requests are not supported
2024-02-03 15:16:56.926 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:16:56.926 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:16:56.926 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:16:56.927 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:16:56.927 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:16:56.927 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:16:56.927 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:16:56.928 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:16:56.928 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:16:56.928 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:16:56.928 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:16:56.929 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:16:56.929 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:16:56.929 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:16:56.930 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:16:56.930 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:16:56.930 +02:00 [DBG] Connection id "0HN14MVD1GBFN", Request id "0HN14MVD1GBFN:00000039": started reading request body.
2024-02-03 15:16:56.930 +02:00 [DBG] Connection id "0HN14MVD1GBFN", Request id "0HN14MVD1GBFN:00000039": done reading request body.
2024-02-03 15:16:56.931 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:16:56.931 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:16:56.931 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:16:56.932 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:16:56.932 +02:00 [INF] AddDeviceMaintenance for {
  "Id": 0,
  "DeviceId": 0,
  "Device": {
    "DeviceId": 2,
    "Name": "Jziki no. 1",
    "SerialNumber": "JT12020",
    "Description": "Tensiometru",
    "Location": {
      "LocationId": 1,
      "Name": "Petrosani",
      "EmailAlertsActive": true,
      "Address": "Str 1 Decembrie 1918",
      "City": "Petrosani",
      "Country": "Romania",
      "IsLocationUsed": false
    },
    "DeviceType": {
      "DeviceTypeId": 9,
      "Name": "Tensiometru"
    },
    "ImageBytes": null
  },
  "ScheduledDate": "2024-02-07T22:00:00Z",
  "Description": "aa"
}
2024-02-03 15:16:56.933 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Maintenance'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:16:56.933 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:16:56.933 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:16:56.933 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:16:56.934 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:16:56.934 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:16:56.935 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:16:56.935 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:16:56.935 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:16:56.935 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:16:56.936 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:16:56.954 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:16:56.955 +02:00 [DBG] The foreign key property 'Maintenance.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:16:56.956 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:16:56.957 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:16:56.959 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:16:56.960 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-02-03 15:16:56.961 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:16:56.961 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:16:56.962 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:16:56.962 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:16:56.962 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:16:56.962 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:16:56.963 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:16:56.963 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:16:56.964 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 36.0513ms
2024-02-03 15:16:56.964 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:16:56.965 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 200 in 38.3825 ms
2024-02-03 15:16:56.965 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 562 - 200 415 application/json;+charset=utf-8 61.0475ms
2024-02-03 15:18:26.519 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:18:26.519 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:26.519 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:26.520 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:18:26.521 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 1.8784ms
2024-02-03 15:18:26.528 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:18:26.531 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:26.531 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:26.531 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:18:26.531 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:18:26.531 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:26.531 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:26.531 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:26.531 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:26.531 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:26.531 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:18:26.531 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:18:26.531 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:18:26.531 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:18:26.531 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:18:26.531 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:18:26.531 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:26.531 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:18:26.532 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:18:26.532 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:18:26.533 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:18:26.533 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:26.533 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:26.533 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:26.533 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:26.533 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:18:26.542 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:18:26.542 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:26.542 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:26.542 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:26.542 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:26.542 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:26.548 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:26.549 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:26.549 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:18:26.549 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:26.549 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:18:26.549 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:18:26.549 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:18:26.549 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:18:26.549 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:18:26.549 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:18:26.549 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:18:26.549 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 17.7431ms
2024-02-03 15:18:26.549 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:26.549 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 18.3608 ms
2024-02-03 15:18:26.549 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 21.4733ms
2024-02-03 15:18:33.897 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=a&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:18:33.897 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:33.897 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:33.897 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:18:33.898 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=a&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 1.2233ms
2024-02-03 15:18:33.902 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=a&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:18:33.903 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:33.903 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:33.903 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:18:33.903 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:18:33.903 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:33.903 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:33.903 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:33.903 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:33.903 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:33.904 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:18:33.904 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:18:33.904 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:18:33.904 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:18:33.904 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:18:33.904 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:18:33.904 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:33.904 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:33.904 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:33.905 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:18:33.905 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:18:33.905 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:18:33.905 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:18:33.905 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:18:33.905 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:18:33.905 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:18:33.905 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:18:33.905 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:18:33.905 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:18:33.905 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:33.905 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:18:33.905 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:33.905 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:18:33.906 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:33.906 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:18:33.906 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:33.906 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:18:33.906 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:33.906 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:18:33.906 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:33.906 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:18:33.906 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:18:33.906 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:18:33.906 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:18:33.906 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:18:33.906 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:18:33.906 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:18:33.906 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:18:33.907 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:18:33.907 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:18:33.907 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:18:33.907 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:18:33.907 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:33.907 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:33.907 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:33.907 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:33.907 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": "a",
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:18:33.923 +02:00 [DBG] Compiling query expression: 
'DbSet<Maintenance>()
    .Include(m => m.Device)
    .Where(m => False || m.Device.Name.Contains(__maintenanceFilter_Device_0))
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .OrderBy(m => m.Status)
    .ThenBy(m => m.ScheduledDate)'
2024-02-03 15:18:33.925 +02:00 [DBG] Including navigation: 'Maintenance.Device'.
2024-02-03 15:18:33.941 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Maintenance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Maintenance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Maintenance.ActualDate (DateTime?), 1], [Property: Maintenance.CreatedAt (DateTime) Required, 2], [Property: Maintenance.CreatedBy (string) Required, 3], [Property: Maintenance.Description (string), 4], [Property: Maintenance.DeviceId (int) Required FK Index, 5], [Property: Maintenance.Outcome (string), 6], [Property: Maintenance.ScheduledDate (DateTime) Required, 7], [Property: Maintenance.Status (Status) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Device.Alias (string), 10], [Property: Device.Description (string), 11], [Property: Device.DeviceTypeId (int) Required FK Index, 12], [Property: Device.Emails (string), 13], [Property: Device.FirmwareVersion (string), 14], [Property: Device.ImageBytes (byte[]), 15], [Property: Device.LastPingedTs (DateTime?), 16], [Property: Device.LastUploadTime (DateTime?), 17], [Property: Device.LocationId (int) Required FK Index, 18], [Property: Device.Name (string) Required, 19], [Property: Device.SerialNumber (string) Required, 20], [Property: Device.SoftwareVersion (string), 21] }
        SELECT m.Id, m.ActualDate, m.CreatedAt, m.CreatedBy, m.Description, m.DeviceId, m.Outcome, m.ScheduledDate, m.Status, d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion
        FROM Maintenances AS m
        INNER JOIN Devices AS d ON m.DeviceId == d.DeviceId
        WHERE CAST(0 AS bit) || ((@__maintenanceFilter_Device_0 LIKE N'') || (CHARINDEX(@__maintenanceFilter_Device_0, d.Name) > 0))
        ORDER BY m.Status ASC, m.ScheduledDate ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Maintenance>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 15:18:33.942 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:18:33.942 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:33.942 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:33.942 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:33.942 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:33.942 +02:00 [DBG] Executing DbCommand [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE (@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:33.949 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE (@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:33.949 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:33.949 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:18:33.949 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:33.949 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:18:33.950 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:18:33.950 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:18:33.950 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:18:33.950 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:18:33.950 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:18:33.950 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:18:33.950 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 46.004ms
2024-02-03 15:18:33.950 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:33.950 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 47.1097 ms
2024-02-03 15:18:33.951 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=a&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 48.4003ms
2024-02-03 15:18:34.160 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aa&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:18:34.160 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:34.160 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:34.161 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:18:34.161 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aa&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 1.1456ms
2024-02-03 15:18:34.167 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aa&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:18:34.168 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:34.168 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:34.168 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:18:34.168 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:18:34.168 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:34.168 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:34.169 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:34.169 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:34.169 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:34.169 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:18:34.169 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:18:34.169 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:18:34.169 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:18:34.169 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:18:34.170 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:18:34.170 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:34.170 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:34.170 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:34.170 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:18:34.170 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:18:34.171 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:18:34.171 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:18:34.171 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:18:34.171 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:18:34.171 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:18:34.171 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:18:34.171 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:18:34.171 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:18:34.171 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:34.172 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:18:34.172 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:34.172 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:18:34.172 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:34.172 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:18:34.172 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:34.172 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:18:34.172 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:34.172 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:18:34.172 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:34.172 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:18:34.172 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:18:34.173 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:18:34.173 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:18:34.173 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:18:34.173 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:18:34.173 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:18:34.173 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:18:34.173 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:18:34.173 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:18:34.174 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:18:34.174 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:18:34.174 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:34.174 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:34.174 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:34.174 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:34.174 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": "aa",
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:18:34.200 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:18:34.201 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:34.201 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:34.201 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:34.201 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:34.201 +02:00 [DBG] Executing DbCommand [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE (@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:34.207 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE (@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:34.209 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:34.210 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:18:34.212 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:34.228 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (16ms).
2024-02-03 15:18:34.229 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:18:34.229 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:18:34.229 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:18:34.229 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:18:34.229 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:18:34.229 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:18:34.230 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 60.0304ms
2024-02-03 15:18:34.230 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:34.230 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 61.5945 ms
2024-02-03 15:18:34.230 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aa&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 63.4765ms
2024-02-03 15:18:34.372 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:18:34.372 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:34.372 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:34.373 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:18:34.373 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 2.0730ms
2024-02-03 15:18:34.379 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:18:34.380 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:34.380 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:34.380 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:18:34.380 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:18:34.380 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:34.380 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:34.381 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:34.381 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:34.381 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:34.381 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:18:34.381 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:18:34.381 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:18:34.381 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:18:34.381 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:18:34.381 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:18:34.382 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:34.382 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:34.382 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:34.382 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:18:34.382 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:18:34.382 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:18:34.383 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:18:34.383 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:18:34.383 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:18:34.383 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:18:34.383 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:18:34.383 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:18:34.383 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:18:34.383 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:34.384 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:18:34.384 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:34.384 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:18:34.384 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:34.384 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:18:34.384 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:34.384 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:18:34.384 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:34.384 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:18:34.384 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:34.384 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:18:34.384 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:18:34.385 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:18:34.385 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:18:34.385 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:18:34.385 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:18:34.385 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:18:34.385 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:18:34.385 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:18:34.385 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:18:34.385 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:18:34.386 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:18:34.386 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:34.386 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:34.386 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:34.386 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:34.387 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": "aaa",
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:18:34.408 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:18:34.408 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:34.408 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:34.408 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:34.409 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:34.409 +02:00 [DBG] Executing DbCommand [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE (@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:34.414 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE (@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:34.417 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:34.419 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-02-03 15:18:34.420 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:34.421 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:18:34.421 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:18:34.421 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:18:34.421 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:18:34.421 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:18:34.421 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:18:34.421 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:18:34.422 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 40.5852ms
2024-02-03 15:18:34.422 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:34.422 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 42.1061 ms
2024-02-03 15:18:34.423 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 43.5666ms
2024-02-03 15:18:35.569 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=a&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:18:35.569 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:35.569 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:35.570 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:18:35.570 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=a&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 1.3695ms
2024-02-03 15:18:35.576 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=a&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:18:35.591 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:35.591 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:35.591 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:18:35.591 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:18:35.591 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:35.592 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:35.592 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:35.592 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:35.592 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:35.592 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:18:35.592 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:18:35.592 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:18:35.592 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:18:35.592 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:18:35.592 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:18:35.592 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:35.593 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:35.593 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:35.593 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:18:35.593 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:18:35.593 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:18:35.593 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:18:35.593 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:18:35.593 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:18:35.594 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:18:35.594 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:18:35.594 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:18:35.594 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:18:35.594 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.594 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:18:35.594 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.594 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:18:35.594 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.594 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:18:35.594 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.594 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:18:35.594 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.594 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:18:35.595 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.595 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:18:35.595 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:18:35.595 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:18:35.595 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:18:35.595 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:18:35.595 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:18:35.595 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:18:35.595 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:18:35.595 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:18:35.595 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:18:35.595 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:18:35.596 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:18:35.596 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:35.596 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:35.596 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:35.596 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:35.596 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": "aaa",
  "Description": "a",
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:18:35.613 +02:00 [DBG] Compiling query expression: 
'DbSet<Maintenance>()
    .Include(m => m.Device)
    .Where(m => False || m.Device.Name.Contains(__maintenanceFilter_Device_0))
    .Where(m => False || m.Description.Contains(__maintenanceFilter_Description_1))
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .OrderBy(m => m.Status)
    .ThenBy(m => m.ScheduledDate)'
2024-02-03 15:18:35.615 +02:00 [DBG] Including navigation: 'Maintenance.Device'.
2024-02-03 15:18:35.634 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Maintenance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Maintenance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Maintenance.ActualDate (DateTime?), 1], [Property: Maintenance.CreatedAt (DateTime) Required, 2], [Property: Maintenance.CreatedBy (string) Required, 3], [Property: Maintenance.Description (string), 4], [Property: Maintenance.DeviceId (int) Required FK Index, 5], [Property: Maintenance.Outcome (string), 6], [Property: Maintenance.ScheduledDate (DateTime) Required, 7], [Property: Maintenance.Status (Status) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Device.Alias (string), 10], [Property: Device.Description (string), 11], [Property: Device.DeviceTypeId (int) Required FK Index, 12], [Property: Device.Emails (string), 13], [Property: Device.FirmwareVersion (string), 14], [Property: Device.ImageBytes (byte[]), 15], [Property: Device.LastPingedTs (DateTime?), 16], [Property: Device.LastUploadTime (DateTime?), 17], [Property: Device.LocationId (int) Required FK Index, 18], [Property: Device.Name (string) Required, 19], [Property: Device.SerialNumber (string) Required, 20], [Property: Device.SoftwareVersion (string), 21] }
        SELECT m.Id, m.ActualDate, m.CreatedAt, m.CreatedBy, m.Description, m.DeviceId, m.Outcome, m.ScheduledDate, m.Status, d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion
        FROM Maintenances AS m
        INNER JOIN Devices AS d ON m.DeviceId == d.DeviceId
        WHERE (CAST(0 AS bit) || ((@__maintenanceFilter_Device_0 LIKE N'') || (CHARINDEX(@__maintenanceFilter_Device_0, d.Name) > 0))) && (CAST(0 AS bit) || ((@__maintenanceFilter_Description_1 LIKE N'') || (CHARINDEX(@__maintenanceFilter_Description_1, m.Description) > 0)))
        ORDER BY m.Status ASC, m.ScheduledDate ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Maintenance>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 15:18:35.635 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:18:35.635 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:35.635 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:35.635 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:35.635 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:35.635 +02:00 [DBG] Executing DbCommand [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0)
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:35.645 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0)
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:35.645 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:35.645 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:18:35.645 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:35.645 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:18:35.645 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:18:35.645 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:18:35.646 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:18:35.646 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:18:35.646 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:18:35.646 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:18:35.646 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 53.4725ms
2024-02-03 15:18:35.646 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:35.646 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 54.6610 ms
2024-02-03 15:18:35.646 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=a&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 70.4689ms
2024-02-03 15:18:35.773 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aa&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:18:35.774 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:35.774 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:35.774 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:18:35.775 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aa&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 1.5686ms
2024-02-03 15:18:35.780 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aa&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:18:35.781 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:35.781 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:35.781 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:18:35.781 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:18:35.781 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:35.781 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:35.781 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:35.781 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:35.781 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:35.781 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:18:35.782 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:18:35.782 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:18:35.782 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:18:35.782 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:18:35.782 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:18:35.782 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:35.782 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:35.782 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:35.782 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:18:35.783 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:18:35.783 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:18:35.783 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:18:35.783 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:18:35.783 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:18:35.783 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:18:35.783 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:18:35.783 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:18:35.783 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:18:35.783 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.783 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:18:35.783 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.784 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:18:35.784 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.784 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:18:35.784 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.784 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:18:35.784 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.784 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:18:35.784 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.784 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:18:35.784 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:18:35.784 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:18:35.784 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:18:35.784 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:18:35.785 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:18:35.785 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:18:35.785 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:18:35.785 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:18:35.785 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:18:35.785 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:18:35.785 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:18:35.785 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:35.785 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:35.785 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:35.785 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:35.786 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": "aaa",
  "Description": "aa",
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:18:35.804 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:18:35.804 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:35.804 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:35.804 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:35.804 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:35.805 +02:00 [DBG] Executing DbCommand [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0)
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:35.809 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0)
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:35.811 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:35.813 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:18:35.813 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:35.815 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-02-03 15:18:35.816 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:18:35.816 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:18:35.816 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:18:35.816 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:18:35.816 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:18:35.816 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:18:35.817 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 34.7337ms
2024-02-03 15:18:35.817 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:35.817 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 35.9737 ms
2024-02-03 15:18:35.817 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aa&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 37.1298ms
2024-02-03 15:18:35.950 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:18:35.950 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:35.950 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:35.950 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:18:35.951 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 1.2815ms
2024-02-03 15:18:35.957 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:18:35.958 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:35.958 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:35.959 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:18:35.959 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:18:35.959 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:35.959 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:35.959 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:35.959 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:35.960 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:35.960 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:18:35.960 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:18:35.960 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:18:35.960 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:18:35.960 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:18:35.960 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:18:35.961 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:35.961 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:35.961 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:35.961 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:18:35.961 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:18:35.962 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:18:35.962 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:18:35.962 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:18:35.962 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:18:35.962 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:18:35.962 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:18:35.962 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:18:35.963 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:18:35.963 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.963 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:18:35.963 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.963 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:18:35.963 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.963 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:18:35.963 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.963 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:18:35.963 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.963 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:18:35.964 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:35.964 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:18:35.964 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:18:35.964 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:18:35.964 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:18:35.964 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:18:35.964 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:18:35.964 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:18:35.964 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:18:35.964 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:18:35.965 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:18:35.965 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:18:35.965 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:18:35.965 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:35.965 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:35.965 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:35.965 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:35.966 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": "aaa",
  "Description": "aaa",
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:18:35.985 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:18:35.986 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:35.986 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:35.986 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:35.986 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:35.986 +02:00 [DBG] Executing DbCommand [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0)
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:35.990 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0)
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:35.993 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:35.995 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:18:35.996 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:35.997 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-02-03 15:18:35.998 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:18:35.998 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:18:35.998 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:18:35.998 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:18:35.998 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:18:35.998 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:18:35.999 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 38.4426ms
2024-02-03 15:18:35.999 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:35.999 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 40.0934 ms
2024-02-03 15:18:36.000 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 42.8218ms
2024-02-03 15:18:36.664 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=s&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:18:36.664 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:36.664 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:36.664 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:18:36.665 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=s&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 1.2400ms
2024-02-03 15:18:36.670 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=s&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:18:36.670 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:36.671 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:36.671 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:18:36.671 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:18:36.671 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:36.671 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:36.671 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:36.671 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:36.671 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:36.671 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:18:36.672 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:18:36.672 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:18:36.672 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:18:36.672 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:18:36.672 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:18:36.672 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:36.672 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:36.672 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:36.672 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:18:36.673 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:18:36.673 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:18:36.673 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:18:36.673 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:18:36.673 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:18:36.673 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:18:36.673 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:18:36.673 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:18:36.673 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:18:36.673 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:36.673 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:18:36.673 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:36.674 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:18:36.674 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:36.674 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:18:36.674 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:36.674 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:18:36.674 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:36.674 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:18:36.674 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:36.674 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:18:36.674 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:18:36.674 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:18:36.674 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:18:36.674 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:18:36.675 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:18:36.675 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:18:36.675 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:18:36.675 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:18:36.675 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:18:36.675 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:18:36.675 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:18:36.675 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:36.675 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:36.675 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:36.675 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:36.676 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": "aaa",
  "Description": "aaa",
  "Outcome": "s",
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:18:36.693 +02:00 [DBG] Compiling query expression: 
'DbSet<Maintenance>()
    .Include(m => m.Device)
    .Where(m => False || m.Device.Name.Contains(__maintenanceFilter_Device_0))
    .Where(m => False || m.Description.Contains(__maintenanceFilter_Description_1))
    .Where(m => False || m.Outcome.Contains(__maintenanceFilter_Outcome_2))
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .OrderBy(m => m.Status)
    .ThenBy(m => m.ScheduledDate)'
2024-02-03 15:18:36.695 +02:00 [DBG] Including navigation: 'Maintenance.Device'.
2024-02-03 15:18:36.717 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Maintenance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Maintenance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Maintenance.ActualDate (DateTime?), 1], [Property: Maintenance.CreatedAt (DateTime) Required, 2], [Property: Maintenance.CreatedBy (string) Required, 3], [Property: Maintenance.Description (string), 4], [Property: Maintenance.DeviceId (int) Required FK Index, 5], [Property: Maintenance.Outcome (string), 6], [Property: Maintenance.ScheduledDate (DateTime) Required, 7], [Property: Maintenance.Status (Status) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Device.Alias (string), 10], [Property: Device.Description (string), 11], [Property: Device.DeviceTypeId (int) Required FK Index, 12], [Property: Device.Emails (string), 13], [Property: Device.FirmwareVersion (string), 14], [Property: Device.ImageBytes (byte[]), 15], [Property: Device.LastPingedTs (DateTime?), 16], [Property: Device.LastUploadTime (DateTime?), 17], [Property: Device.LocationId (int) Required FK Index, 18], [Property: Device.Name (string) Required, 19], [Property: Device.SerialNumber (string) Required, 20], [Property: Device.SoftwareVersion (string), 21] }
        SELECT m.Id, m.ActualDate, m.CreatedAt, m.CreatedBy, m.Description, m.DeviceId, m.Outcome, m.ScheduledDate, m.Status, d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion
        FROM Maintenances AS m
        INNER JOIN Devices AS d ON m.DeviceId == d.DeviceId
        WHERE ((CAST(0 AS bit) || ((@__maintenanceFilter_Device_0 LIKE N'') || (CHARINDEX(@__maintenanceFilter_Device_0, d.Name) > 0))) && (CAST(0 AS bit) || ((@__maintenanceFilter_Description_1 LIKE N'') || (CHARINDEX(@__maintenanceFilter_Description_1, m.Description) > 0)))) && (CAST(0 AS bit) || ((@__maintenanceFilter_Outcome_2 LIKE N'') || (CHARINDEX(@__maintenanceFilter_Outcome_2, m.Outcome) > 0)))
        ORDER BY m.Status ASC, m.ScheduledDate ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Maintenance>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 15:18:36.718 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:18:36.718 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:36.718 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:36.718 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:36.718 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:36.719 +02:00 [DBG] Executing DbCommand [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000), @__maintenanceFilter_Outcome_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0) AND ((@__maintenanceFilter_Outcome_2 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Outcome_2, [m].[Outcome]) > 0)
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:36.734 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000), @__maintenanceFilter_Outcome_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0) AND ((@__maintenanceFilter_Outcome_2 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Outcome_2, [m].[Outcome]) > 0)
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:36.735 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:36.735 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:18:36.735 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:36.735 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:18:36.736 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:18:36.736 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:18:36.736 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:18:36.736 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:18:36.736 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:18:36.736 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:18:36.737 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 64.6335ms
2024-02-03 15:18:36.737 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:36.737 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 65.8728 ms
2024-02-03 15:18:36.737 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=s&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 67.1413ms
2024-02-03 15:18:36.829 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=ss&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:18:36.829 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:36.829 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:36.830 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:18:36.830 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=ss&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 1.3999ms
2024-02-03 15:18:36.836 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=ss&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:18:36.836 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:36.836 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:36.837 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:18:36.837 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:18:36.837 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:36.837 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:36.837 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:36.837 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:36.837 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:36.838 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:18:36.838 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:18:36.838 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:18:36.838 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:18:36.838 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:18:36.839 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:18:36.839 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:36.839 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:36.839 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:36.840 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:18:36.840 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:18:36.840 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:18:36.840 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:18:36.840 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:18:36.840 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:18:36.840 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:18:36.840 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:18:36.840 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:18:36.840 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:18:36.840 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:36.841 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:18:36.841 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:36.841 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:18:36.841 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:36.841 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:18:36.841 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:36.841 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:18:36.841 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:36.841 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:18:36.841 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:36.841 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:18:36.841 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:18:36.841 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:18:36.841 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:18:36.842 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:18:36.842 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:18:36.842 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:18:36.842 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:18:36.842 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:18:36.842 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:18:36.842 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:18:36.842 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:18:36.842 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:36.842 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:36.842 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:36.842 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:36.843 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": "aaa",
  "Description": "aaa",
  "Outcome": "ss",
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:18:36.859 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:18:36.859 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:36.859 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:36.859 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:36.860 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:36.860 +02:00 [DBG] Executing DbCommand [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000), @__maintenanceFilter_Outcome_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0) AND ((@__maintenanceFilter_Outcome_2 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Outcome_2, [m].[Outcome]) > 0)
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:36.865 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000), @__maintenanceFilter_Outcome_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0) AND ((@__maintenanceFilter_Outcome_2 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Outcome_2, [m].[Outcome]) > 0)
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:36.867 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:36.868 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:18:36.870 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:36.871 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-02-03 15:18:36.871 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:18:36.871 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:18:36.872 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:18:36.872 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:18:36.872 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:18:36.872 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:18:36.872 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 33.3927ms
2024-02-03 15:18:36.872 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:36.873 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 35.5754 ms
2024-02-03 15:18:36.873 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=ss&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 37.3028ms
2024-02-03 15:18:37.033 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=sss&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:18:37.034 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:37.034 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:37.034 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:18:37.034 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=sss&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 1.0367ms
2024-02-03 15:18:37.038 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=sss&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:18:37.039 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:18:37.039 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:18:37.039 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:18:37.039 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:18:37.039 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:37.039 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:37.039 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:18:37.040 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:37.040 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:37.040 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:18:37.040 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:18:37.040 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:18:37.040 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:18:37.040 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:18:37.040 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:18:37.040 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:37.040 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:18:37.041 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:37.041 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:18:37.041 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:18:37.041 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:18:37.041 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:18:37.041 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:18:37.041 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:18:37.041 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:18:37.041 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:18:37.041 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:18:37.041 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:18:37.041 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:37.041 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:18:37.041 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:37.041 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:18:37.042 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:37.042 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:18:37.042 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:37.042 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:18:37.042 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:37.042 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:18:37.042 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:18:37.042 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:18:37.042 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:18:37.042 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:18:37.042 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:18:37.042 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:18:37.042 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:18:37.042 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:18:37.042 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:18:37.042 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:18:37.042 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:18:37.042 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:18:37.042 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:18:37.042 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:37.042 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:37.042 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:18:37.043 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:18:37.043 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": "aaa",
  "Description": "aaa",
  "Outcome": "sss",
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:18:37.052 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:18:37.052 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:37.052 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:18:37.052 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:37.052 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:37.052 +02:00 [DBG] Executing DbCommand [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000), @__maintenanceFilter_Outcome_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0) AND ((@__maintenanceFilter_Outcome_2 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Outcome_2, [m].[Outcome]) > 0)
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:37.055 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__maintenanceFilter_Device_0='?' (Size = 4000), @__maintenanceFilter_Description_1='?' (Size = 4000), @__maintenanceFilter_Outcome_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE ((@__maintenanceFilter_Device_0 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Device_0, [d].[Name]) > 0) AND ((@__maintenanceFilter_Description_1 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Description_1, [m].[Description]) > 0) AND ((@__maintenanceFilter_Outcome_2 LIKE N'') OR CHARINDEX(@__maintenanceFilter_Outcome_2, [m].[Outcome]) > 0)
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:18:37.056 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:37.057 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:18:37.058 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:18:37.058 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:18:37.058 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:18:37.058 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:18:37.058 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:18:37.058 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:18:37.058 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:18:37.058 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:18:37.059 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 18.344ms
2024-02-03 15:18:37.059 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:18:37.059 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 19.3854 ms
2024-02-03 15:18:37.059 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=aaa&Description=aaa&Outcome=sss&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 20.6567ms
2024-02-03 15:19:06.667 +02:00 [DBG] Connection id "0HN14MVD1GBFR" accepted.
2024-02-03 15:19:06.667 +02:00 [DBG] Connection id "0HN14MVD1GBFR" started.
2024-02-03 15:19:06.667 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:19:06.668 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:19:06.668 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:19:06.668 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:19:06.668 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:19:06.668 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:19:06.668 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:19:06.668 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:19:06.668 +02:00 [DBG] New connection jRMtGPC4eVj361sRYK5QHw created.
2024-02-03 15:19:06.668 +02:00 [DBG] Establishing new connection.
2024-02-03 15:19:06.669 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:19:06.669 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:19:06.776 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:19:06.777 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:19:06.777 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:19:06.779 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:19:06.779 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 2.8996ms
2024-02-03 15:19:06.846 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:19:06.847 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:19:06.847 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:19:06.847 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:19:06.847 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:19:06.847 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:19:06.847 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:19:06.847 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:19:06.847 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:19:06.847 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:19:06.847 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:19:06.847 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:19:06.847 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:19:06.847 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:19:06.847 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:19:06.847 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:19:06.847 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:19:06.847 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:19:06.847 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:19:06.848 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:19:06.848 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:19:06.848 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:19:06.848 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:19:06.848 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:19:06.848 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:19:06.848 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:19:06.848 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:19:06.848 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:19:06.848 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:19:06.848 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:19:06.848 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:19:06.848 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:19:06.848 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:19:06.848 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:19:06.848 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:19:06.848 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:19:06.848 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:19:06.848 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:19:06.848 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:19:06.848 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:19:06.849 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:19:06.849 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:19:06.849 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:19:06.849 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:19:06.849 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:19:06.849 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:19:06.849 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:19:06.849 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:19:06.849 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:19:06.849 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:19:06.849 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:19:06.849 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:19:06.849 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:19:06.849 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:19:06.849 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:19:06.849 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:19:06.849 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:19:06.857 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:19:06.857 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:19:06.857 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:19:06.857 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:06.858 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:06.858 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:19:06.870 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:19:06.870 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:06.870 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:19:06.870 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:06.870 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:19:06.870 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:19:06.871 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:19:06.871 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:19:06.871 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:19:06.871 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:19:06.871 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:19:06.871 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 23.9054ms
2024-02-03 15:19:06.871 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:19:06.871 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 24.4485 ms
2024-02-03 15:19:06.871 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 24.9896ms
2024-02-03 15:19:06.978 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:19:06.978 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:19:06.979 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:19:06.980 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:19:06.981 +02:00 [DBG] Waiting for the application to finish sending data.
2024-02-03 15:19:06.982 +02:00 [DBG] Socket closed.
2024-02-03 15:19:06.984 +02:00 [DBG] Removing connection jRMtGPC4eVj361sRYK5QHw from the list of connections.
2024-02-03 15:19:06.984 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:19:06.984 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 316.5931 ms
2024-02-03 15:19:06.985 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 317.1332ms
2024-02-03 15:19:06.985 +02:00 [DBG] Connection id "0HN14MVD1GBFR" disconnecting.
2024-02-03 15:19:06.985 +02:00 [DBG] Connection id "0HN14MVD1GBFR" stopped.
2024-02-03 15:19:06.985 +02:00 [DBG] Connection id "0HN14MVD1GBFR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:19:22.903 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:19:22.903 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:19:22.903 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:19:22.904 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:19:22.904 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.8911ms
2024-02-03 15:19:22.915 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:19:22.915 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:19:22.915 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:19:22.915 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:19:22.916 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:19:22.916 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:19:22.916 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:19:22.916 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:19:22.916 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:19:22.916 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:19:22.916 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:19:22.916 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:19:22.916 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:19:22.916 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:19:22.916 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:19:22.917 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:19:22.917 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:19:22.917 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:19:22.917 +02:00 [INF] GetAllDevices
2024-02-03 15:19:22.918 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:19:22.918 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:19:22.918 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:19:22.918 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:22.919 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:22.919 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:19:22.930 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:19:22.932 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:19:22.932 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:19:22.932 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:19:22.932 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:19:22.932 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:19:22.932 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:22.932 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:19:22.932 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:22.932 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:19:22.933 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:19:22.933 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:19:22.933 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:19:22.933 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:19:22.933 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:19:22.933 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:19:22.933 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 16.7326ms
2024-02-03 15:19:22.934 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:19:22.934 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 18.5038 ms
2024-02-03 15:19:22.935 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 19.9033ms
2024-02-03 15:19:35.333 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:19:35.334 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:19:35.334 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:19:35.334 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:19:35.334 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.8386ms
2024-02-03 15:19:35.337 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 560
2024-02-03 15:19:35.337 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:19:35.337 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:19:35.337 +02:00 [DBG] POST requests are not supported
2024-02-03 15:19:35.337 +02:00 [DBG] POST requests are not supported
2024-02-03 15:19:35.337 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:19:35.337 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:19:35.337 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:19:35.337 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:19:35.338 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:19:35.338 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:19:35.338 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:19:35.338 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:19:35.338 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:19:35.338 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:19:35.338 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:19:35.338 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:19:35.338 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:19:35.338 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:19:35.338 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:19:35.339 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:19:35.339 +02:00 [DBG] Connection id "0HN14MVD1GBFN", Request id "0HN14MVD1GBFN:0000006D": started reading request body.
2024-02-03 15:19:35.339 +02:00 [DBG] Connection id "0HN14MVD1GBFN", Request id "0HN14MVD1GBFN:0000006D": done reading request body.
2024-02-03 15:19:35.339 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:19:35.339 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:19:35.339 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:19:35.340 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:19:35.340 +02:00 [INF] AddDeviceMaintenance for {
  "Id": 0,
  "DeviceId": 0,
  "Device": {
    "DeviceId": 2,
    "Name": "Jziki no. 1",
    "SerialNumber": "JT12020",
    "Description": "Tensiometru",
    "Location": {
      "LocationId": 1,
      "Name": "Petrosani",
      "EmailAlertsActive": true,
      "Address": "Str 1 Decembrie 1918",
      "City": "Petrosani",
      "Country": "Romania",
      "IsLocationUsed": false
    },
    "DeviceType": {
      "DeviceTypeId": 9,
      "Name": "Tensiometru"
    },
    "ImageBytes": null
  },
  "ScheduledDate": "2024-02-03T22:00:00Z",
  "Description": ""
}
2024-02-03 15:19:35.341 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Maintenance'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:19:35.341 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:19:35.341 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:19:35.341 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:19:35.341 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:19:35.342 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:35.342 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:35.342 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:19:35.342 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:19:35.342 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:19:35.342 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:19:35.349 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:19:35.349 +02:00 [DBG] The foreign key property 'Maintenance.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:19:35.349 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:35.349 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:19:35.349 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:35.349 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:19:35.350 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:19:35.350 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:19:35.350 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:19:35.350 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:19:35.350 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:19:35.350 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:19:35.350 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:19:35.350 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:19:35.351 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 12.6762ms
2024-02-03 15:19:35.351 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:19:35.351 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 200 in 13.5108 ms
2024-02-03 15:19:35.351 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 560 - 200 413 application/json;+charset=utf-8 14.1714ms
2024-02-03 15:19:35.389 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:19:35.389 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:19:35.389 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:19:35.389 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:19:35.389 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.6942ms
2024-02-03 15:19:35.393 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:19:35.393 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:19:35.393 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:19:35.393 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:19:35.393 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:19:35.393 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:19:35.393 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:19:35.394 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:19:35.394 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:19:35.394 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:19:35.394 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:19:35.394 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:19:35.394 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:19:35.394 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:19:35.394 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:19:35.394 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:19:35.394 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:19:35.394 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:19:35.395 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:19:35.395 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:19:35.395 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:19:35.395 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:19:35.395 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:19:35.395 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:19:35.395 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:19:35.395 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:19:35.395 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:19:35.395 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:19:35.395 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:19:35.395 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:19:35.396 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:19:35.396 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:19:35.396 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:19:35.396 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:19:35.396 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:19:35.396 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:19:35.396 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:19:35.396 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:19:35.396 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:19:35.396 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:19:35.396 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:19:35.396 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:19:35.396 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:19:35.396 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:19:35.397 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:19:35.397 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:19:35.397 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:19:35.397 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:19:35.397 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:19:35.397 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:19:35.397 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:19:35.397 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:19:35.397 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:19:35.397 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:19:35.397 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:19:35.397 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:19:35.397 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:19:35.410 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:19:35.411 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:19:35.411 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:19:35.411 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:35.411 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:35.411 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:19:35.416 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:19:35.416 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:35.416 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:19:35.417 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:19:35.417 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:19:35.417 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:19:35.417 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:19:35.417 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:19:35.417 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:19:35.417 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:19:35.417 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:19:35.418 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 23.5242ms
2024-02-03 15:19:35.418 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:19:35.418 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 24.6693 ms
2024-02-03 15:19:35.419 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 26.2778ms
2024-02-03 15:21:11.293 +02:00 [INF] Application starting up
2024-02-03 15:21:12.260 +02:00 [DBG] Hosting starting
2024-02-03 15:21:12.581 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-02-03 15:21:13.245 +02:00 [DBG] The index {'DeviceTypeId'} was not created on entity type 'Threshold' as the properties are already covered by the index {'DeviceTypeId', 'DeviceReadingTypeId'}.
2024-02-03 15:21:13.577 +02:00 [WRN] No store type was specified for the decimal property 'CriticalValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-02-03 15:21:13.577 +02:00 [WRN] No store type was specified for the decimal property 'MaxValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-02-03 15:21:13.577 +02:00 [WRN] No store type was specified for the decimal property 'MinValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-02-03 15:21:13.577 +02:00 [WRN] No store type was specified for the decimal property 'WarningValue' on entity type 'Threshold'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-02-03 15:21:13.807 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-02-03 15:21:13.820 +02:00 [DBG] Creating DbConnection.
2024-02-03 15:21:13.826 +02:00 [DBG] Created DbConnection. (2ms).
2024-02-03 15:21:13.829 +02:00 [DBG] Migrating using database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.837 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.864 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.877 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-02-03 15:21:13.884 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2024-02-03 15:21:13.885 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2024-02-03 15:21:13.893 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-02-03 15:21:13.934 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-02-03 15:21:13.939 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.951 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (8ms).
2024-02-03 15:21:13.956 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-02-03 15:21:13.956 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-02-03 15:21:13.956 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-02-03 15:21:13.956 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.957 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.958 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-02-03 15:21:13.981 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-02-03 15:21:13.981 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.982 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:21:13.983 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.983 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.983 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-02-03 15:21:13.983 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-02-03 15:21:13.983 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-02-03 15:21:13.983 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-02-03 15:21:13.984 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-02-03 15:21:13.984 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.984 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:21:13.984 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-02-03 15:21:13.984 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-02-03 15:21:13.984 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-02-03 15:21:13.984 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.984 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.984 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-02-03 15:21:13.985 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-02-03 15:21:13.985 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:13.985 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:21:14.009 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:21:14.009 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:21:14.009 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:21:14.009 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:14.009 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:14.010 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-02-03 15:21:14.015 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-02-03 15:21:14.023 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:14.025 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 7ms reading results.
2024-02-03 15:21:14.025 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:14.025 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:21:14.072 +02:00 [INF] No migrations were applied. The database is already up to date.
2024-02-03 15:21:14.191 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-02-03 15:21:14.378 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-02-03 15:21:14.524 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: DD6A44F29398EF832C70326A091BE676DFEDB1C9)
2024-02-03 15:21:14.613 +02:00 [DBG] Connection id "0HN14NBVLCH1C" received FIN.
2024-02-03 15:21:14.620 +02:00 [INF] Now listening on: https://localhost:7137
2024-02-03 15:21:14.620 +02:00 [INF] Now listening on: http://localhost:5275
2024-02-03 15:21:14.620 +02:00 [DBG] Loaded hosting startup assembly WebApi
2024-02-03 15:21:14.620 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-02-03 15:21:14.620 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-02-03 15:21:14.624 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-03 15:21:14.625 +02:00 [INF] Hosting environment: Development
2024-02-03 15:21:14.625 +02:00 [INF] Content root path: C:\Users\ghica\Desktop\Backend\Aplicatie\WebApi
2024-02-03 15:21:14.625 +02:00 [DBG] Hosting started
2024-02-03 15:21:14.625 +02:00 [DBG] Connection id "0HN14NBVLCH1C" accepted.
2024-02-03 15:21:14.627 +02:00 [DBG] Connection id "0HN14NBVLCH1C" started.
2024-02-03 15:21:14.648 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, Boolean isApm, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-02-03 15:21:14.682 +02:00 [DBG] Connection id "0HN14NBVLCH1C" stopped.
2024-02-03 15:21:14.686 +02:00 [DBG] Connection id "0HN14NBVLCH1C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:21:15.359 +02:00 [DBG] Connection id "0HN14NBVLCH1D" accepted.
2024-02-03 15:21:15.359 +02:00 [DBG] Connection id "0HN14NBVLCH1D" started.
2024-02-03 15:21:15.412 +02:00 [DBG] Connection 0HN14NBVLCH1D established using the following protocol: "Tls13"
2024-02-03 15:21:15.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/index.html - -
2024-02-03 15:21:15.627 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-02-03 15:21:15.901 +02:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-02-03 15:21:15.929 +02:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-02-03 15:21:15.937 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/index.html - - - 200 - text/html;charset=utf-8 465.5045ms
2024-02-03 15:21:15.950 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - -
2024-02-03 15:21:15.950 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/_vs/browserLink - -
2024-02-03 15:21:15.957 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_framework/aspnetcore-browser-refresh.js - - - 200 13748 application/javascript;+charset=utf-8 6.3661ms
2024-02-03 15:21:16.031 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 81.2136ms
2024-02-03 15:21:16.163 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - -
2024-02-03 15:21:16.413 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 249.7402ms
2024-02-03 15:21:19.708 +02:00 [DBG] Connection id "0HN14NBVLCH1E" accepted.
2024-02-03 15:21:19.708 +02:00 [DBG] Connection id "0HN14NBVLCH1E" started.
2024-02-03 15:21:19.723 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:21:19.724 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:21:19.724 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:21:19.728 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:21:19.731 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:21:19.776 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:21:19.776 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:21:19.777 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:21:19.796 +02:00 [DBG] New connection ySj5fTi8kqVCXW-KZREiqA created.
2024-02-03 15:21:19.803 +02:00 [DBG] Establishing new connection.
2024-02-03 15:21:19.809 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:21:19.818 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:21:19.841 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:21:19.848 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:21:19.863 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:21:19.870 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:21:19.874 +02:00 [DBG] Waiting for the application to finish sending data.
2024-02-03 15:21:19.877 +02:00 [DBG] Socket closed.
2024-02-03 15:21:19.883 +02:00 [DBG] Removing connection ySj5fTi8kqVCXW-KZREiqA from the list of connections.
2024-02-03 15:21:19.886 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:21:19.889 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 151.1957 ms
2024-02-03 15:21:19.893 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 170.6131ms
2024-02-03 15:21:19.894 +02:00 [DBG] Connection id "0HN14NBVLCH1E" disconnecting.
2024-02-03 15:21:19.895 +02:00 [DBG] Connection id "0HN14NBVLCH1E" stopped.
2024-02-03 15:21:19.895 +02:00 [DBG] Connection id "0HN14NBVLCH1E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:21:22.789 +02:00 [DBG] Connection id "0HN14NBVLCH1D" received FIN.
2024-02-03 15:21:22.789 +02:00 [DBG] Connection id "0HN14NBVLCH1D" is closed. The last processed stream ID was 7.
2024-02-03 15:21:22.789 +02:00 [DBG] Connection id "0HN14NBVLCH1D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:21:22.791 +02:00 [DBG] Connection id "0HN14NBVLCH1D" stopped.
2024-02-03 15:21:26.170 +02:00 [DBG] Connection id "0HN14NBVLCH1F" accepted.
2024-02-03 15:21:26.170 +02:00 [DBG] Connection id "0HN14NBVLCH1F" started.
2024-02-03 15:21:26.206 +02:00 [DBG] Connection 0HN14NBVLCH1F established using the following protocol: "Tls13"
2024-02-03 15:21:26.209 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-02-03 15:21:26.209 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:21:26.209 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:21:26.209 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:21:26.211 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 2.8920ms
2024-02-03 15:21:26.215 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-02-03 15:21:26.215 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:21:26.215 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:21:26.215 +02:00 [DBG] POST requests are not supported
2024-02-03 15:21:26.216 +02:00 [DBG] POST requests are not supported
2024-02-03 15:21:26.218 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-02-03 15:21:26.219 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-02-03 15:21:26.219 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-02-03 15:21:26.219 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-02-03 15:21:26.270 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-02-03 15:21:26.272 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:21:26.272 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:21:26.272 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:21:26.272 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:21:26.273 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:21:26.274 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-02-03 15:21:26.276 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-02-03 15:21:26.283 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-02-03 15:21:26.286 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-02-03 15:21:26.287 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:21:26.288 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:21:26.314 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000003": started reading request body.
2024-02-03 15:21:26.315 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000003": done reading request body.
2024-02-03 15:21:26.523 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-02-03 15:21:26.523 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-02-03 15:21:26.523 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-02-03 15:21:26.533 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-02-03 15:21:26.639 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Username == __userObj_Username_0)'
2024-02-03 15:21:27.067 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string), 1], [Property: User.FirstName (string), 2], [Property: User.IsActive (bool?) ValueGenerated.OnAdd, 3], [Property: User.LastName (string), 4], [Property: User.Password (string), 5], [Property: User.RefreshToken (string), 6], [Property: User.RefreshTokenExpiryTime (DateTime) Required, 7], [Property: User.RoleId (int?) FK Index, 8], [Property: User.Token (string), 9], [Property: User.Username (string) Index, 10] }
            SELECT TOP(1) u.Id, u.Email, u.FirstName, u.IsActive, u.LastName, u.Password, u.RefreshToken, u.RefreshTokenExpiryTime, u.RoleId, u.Token, u.Username
            FROM Users AS u
            WHERE u.Username == @__userObj_Username_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        DataAccessLayer.DataContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-02-03 15:21:27.138 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:21:27.138 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:21:27.142 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-02-03 15:21:27.148 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:27.149 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:27.155 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-02-03 15:21:27.247 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-02-03 15:21:27.316 +02:00 [DBG] Context 'DataContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:27.391 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:27.393 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 145ms reading results.
2024-02-03 15:21:27.399 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:27.400 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (1ms).
2024-02-03 15:21:27.589 +02:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(a => a.RefreshToken == __refreshToken_0)'
2024-02-03 15:21:27.596 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Users AS u
            WHERE u.RefreshToken == @__refreshToken_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-02-03 15:21:27.612 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:21:27.612 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:21:27.612 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:21:27.612 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:27.612 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:27.612 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-02-03 15:21:27.615 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-02-03 15:21:27.616 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:27.617 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:21:27.617 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:27.617 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:21:27.631 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:21:27.637 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:21:27.673 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:21:27.690 +02:00 [DBG] An entity of type 'User' tracked by 'DataContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:27.695 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:21:27.701 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:21:27.707 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:21:27.834 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:27.834 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:27.839 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:21:27.839 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:21:27.840 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:21:27.841 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-02-03 15:21:27.861 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-02-03 15:21:27.880 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:27.880 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 19ms reading results.
2024-02-03 15:21:27.884 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:27.884 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:21:27.901 +02:00 [DBG] An entity of type 'User' tracked by 'DataContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:27.907 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:21:27.914 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:21:27.918 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:21:27.918 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:21:27.918 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:21:27.918 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:21:27.918 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-02-03 15:21:27.964 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 1686.5769ms
2024-02-03 15:21:27.965 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-02-03 15:21:27.965 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 1749.1864 ms
2024-02-03 15:21:27.979 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 1764.8666ms
2024-02-03 15:21:30.262 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:21:30.262 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:21:30.262 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:21:30.264 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:21:30.265 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 3.0801ms
2024-02-03 15:21:30.268 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:21:30.269 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:21:30.269 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:21:30.269 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:21:30.269 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:21:30.273 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:21:30.273 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:21:30.273 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:21:30.273 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:21:30.274 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:21:30.281 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:21:30.282 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:21:30.282 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:21:30.282 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:21:30.282 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:21:30.282 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:21:30.282 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:21:30.289 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:21:30.291 +02:00 [INF] GetAllDevices
2024-02-03 15:21:30.318 +02:00 [DBG] Compiling query expression: 
'DbSet<Device>()
    .Include(d => d.Location)
    .Include(d => d.DeviceType)'
2024-02-03 15:21:30.374 +02:00 [DBG] Including navigation: 'Device.Location'.
2024-02-03 15:21:30.376 +02:00 [DBG] Including navigation: 'Device.DeviceType'.
2024-02-03 15:21:30.449 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Device>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Device.Alias (string), 1], [Property: Device.Description (string), 2], [Property: Device.DeviceTypeId (int) Required FK Index, 3], [Property: Device.Emails (string), 4], [Property: Device.FirmwareVersion (string), 5], [Property: Device.ImageBytes (byte[]), 6], [Property: Device.LastPingedTs (DateTime?), 7], [Property: Device.LastUploadTime (DateTime?), 8], [Property: Device.LocationId (int) Required FK Index, 9], [Property: Device.Name (string) Required, 10], [Property: Device.SerialNumber (string) Required, 11], [Property: Device.SoftwareVersion (string), 12] }
            1 -> Dictionary<IProperty, int> { [Property: Location.LocationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Location.Address (string) Required, 14], [Property: Location.City (string) Required, 15], [Property: Location.ContactEmail (string), 16], [Property: Location.Country (string) Required, 17], [Property: Location.EmailAlertsActive (bool) Required, 18], [Property: Location.EmailRecipient (string), 19], [Property: Location.Latitude (double?), 20], [Property: Location.Longitude (double?), 21], [Property: Location.Name (string) Required, 22], [Property: Location.Phone (string), 23] }
            2 -> Dictionary<IProperty, int> { [Property: DeviceType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: DeviceType.Name (string) Required, 25] }
        SELECT d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion, l.LocationId, l.Address, l.City, l.ContactEmail, l.Country, l.EmailAlertsActive, l.EmailRecipient, l.Latitude, l.Longitude, l.Name, l.Phone, d0.Id, d0.Name
        FROM Devices AS d
        INNER JOIN Locations AS l ON d.LocationId == l.LocationId
        INNER JOIN DeviceTypes AS d0 ON d.DeviceTypeId == d0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Device>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 15:21:30.450 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:21:30.450 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:21:30.450 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:21:30.451 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:30.451 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:30.451 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:21:30.456 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:21:30.487 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:30.529 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:30.533 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:30.562 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:30.562 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:30.568 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:30.568 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 111ms reading results.
2024-02-03 15:21:30.568 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:30.568 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:21:30.571 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:21:30.571 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:21:30.571 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:21:30.571 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:21:30.571 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:21:30.571 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:21:30.595 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 313.355ms
2024-02-03 15:21:30.596 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:21:30.596 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 326.9012 ms
2024-02-03 15:21:30.596 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 327.8722ms
2024-02-03 15:21:35.544 +02:00 [DBG] Connection id "0HN14NBVLCH1G" accepted.
2024-02-03 15:21:35.544 +02:00 [DBG] Connection id "0HN14NBVLCH1G" started.
2024-02-03 15:21:35.545 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:21:35.545 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:21:35.545 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:21:35.545 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:21:35.545 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:21:35.545 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:21:35.545 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:21:35.545 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:21:35.545 +02:00 [DBG] New connection FrvK-fRk5PaFT5-7mQv-rg created.
2024-02-03 15:21:35.545 +02:00 [DBG] Establishing new connection.
2024-02-03 15:21:35.546 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:21:35.546 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:21:35.563 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:21:35.563 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:21:35.563 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:21:35.563 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:21:35.563 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.3081ms
2024-02-03 15:21:35.565 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:21:35.566 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:21:35.566 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:21:35.566 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:21:35.566 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:21:35.570 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:21:35.570 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:21:35.570 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:21:35.570 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:21:35.570 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:21:35.570 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:21:35.570 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:21:35.570 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:21:35.570 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:21:35.570 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:21:35.570 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:21:35.570 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:21:35.570 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:21:35.571 +02:00 [INF] GetAllDevices
2024-02-03 15:21:35.575 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:21:35.575 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:21:35.575 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:21:35.575 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:35.575 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:35.575 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:21:35.578 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:21:35.581 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:35.581 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:35.581 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:35.581 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:35.581 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:21:35.581 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:35.581 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-02-03 15:21:35.581 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:21:35.581 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:21:35.581 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:21:35.581 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:21:35.582 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:21:35.582 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:21:35.582 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:21:35.582 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:21:35.582 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 11.652ms
2024-02-03 15:21:35.582 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:21:35.582 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 16.4424 ms
2024-02-03 15:21:35.582 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 17.0303ms
2024-02-03 15:21:35.587 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:21:35.587 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:21:35.590 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:21:35.590 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:21:35.591 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:21:35.591 +02:00 [DBG] Socket closed.
2024-02-03 15:21:35.591 +02:00 [DBG] Removing connection FrvK-fRk5PaFT5-7mQv-rg from the list of connections.
2024-02-03 15:21:35.592 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:21:35.592 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 46.6238 ms
2024-02-03 15:21:35.592 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 46.9635ms
2024-02-03 15:21:35.592 +02:00 [DBG] Connection id "0HN14NBVLCH1G" disconnecting.
2024-02-03 15:21:35.592 +02:00 [DBG] Connection id "0HN14NBVLCH1G" stopped.
2024-02-03 15:21:35.592 +02:00 [DBG] Connection id "0HN14NBVLCH1G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:22:16.553 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:22:16.553 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:22:16.554 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:22:16.554 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:22:16.554 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 1.6194ms
2024-02-03 15:22:16.568 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 555
2024-02-03 15:22:16.568 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:22:16.568 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:22:16.568 +02:00 [DBG] POST requests are not supported
2024-02-03 15:22:16.568 +02:00 [DBG] POST requests are not supported
2024-02-03 15:22:16.568 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:22:16.568 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:22:16.568 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:22:16.569 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:22:16.574 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:22:16.574 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:22:16.574 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:22:16.574 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:22:16.575 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:22:16.575 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:22:16.575 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:22:16.575 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:22:16.576 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:22:16.576 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:22:16.576 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:22:16.576 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:22:16.576 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:0000000F": started reading request body.
2024-02-03 15:22:16.576 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:0000000F": done reading request body.
2024-02-03 15:22:16.636 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:22:16.636 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:22:16.636 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:22:16.646 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:22:16.670 +02:00 [INF] AddDeviceMaintenance for {
  "Id": 0,
  "DeviceId": 0,
  "Device": {
    "DeviceId": 2,
    "Name": "Jziki no. 1",
    "SerialNumber": "JT12020",
    "Description": "Tensiometru",
    "Location": {
      "LocationId": 1,
      "Name": "Petrosani",
      "EmailAlertsActive": true,
      "Address": "Str 1 Decembrie 1918",
      "City": "Petrosani",
      "Country": "Romania",
      "IsLocationUsed": false
    },
    "DeviceType": {
      "DeviceTypeId": 9,
      "Name": "Tensiometru"
    },
    "ImageBytes": null
  },
  "ScheduledDate": "2024-02-03T22:00:00Z",
  "Description": "AA"
}
2024-02-03 15:22:16.761 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Maintenance'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:22:16.785 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:22:16.786 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:22:16.786 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:22:16.793 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:22:16.804 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:22:16.804 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:22:16.804 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:22:16.804 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:22:16.806 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-02-03 15:22:16.807 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:22:16.825 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:22:16.842 +02:00 [DBG] The foreign key property 'Maintenance.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:22:16.854 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:22:16.854 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 29ms reading results.
2024-02-03 15:22:16.854 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:22:16.854 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:22:16.860 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:22:16.860 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:22:16.860 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:22:16.860 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:22:16.860 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:22:16.860 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:22:16.860 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:22:16.861 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:22:16.863 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 287.9311ms
2024-02-03 15:22:16.863 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:22:16.863 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 200 in 294.6040 ms
2024-02-03 15:22:16.863 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 555 - 200 415 application/json;+charset=utf-8 295.5267ms
2024-02-03 15:22:16.890 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:22:16.890 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:22:16.890 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:22:16.890 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:22:16.890 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.5622ms
2024-02-03 15:22:16.893 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:22:16.893 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:22:16.893 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:22:16.893 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:22:16.893 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:22:16.895 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:22:16.895 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:22:16.895 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:22:16.895 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:22:16.895 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:22:16.906 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:22:16.906 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:22:16.906 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:22:16.906 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:22:16.906 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:22:16.906 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:22:16.906 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:22:16.906 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:22:16.912 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:22:16.915 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:22:16.919 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:22:16.920 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:22:16.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:22:16.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:22:16.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:22:16.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:22:16.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:22:16.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:22:16.922 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:22:16.922 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:22:16.922 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:22:16.923 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:22:16.923 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:22:16.923 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:22:16.923 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:22:16.923 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:22:16.923 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:22:16.923 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:22:16.923 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:22:16.923 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:22:16.923 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:22:16.923 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:22:16.924 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:22:16.924 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:22:16.925 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:22:16.925 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:22:16.925 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:22:16.925 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:22:16.925 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:22:16.926 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:22:16.926 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:22:16.926 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:22:16.927 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:22:16.927 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:22:16.927 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:22:16.929 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:22:16.938 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:22:16.963 +02:00 [DBG] Compiling query expression: 
'DbSet<Maintenance>()
    .Include(m => m.Device)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .Where(m => True)
    .OrderBy(m => m.Status)
    .ThenBy(m => m.ScheduledDate)'
2024-02-03 15:22:16.970 +02:00 [DBG] Including navigation: 'Maintenance.Device'.
2024-02-03 15:22:16.984 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Maintenance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Maintenance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Maintenance.ActualDate (DateTime?), 1], [Property: Maintenance.CreatedAt (DateTime) Required, 2], [Property: Maintenance.CreatedBy (string) Required, 3], [Property: Maintenance.Description (string), 4], [Property: Maintenance.DeviceId (int) Required FK Index, 5], [Property: Maintenance.Outcome (string), 6], [Property: Maintenance.ScheduledDate (DateTime) Required, 7], [Property: Maintenance.Status (Status) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Device.Alias (string), 10], [Property: Device.Description (string), 11], [Property: Device.DeviceTypeId (int) Required FK Index, 12], [Property: Device.Emails (string), 13], [Property: Device.FirmwareVersion (string), 14], [Property: Device.ImageBytes (byte[]), 15], [Property: Device.LastPingedTs (DateTime?), 16], [Property: Device.LastUploadTime (DateTime?), 17], [Property: Device.LocationId (int) Required FK Index, 18], [Property: Device.Name (string) Required, 19], [Property: Device.SerialNumber (string) Required, 20], [Property: Device.SoftwareVersion (string), 21] }
        SELECT m.Id, m.ActualDate, m.CreatedAt, m.CreatedBy, m.Description, m.DeviceId, m.Outcome, m.ScheduledDate, m.Status, d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion
        FROM Maintenances AS m
        INNER JOIN Devices AS d ON m.DeviceId == d.DeviceId
        ORDER BY m.Status ASC, m.ScheduledDate ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Maintenance>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 15:22:16.989 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:22:16.990 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:22:16.990 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:22:16.990 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:22:16.990 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:22:16.992 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:22:17.012 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:22:17.013 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:22:17.013 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:22:17.013 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:22:17.013 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:22:17.015 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:22:17.015 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:22:17.015 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:22:17.015 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:22:17.015 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:22:17.015 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:22:17.034 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 127.9475ms
2024-02-03 15:22:17.034 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:22:17.035 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 141.4015 ms
2024-02-03 15:22:17.036 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 143.6027ms
2024-02-03 15:24:12.870 +02:00 [DBG] Connection id "0HN14NBVLCH1H" accepted.
2024-02-03 15:24:12.873 +02:00 [DBG] Connection id "0HN14NBVLCH1H" started.
2024-02-03 15:24:12.873 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:24:12.873 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:24:12.874 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:24:12.874 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:24:12.874 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:24:12.874 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:24:12.874 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:24:12.874 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:24:12.874 +02:00 [DBG] New connection WgWzktat3pbpvTBZ3mBzjw created.
2024-02-03 15:24:12.874 +02:00 [DBG] Establishing new connection.
2024-02-03 15:24:12.874 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:24:12.874 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:24:12.950 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:24:12.951 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:24:12.951 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:24:12.951 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:24:12.951 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 1.6738ms
2024-02-03 15:24:12.972 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:24:12.973 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:24:12.973 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:24:12.973 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:24:12.973 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:24:12.973 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:24:12.973 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:24:12.973 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:24:12.973 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:24:12.973 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:24:12.973 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:24:13.001 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:24:13.001 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:24:13.001 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:24:13.002 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:24:13.002 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:24:13.003 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:24:13.014 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:24:13.014 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:24:13.014 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:24:13.014 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:24:13.014 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:24:13.014 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:24:13.014 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:24:13.014 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:24:13.014 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:24:13.015 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:24:13.015 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:24:13.015 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:24:13.015 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:24:13.015 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:24:13.015 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:24:13.015 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:24:13.015 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:24:13.015 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:24:13.015 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:24:13.015 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:24:13.015 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:24:13.015 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:24:13.015 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:24:13.015 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:24:13.015 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:24:13.015 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:24:13.015 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:24:13.015 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:24:13.015 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:24:13.015 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:24:13.016 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:24:13.016 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:24:13.016 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:24:13.016 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:24:13.016 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:24:13.016 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:24:13.016 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:24:13.016 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:24:13.016 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:24:13.016 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:24:13.025 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:24:13.026 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:24:13.026 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:24:13.026 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:24:13.026 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:24:13.026 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:24:13.035 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:24:13.035 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:24:13.035 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:24:13.035 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:24:13.035 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:24:13.035 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:24:13.035 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:24:13.035 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:24:13.035 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:24:13.035 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:24:13.035 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:24:13.036 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 34.0719ms
2024-02-03 15:24:13.036 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:24:13.036 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 62.9576 ms
2024-02-03 15:24:13.036 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 63.4875ms
2024-02-03 15:24:13.132 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:24:13.133 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:24:13.135 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:24:13.136 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:24:13.137 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:24:13.137 +02:00 [DBG] Socket closed.
2024-02-03 15:24:13.137 +02:00 [DBG] Removing connection WgWzktat3pbpvTBZ3mBzjw from the list of connections.
2024-02-03 15:24:13.137 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:24:13.137 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 263.6889 ms
2024-02-03 15:24:13.138 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 264.2025ms
2024-02-03 15:24:13.138 +02:00 [DBG] Connection id "0HN14NBVLCH1H" disconnecting.
2024-02-03 15:24:13.138 +02:00 [DBG] Connection id "0HN14NBVLCH1H" stopped.
2024-02-03 15:24:13.138 +02:00 [DBG] Connection id "0HN14NBVLCH1H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:24:15.456 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:24:15.456 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:24:15.456 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:24:15.456 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:24:15.456 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.4157ms
2024-02-03 15:24:15.459 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:24:15.460 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:24:15.460 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:24:15.460 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:24:15.460 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:24:15.460 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:24:15.460 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:24:15.460 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:24:15.460 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:24:15.460 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:24:15.460 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:24:15.460 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:24:15.460 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:24:15.460 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:24:15.461 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:24:15.461 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:24:15.461 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:24:15.461 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:24:15.461 +02:00 [INF] GetAllDevices
2024-02-03 15:24:15.461 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:24:15.461 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:24:15.461 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:24:15.461 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:24:15.462 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:24:15.462 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:24:15.470 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:24:15.471 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:24:15.472 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:24:15.472 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:24:15.472 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:24:15.472 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:24:15.472 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:24:15.472 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:24:15.472 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:24:15.472 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:24:15.472 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:24:15.472 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:24:15.473 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:24:15.473 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:24:15.473 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:24:15.473 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:24:15.473 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 12.24ms
2024-02-03 15:24:15.473 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:24:15.473 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 13.1417 ms
2024-02-03 15:24:15.473 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 14.1925ms
2024-02-03 15:28:21.565 +02:00 [DBG] Connection id "0HN14NBVLCH1I" accepted.
2024-02-03 15:28:21.565 +02:00 [DBG] Connection id "0HN14NBVLCH1I" started.
2024-02-03 15:28:21.566 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:28:21.566 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:28:21.566 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:28:21.566 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:28:21.566 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:28:21.567 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:28:21.567 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:28:21.567 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:28:21.567 +02:00 [DBG] New connection 17l4u6y4whsru5Ymm_g25w created.
2024-02-03 15:28:21.567 +02:00 [DBG] Establishing new connection.
2024-02-03 15:28:21.567 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:28:21.567 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:28:21.633 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:28:21.633 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:28:21.633 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:28:21.633 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:28:21.633 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.6871ms
2024-02-03 15:28:21.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:28:21.636 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:28:21.636 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:28:21.636 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:28:21.636 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:28:21.636 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:28:21.636 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:28:21.636 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:28:21.636 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:28:21.636 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:28:21.636 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:28:21.637 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:28:21.637 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:28:21.637 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:28:21.637 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:28:21.637 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:28:21.637 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:28:21.637 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:28:21.637 +02:00 [INF] GetAllDevices
2024-02-03 15:28:21.637 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:28:21.637 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:28:21.637 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:28:21.637 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:28:21.637 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:28:21.637 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:28:21.644 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:28:21.651 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:21.653 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:21.654 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:21.654 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:21.654 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:21.654 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:28:21.654 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-02-03 15:28:21.654 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:28:21.654 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:28:21.654 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:28:21.654 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:28:21.654 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:28:21.654 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:28:21.654 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:28:21.654 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:28:21.655 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 18.1018ms
2024-02-03 15:28:21.655 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:28:21.655 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 18.6636 ms
2024-02-03 15:28:21.655 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 19.3547ms
2024-02-03 15:28:21.712 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:28:21.713 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:28:21.714 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:28:21.714 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:28:21.717 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:28:21.719 +02:00 [DBG] Socket closed.
2024-02-03 15:28:21.719 +02:00 [DBG] Removing connection 17l4u6y4whsru5Ymm_g25w from the list of connections.
2024-02-03 15:28:21.719 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:28:21.719 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 152.6041 ms
2024-02-03 15:28:21.719 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 153.5892ms
2024-02-03 15:28:21.719 +02:00 [DBG] Connection id "0HN14NBVLCH1I" disconnecting.
2024-02-03 15:28:21.719 +02:00 [DBG] Connection id "0HN14NBVLCH1I" stopped.
2024-02-03 15:28:21.725 +02:00 [DBG] Connection id "0HN14NBVLCH1I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:28:23.277 +02:00 [DBG] Connection id "0HN14NBVLCH1J" accepted.
2024-02-03 15:28:23.280 +02:00 [DBG] Connection id "0HN14NBVLCH1J" started.
2024-02-03 15:28:23.281 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:28:23.281 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:28:23.281 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:28:23.281 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:28:23.281 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:28:23.281 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:28:23.281 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:28:23.281 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:28:23.281 +02:00 [DBG] New connection ZLjPqK_ay9oQR9MJ1XCUUQ created.
2024-02-03 15:28:23.281 +02:00 [DBG] Establishing new connection.
2024-02-03 15:28:23.282 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:28:23.282 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:28:23.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:28:23.358 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:28:23.358 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:28:23.358 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:28:23.358 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:28:23.358 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:28:23.358 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:28:23.358 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:28:23.358 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:28:23.358 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:28:23.358 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:28:23.359 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:28:23.359 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:28:23.359 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:28:23.359 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:28:23.359 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:28:23.359 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:28:23.359 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:28:23.359 +02:00 [INF] GetAllDevices
2024-02-03 15:28:23.359 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:28:23.359 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:28:23.359 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:28:23.359 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:28:23.360 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:28:23.360 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:28:23.362 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:28:23.365 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:23.365 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:23.365 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:23.366 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:23.366 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:23.366 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:28:23.366 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-02-03 15:28:23.366 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:28:23.366 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:28:23.366 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:28:23.366 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:28:23.366 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:28:23.366 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:28:23.366 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:28:23.366 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:28:23.367 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 7.8383ms
2024-02-03 15:28:23.367 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:28:23.367 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 8.5217 ms
2024-02-03 15:28:23.367 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 9.0905ms
2024-02-03 15:28:23.468 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:28:23.468 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:28:23.470 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:28:23.471 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:28:23.472 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:28:23.472 +02:00 [DBG] Socket closed.
2024-02-03 15:28:23.472 +02:00 [DBG] Removing connection ZLjPqK_ay9oQR9MJ1XCUUQ from the list of connections.
2024-02-03 15:28:23.473 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:28:23.473 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 191.6692 ms
2024-02-03 15:28:23.473 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 192.3527ms
2024-02-03 15:28:23.473 +02:00 [DBG] Connection id "0HN14NBVLCH1J" disconnecting.
2024-02-03 15:28:23.473 +02:00 [DBG] Connection id "0HN14NBVLCH1J" stopped.
2024-02-03 15:28:23.474 +02:00 [DBG] Connection id "0HN14NBVLCH1J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:28:53.876 +02:00 [DBG] Connection id "0HN14NBVLCH1K" accepted.
2024-02-03 15:28:53.877 +02:00 [DBG] Connection id "0HN14NBVLCH1K" started.
2024-02-03 15:28:53.881 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:28:53.881 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:28:53.881 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:28:53.881 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:28:53.881 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:28:53.881 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:28:53.881 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:28:53.881 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:28:53.881 +02:00 [DBG] New connection 8V78X7wna6kn9JcVY0FSYA created.
2024-02-03 15:28:53.882 +02:00 [DBG] Establishing new connection.
2024-02-03 15:28:53.882 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:28:53.882 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:28:53.973 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:28:53.973 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:28:53.973 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:28:53.973 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:28:53.974 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.4825ms
2024-02-03 15:28:53.989 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:28:53.990 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:28:53.990 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:28:53.990 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:28:53.990 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:28:53.991 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:28:53.991 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:28:53.991 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:28:53.991 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:28:53.991 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:28:53.991 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:28:53.991 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:28:53.991 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:28:53.991 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:28:53.991 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:28:53.991 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:28:53.991 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:28:53.991 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:28:53.992 +02:00 [INF] GetAllDevices
2024-02-03 15:28:53.992 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:28:53.992 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:28:53.992 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:28:53.993 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:28:53.994 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:28:53.994 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:28:54.002 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:28:54.003 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:54.004 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:54.004 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:54.004 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:54.004 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:28:54.006 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:28:54.006 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-02-03 15:28:54.006 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:28:54.006 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:28:54.007 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:28:54.007 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:28:54.007 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:28:54.007 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:28:54.007 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:28:54.007 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:28:54.007 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 15.9572ms
2024-02-03 15:28:54.007 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:28:54.007 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 16.9267 ms
2024-02-03 15:28:54.009 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 19.3219ms
2024-02-03 15:28:54.079 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:28:54.079 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:28:54.080 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:28:54.081 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:28:54.081 +02:00 [DBG] Waiting for the application to finish sending data.
2024-02-03 15:28:54.082 +02:00 [DBG] Socket closed.
2024-02-03 15:28:54.082 +02:00 [DBG] Removing connection 8V78X7wna6kn9JcVY0FSYA from the list of connections.
2024-02-03 15:28:54.082 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:28:54.082 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 201.0355 ms
2024-02-03 15:28:54.082 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 201.7588ms
2024-02-03 15:28:54.083 +02:00 [DBG] Connection id "0HN14NBVLCH1K" disconnecting.
2024-02-03 15:28:54.083 +02:00 [DBG] Connection id "0HN14NBVLCH1K" stopped.
2024-02-03 15:28:54.085 +02:00 [DBG] Connection id "0HN14NBVLCH1K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:29:04.678 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:29:04.679 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:29:04.679 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:29:04.679 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:29:04.679 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 1.3450ms
2024-02-03 15:29:04.682 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 565
2024-02-03 15:29:04.683 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:29:04.683 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:29:04.683 +02:00 [DBG] POST requests are not supported
2024-02-03 15:29:04.683 +02:00 [DBG] POST requests are not supported
2024-02-03 15:29:04.683 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:29:04.683 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:29:04.683 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:29:04.683 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:29:04.683 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:29:04.683 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:29:04.683 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:29:04.685 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:29:04.685 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:29:04.685 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:29:04.685 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:29:04.686 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:29:04.686 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:29:04.686 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:29:04.686 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:29:04.686 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:29:04.687 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000029": started reading request body.
2024-02-03 15:29:04.687 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000029": done reading request body.
2024-02-03 15:29:04.725 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'id', line 1, position 10.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 15:29:04.728 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:29:04.728 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:29:04.728 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:29:04.729 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:29:04.729 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 15:29:04.732 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 15:29:04.732 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:29:04.732 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:29:04.733 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 15:29:04.734 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 15:29:04.734 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 15:29:04.822 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 137.0219ms
2024-02-03 15:29:04.822 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:29:04.822 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 139.5470 ms
2024-02-03 15:29:04.823 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 565 - 400 350 application/problem+json;+charset=utf-8 140.2170ms
2024-02-03 15:31:11.925 +02:00 [DBG] Connection id "0HN14NBVLCH1L" accepted.
2024-02-03 15:31:11.925 +02:00 [DBG] Connection id "0HN14NBVLCH1L" started.
2024-02-03 15:31:11.949 +02:00 [DBG] Connection 0HN14NBVLCH1L established using the following protocol: "Tls13"
2024-02-03 15:31:11.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/29 - -
2024-02-03 15:31:11.954 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:31:11.954 +02:00 [DBG] The request path /api/DeviceMaintenance/29 does not match a supported file type
2024-02-03 15:31:11.954 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/29'
2024-02-03 15:31:11.954 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/29'
2024-02-03 15:31:11.954 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-02-03 15:31:11.954 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-02-03 15:31:11.958 +02:00 [INF] Route matched with {action = "GetDeviceMaintenanceById", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenanceByIdAsync(Int32) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:31:11.958 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:31:11.958 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:31:11.958 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:31:11.958 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:31:11.958 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:31:11.958 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:31:11.958 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:31:11.958 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-02-03 15:31:11.958 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-02-03 15:31:11.959 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-02-03 15:31:11.959 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-02-03 15:31:11.959 +02:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-02-03 15:31:11.959 +02:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-02-03 15:31:11.960 +02:00 [INF] GetDeviceMaintenanceById with maintenance id: 29
2024-02-03 15:31:11.963 +02:00 [DBG] Compiling query expression: 
'DbSet<Maintenance>()
    .Include(m => m.Device)
    .FirstOrDefault(m => m.Id == __deviceMaintenanceId_0)'
2024-02-03 15:31:11.963 +02:00 [DBG] Including navigation: 'Maintenance.Device'.
2024-02-03 15:31:11.970 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Maintenance>(
    asyncEnumerable: new SingleQueryingEnumerable<Maintenance>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Maintenance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Maintenance.ActualDate (DateTime?), 1], [Property: Maintenance.CreatedAt (DateTime) Required, 2], [Property: Maintenance.CreatedBy (string) Required, 3], [Property: Maintenance.Description (string), 4], [Property: Maintenance.DeviceId (int) Required FK Index, 5], [Property: Maintenance.Outcome (string), 6], [Property: Maintenance.ScheduledDate (DateTime) Required, 7], [Property: Maintenance.Status (Status) Required, 8] }
                1 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Device.Alias (string), 10], [Property: Device.Description (string), 11], [Property: Device.DeviceTypeId (int) Required FK Index, 12], [Property: Device.Emails (string), 13], [Property: Device.FirmwareVersion (string), 14], [Property: Device.ImageBytes (byte[]), 15], [Property: Device.LastPingedTs (DateTime?), 16], [Property: Device.LastUploadTime (DateTime?), 17], [Property: Device.LocationId (int) Required FK Index, 18], [Property: Device.Name (string) Required, 19], [Property: Device.SerialNumber (string) Required, 20], [Property: Device.SoftwareVersion (string), 21] }
            SELECT TOP(1) m.Id, m.ActualDate, m.CreatedAt, m.CreatedBy, m.Description, m.DeviceId, m.Outcome, m.ScheduledDate, m.Status, d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion
            FROM Maintenances AS m
            INNER JOIN Devices AS d ON m.DeviceId == d.DeviceId
            WHERE m.Id == @__deviceMaintenanceId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Maintenance>, 
        DataAccessLayer.DataContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-02-03 15:31:11.971 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:31:11.971 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:31:11.971 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:31:11.971 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:11.971 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:11.971 +02:00 [DBG] Executing DbCommand [Parameters=[@__deviceMaintenanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE [m].[Id] = @__deviceMaintenanceId_0
2024-02-03 15:31:11.976 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__deviceMaintenanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE [m].[Id] = @__deviceMaintenanceId_0
2024-02-03 15:31:11.977 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:11.977 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:31:11.977 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:11.977 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:31:11.977 +02:00 [ERR] Maintenance not found !
2024-02-03 15:31:11.977 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:31:11.977 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:31:11.977 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:31:11.977 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:31:11.977 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-02-03 15:31:11.977 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-03 15:31:11.978 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi) in 19.5592ms
2024-02-03 15:31:11.978 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-02-03 15:31:11.978 +02:00 [ERR] HTTP GET /api/DeviceMaintenance/29 responded 702 in 23.4358 ms
2024-02-03 15:31:11.978 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/29 - - - 702 - text/plain;+charset=utf-8 24.5210ms
2024-02-03 15:31:29.815 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json-patch+json 537
2024-02-03 15:31:29.815 +02:00 [DBG] The request has an origin header: 'https://localhost:7137'.
2024-02-03 15:31:29.815 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:31:29.815 +02:00 [DBG] POST requests are not supported
2024-02-03 15:31:29.815 +02:00 [DBG] POST requests are not supported
2024-02-03 15:31:29.815 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:31:29.815 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:31:29.815 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:31:29.815 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:31:29.815 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:31:29.816 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:31:29.816 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:31:29.816 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:31:29.816 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:31:29.816 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:31:29.816 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:31:29.816 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:31:29.816 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:31:29.816 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:31:29.816 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-02-03 15:31:29.816 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-02-03 15:31:29.816 +02:00 [DBG] Connection id "0HN14NBVLCH1L", Request id "0HN14NBVLCH1L:00000003": started reading request body.
2024-02-03 15:31:29.816 +02:00 [DBG] Connection id "0HN14NBVLCH1L", Request id "0HN14NBVLCH1L:00000003": done reading request body.
2024-02-03 15:31:29.818 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:31:29.818 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:31:29.818 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:31:29.818 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:31:29.819 +02:00 [INF] AddDeviceMaintenance for {
  "Id": 0,
  "DeviceId": 2,
  "Device": {
    "DeviceId": 0,
    "Name": "string",
    "SerialNumber": "string",
    "Description": "string",
    "Location": {
      "LocationId": 0,
      "Name": "string",
      "EmailAlertsActive": true,
      "Address": "string",
      "City": "string",
      "Country": "string",
      "IsLocationUsed": true
    },
    "DeviceType": {
      "DeviceTypeId": 0,
      "Name": "string"
    },
    "ImageBytes": "string"
  },
  "ScheduledDate": "2024-02-03T13:31:20.592Z",
  "Description": "string"
}
2024-02-03 15:31:29.820 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Maintenance'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:31:29.820 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:31:29.820 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:31:29.820 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:31:29.820 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:31:29.821 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:29.821 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:29.821 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:31:29.821 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:31:29.821 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:31:29.821 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:31:29.841 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:31:29.841 +02:00 [DBG] The foreign key property 'Maintenance.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:31:29.842 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:29.842 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:31:29.842 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:29.842 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:31:29.842 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:31:29.842 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:31:29.842 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:31:29.842 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:31:29.842 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:31:29.843 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:31:29.843 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:31:29.843 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:31:29.843 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 27.1101ms
2024-02-03 15:31:29.843 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:31:29.843 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 200 in 27.8227 ms
2024-02-03 15:31:29.843 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json-patch+json 537 - 200 389 application/json;+charset=utf-8 28.8201ms
2024-02-03 15:31:38.994 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/29 - -
2024-02-03 15:31:38.994 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:31:38.994 +02:00 [DBG] The request path /api/DeviceMaintenance/29 does not match a supported file type
2024-02-03 15:31:38.994 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/29'
2024-02-03 15:31:38.994 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/29'
2024-02-03 15:31:38.994 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-02-03 15:31:38.994 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-02-03 15:31:38.994 +02:00 [INF] Route matched with {action = "GetDeviceMaintenanceById", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenanceByIdAsync(Int32) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:31:38.994 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:31:38.994 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:31:38.994 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:31:38.994 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:31:38.994 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:31:38.994 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:31:38.994 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:31:38.994 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-02-03 15:31:38.994 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-02-03 15:31:38.995 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-02-03 15:31:38.995 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-02-03 15:31:38.995 +02:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-02-03 15:31:38.995 +02:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-02-03 15:31:38.995 +02:00 [INF] GetDeviceMaintenanceById with maintenance id: 29
2024-02-03 15:31:38.996 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:31:38.996 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:31:38.996 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:31:38.996 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:38.996 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:38.996 +02:00 [DBG] Executing DbCommand [Parameters=[@__deviceMaintenanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE [m].[Id] = @__deviceMaintenanceId_0
2024-02-03 15:31:39.001 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__deviceMaintenanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE [m].[Id] = @__deviceMaintenanceId_0
2024-02-03 15:31:39.001 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:39.001 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:31:39.001 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:39.001 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:31:39.001 +02:00 [ERR] Maintenance not found !
2024-02-03 15:31:39.001 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:31:39.001 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:31:39.001 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:31:39.001 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:31:39.001 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-02-03 15:31:39.001 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-03 15:31:39.002 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi) in 7.3329ms
2024-02-03 15:31:39.002 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-02-03 15:31:39.002 +02:00 [ERR] HTTP GET /api/DeviceMaintenance/29 responded 702 in 7.9053 ms
2024-02-03 15:31:39.002 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/29 - - - 702 - text/plain;+charset=utf-8 8.2692ms
2024-02-03 15:31:42.044 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/30 - -
2024-02-03 15:31:42.044 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:31:42.044 +02:00 [DBG] The request path /api/DeviceMaintenance/30 does not match a supported file type
2024-02-03 15:31:42.044 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/30'
2024-02-03 15:31:42.045 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/30'
2024-02-03 15:31:42.045 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-02-03 15:31:42.045 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-02-03 15:31:42.045 +02:00 [INF] Route matched with {action = "GetDeviceMaintenanceById", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenanceByIdAsync(Int32) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:31:42.045 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:31:42.045 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:31:42.045 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:31:42.045 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:31:42.046 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:31:42.046 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:31:42.046 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:31:42.046 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-02-03 15:31:42.046 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-02-03 15:31:42.047 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-02-03 15:31:42.047 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-02-03 15:31:42.047 +02:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-02-03 15:31:42.047 +02:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-02-03 15:31:42.047 +02:00 [INF] GetDeviceMaintenanceById with maintenance id: 30
2024-02-03 15:31:42.048 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:31:42.048 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:31:42.048 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:31:42.048 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:42.048 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:42.048 +02:00 [DBG] Executing DbCommand [Parameters=[@__deviceMaintenanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE [m].[Id] = @__deviceMaintenanceId_0
2024-02-03 15:31:42.050 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__deviceMaintenanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE [m].[Id] = @__deviceMaintenanceId_0
2024-02-03 15:31:42.052 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:42.053 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:31:42.053 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:31:42.053 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:31:42.054 +02:00 [ERR] Maintenance not found !
2024-02-03 15:31:42.054 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:31:42.054 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:31:42.054 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:31:42.054 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:31:42.054 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-02-03 15:31:42.054 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-02-03 15:31:42.054 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi) in 8.6153ms
2024-02-03 15:31:42.055 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-02-03 15:31:42.055 +02:00 [ERR] HTTP GET /api/DeviceMaintenance/30 responded 702 in 10.2119 ms
2024-02-03 15:31:42.055 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/30 - - - 702 - text/plain;+charset=utf-8 10.9795ms
2024-02-03 15:32:02.650 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/34 - -
2024-02-03 15:32:02.651 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:32:02.651 +02:00 [DBG] The request path /api/DeviceMaintenance/34 does not match a supported file type
2024-02-03 15:32:02.651 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/34'
2024-02-03 15:32:02.652 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/34'
2024-02-03 15:32:02.652 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-02-03 15:32:02.652 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-02-03 15:32:02.652 +02:00 [INF] Route matched with {action = "GetDeviceMaintenanceById", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenanceByIdAsync(Int32) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:32:02.652 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:32:02.652 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:32:02.652 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:32:02.652 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:32:02.652 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:32:02.652 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:32:02.652 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:32:02.652 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-02-03 15:32:02.652 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-02-03 15:32:02.652 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-02-03 15:32:02.652 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-02-03 15:32:02.652 +02:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-02-03 15:32:02.656 +02:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-02-03 15:32:02.656 +02:00 [INF] GetDeviceMaintenanceById with maintenance id: 34
2024-02-03 15:32:02.657 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:32:02.657 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:32:02.658 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-02-03 15:32:02.658 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:32:02.658 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:32:02.658 +02:00 [DBG] Executing DbCommand [Parameters=[@__deviceMaintenanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE [m].[Id] = @__deviceMaintenanceId_0
2024-02-03 15:32:02.665 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__deviceMaintenanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE [m].[Id] = @__deviceMaintenanceId_0
2024-02-03 15:32:02.666 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:32:02.667 +02:00 [DBG] The navigation 'Maintenance.Device' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:32:02.667 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:32:02.667 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:32:02.668 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:32:02.668 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:32:02.668 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:32:02.671 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:32:02.671 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:32:02.671 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:32:02.671 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:32:02.671 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:32:02.671 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceDto'.
2024-02-03 15:32:02.678 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi) in 26.2778ms
2024-02-03 15:32:02.678 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)'
2024-02-03 15:32:02.679 +02:00 [INF] HTTP GET /api/DeviceMaintenance/34 responded 200 in 27.8328 ms
2024-02-03 15:32:02.679 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/34 - - - 200 263 application/json;+charset=utf-8 28.7513ms
2024-02-03 15:32:41.345 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenances - -
2024-02-03 15:32:41.345 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:32:41.345 +02:00 [DBG] The request path /api/DeviceMaintenance/getAllMaintenances does not match a supported file type
2024-02-03 15:32:41.345 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getAllMaintenances'
2024-02-03 15:32:41.345 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetAllMaintenancesAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getAllMaintenances' is valid for the request path '/api/DeviceMaintenance/getAllMaintenances'
2024-02-03 15:32:41.345 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getAllMaintenances'
2024-02-03 15:32:41.345 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetAllMaintenancesAsync (WebApi)'
2024-02-03 15:32:41.345 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetAllMaintenancesAsync (WebApi)'
2024-02-03 15:32:41.352 +02:00 [INF] Route matched with {action = "GetAllMaintenances", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenancesAsync() on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:32:41.352 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:32:41.353 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:32:41.353 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:32:41.353 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:32:41.353 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:32:41.353 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:32:41.353 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:32:41.355 +02:00 [INF] GetAllDevices
2024-02-03 15:32:41.359 +02:00 [DBG] Compiling query expression: 
'DbSet<Maintenance>()
    .Include(d => d.Device)'
2024-02-03 15:32:41.359 +02:00 [DBG] Including navigation: 'Maintenance.Device'.
2024-02-03 15:32:41.371 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Maintenance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Maintenance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Maintenance.ActualDate (DateTime?), 1], [Property: Maintenance.CreatedAt (DateTime) Required, 2], [Property: Maintenance.CreatedBy (string) Required, 3], [Property: Maintenance.Description (string), 4], [Property: Maintenance.DeviceId (int) Required FK Index, 5], [Property: Maintenance.Outcome (string), 6], [Property: Maintenance.ScheduledDate (DateTime) Required, 7], [Property: Maintenance.Status (Status) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Device.Alias (string), 10], [Property: Device.Description (string), 11], [Property: Device.DeviceTypeId (int) Required FK Index, 12], [Property: Device.Emails (string), 13], [Property: Device.FirmwareVersion (string), 14], [Property: Device.ImageBytes (byte[]), 15], [Property: Device.LastPingedTs (DateTime?), 16], [Property: Device.LastUploadTime (DateTime?), 17], [Property: Device.LocationId (int) Required FK Index, 18], [Property: Device.Name (string) Required, 19], [Property: Device.SerialNumber (string) Required, 20], [Property: Device.SoftwareVersion (string), 21] }
        SELECT m.Id, m.ActualDate, m.CreatedAt, m.CreatedBy, m.Description, m.DeviceId, m.Outcome, m.ScheduledDate, m.Status, d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion
        FROM Maintenances AS m
        INNER JOIN Devices AS d ON m.DeviceId == d.DeviceId), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Maintenance>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 15:32:41.371 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:32:41.371 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:32:41.371 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:32:41.371 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:32:41.371 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:32:41.371 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
2024-02-03 15:32:41.376 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
2024-02-03 15:32:41.377 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:32:41.377 +02:00 [DBG] The navigation 'Maintenance.Device' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:32:41.377 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:32:41.377 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:32:41.378 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:32:41.378 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:32:41.378 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:32:41.378 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:32:41.378 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:32:41.378 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:32:41.378 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:32:41.378 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:32:41.378 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:32:41.378 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetAllMaintenancesAsync (WebApi) in 25.7026ms
2024-02-03 15:32:41.378 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetAllMaintenancesAsync (WebApi)'
2024-02-03 15:32:41.379 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getAllMaintenances responded 200 in 33.3659 ms
2024-02-03 15:32:41.379 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenances - - - 200 265 application/json;+charset=utf-8 34.2574ms
2024-02-03 15:35:31.227 +02:00 [DBG] Connection id "0HN14NBVLCH1M" accepted.
2024-02-03 15:35:31.227 +02:00 [DBG] Connection id "0HN14NBVLCH1M" started.
2024-02-03 15:35:31.228 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:35:31.228 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:35:31.228 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:35:31.228 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:35:31.228 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:35:31.228 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:35:31.228 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:35:31.228 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:35:31.228 +02:00 [DBG] New connection dSsYdzmTIiCQmGuqoLZU-w created.
2024-02-03 15:35:31.228 +02:00 [DBG] Establishing new connection.
2024-02-03 15:35:31.229 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:35:31.229 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:35:31.422 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:35:31.422 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:35:31.422 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:35:31.422 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:35:31.423 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.8116ms
2024-02-03 15:35:31.478 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:35:31.478 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:35:31.498 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:35:31.499 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:35:31.499 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:35:31.499 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:35:31.499 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:35:31.499 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:35:31.499 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:35:31.499 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:35:31.499 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:35:31.499 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:35:31.499 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:35:31.499 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:35:31.499 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:35:31.499 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:35:31.499 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:35:31.503 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:35:31.503 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:35:31.503 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:35:31.503 +02:00 [INF] GetAllDevices
2024-02-03 15:35:31.504 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:35:31.504 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:35:31.504 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:35:31.504 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:35:31.504 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:35:31.504 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:35:31.532 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:35:31.539 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:35:31.540 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:35:31.541 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:35:31.561 +02:00 [DBG] Socket closed.
2024-02-03 15:35:31.572 +02:00 [DBG] Removing connection dSsYdzmTIiCQmGuqoLZU-w from the list of connections.
2024-02-03 15:35:31.575 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:35:31.575 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 346.6778 ms
2024-02-03 15:35:31.575 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 347.1593ms
2024-02-03 15:35:31.575 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:35:31.575 +02:00 [DBG] Connection id "0HN14NBVLCH1M" disconnecting.
2024-02-03 15:35:31.575 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:35:31.578 +02:00 [DBG] Connection id "0HN14NBVLCH1M" stopped.
2024-02-03 15:35:31.578 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:35:31.579 +02:00 [DBG] Connection id "0HN14NBVLCH1M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:35:31.579 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:35:31.580 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:35:31.580 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:35:31.580 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 48ms reading results.
2024-02-03 15:35:31.581 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:35:31.581 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:35:31.581 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:35:31.581 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:35:31.581 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:35:31.581 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:35:31.581 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:35:31.581 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:35:31.581 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 78.0672ms
2024-02-03 15:35:31.581 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:35:31.581 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 82.5211 ms
2024-02-03 15:35:31.582 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 84.3135ms
2024-02-03 15:36:52.975 +02:00 [DBG] Connection id "0HN14NBVLCH1N" accepted.
2024-02-03 15:36:52.975 +02:00 [DBG] Connection id "0HN14NBVLCH1N" started.
2024-02-03 15:36:52.976 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:36:52.976 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:36:52.976 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:36:52.976 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:36:52.976 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:36:52.976 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:36:52.976 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:36:52.976 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:36:52.976 +02:00 [DBG] New connection 1etGscVcYrPPT6dITYkFCA created.
2024-02-03 15:36:52.976 +02:00 [DBG] Establishing new connection.
2024-02-03 15:36:52.977 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:36:52.977 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:36:53.266 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:36:53.266 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:36:53.266 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:36:53.266 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:36:53.266 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:36:53.266 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:36:53.331 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 64.7932ms
2024-02-03 15:36:53.366 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:36:53.369 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:36:53.370 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:36:53.370 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:36:53.370 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:36:53.370 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:36:53.370 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:36:53.370 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:36:53.370 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:36:53.370 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:36:53.370 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:36:53.371 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:36:53.371 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:36:53.371 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:36:53.371 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:36:53.371 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:36:53.371 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:36:53.371 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:36:53.371 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:36:53.371 +02:00 [INF] GetAllDevices
2024-02-03 15:36:53.409 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:36:53.410 +02:00 [DBG] Waiting for the application to finish sending data.
2024-02-03 15:36:53.410 +02:00 [DBG] Socket closed.
2024-02-03 15:36:53.425 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:36:53.425 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:36:53.425 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:36:53.425 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:36:53.432 +02:00 [DBG] Removing connection 1etGscVcYrPPT6dITYkFCA from the list of connections.
2024-02-03 15:36:53.432 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:36:53.433 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:36:53.433 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 457.0983 ms
2024-02-03 15:36:53.433 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:36:53.433 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 457.6285ms
2024-02-03 15:36:53.434 +02:00 [DBG] Connection id "0HN14NBVLCH1N" disconnecting.
2024-02-03 15:36:53.434 +02:00 [DBG] Connection id "0HN14NBVLCH1N" stopped.
2024-02-03 15:36:53.434 +02:00 [DBG] Connection id "0HN14NBVLCH1N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:36:53.445 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:36:53.446 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:36:53.446 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:36:53.446 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:36:53.446 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:36:53.446 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:36:53.446 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:36:53.446 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:36:53.446 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:36:53.446 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:36:53.447 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:36:53.447 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:36:53.447 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:36:53.447 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:36:53.447 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:36:53.447 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:36:53.447 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 75.8615ms
2024-02-03 15:36:53.447 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:36:53.447 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 77.4345 ms
2024-02-03 15:36:53.447 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 78.1043ms
2024-02-03 15:36:59.554 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:36:59.554 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:36:59.554 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:36:59.554 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:36:59.555 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.7987ms
2024-02-03 15:36:59.558 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 78
2024-02-03 15:36:59.558 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:36:59.558 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:36:59.558 +02:00 [DBG] POST requests are not supported
2024-02-03 15:36:59.559 +02:00 [DBG] POST requests are not supported
2024-02-03 15:36:59.559 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:36:59.559 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:36:59.559 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:36:59.559 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:36:59.559 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:36:59.559 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:36:59.559 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:36:59.559 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:36:59.559 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:36:59.559 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:36:59.559 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:36:59.559 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:36:59.559 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:36:59.560 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:36:59.560 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:36:59.560 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:36:59.560 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000035": started reading request body.
2024-02-03 15:36:59.560 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000035": done reading request body.
2024-02-03 15:36:59.560 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:36:59.560 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:36:59.560 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:36:59.560 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:36:59.560 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 15:36:59.561 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 15:36:59.561 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:36:59.561 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:36:59.561 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 15:36:59.561 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 15:36:59.561 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 15:36:59.562 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 2.3266ms
2024-02-03 15:36:59.562 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:36:59.562 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 3.1024 ms
2024-02-03 15:36:59.562 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 78 - 400 245 application/problem+json;+charset=utf-8 3.8020ms
2024-02-03 15:38:56.471 +02:00 [DBG] Connection id "0HN14NBVLCH1O" accepted.
2024-02-03 15:38:56.471 +02:00 [DBG] Connection id "0HN14NBVLCH1O" started.
2024-02-03 15:38:56.472 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:38:56.472 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:38:56.472 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:38:56.472 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:38:56.472 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:38:56.472 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:38:56.472 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:38:56.472 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:38:56.472 +02:00 [DBG] New connection G03tGAzGZOg0OG4soZcZEQ created.
2024-02-03 15:38:56.472 +02:00 [DBG] Establishing new connection.
2024-02-03 15:38:56.472 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:38:56.473 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:38:56.553 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:38:56.553 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:38:56.553 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:38:56.553 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:38:56.553 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.4966ms
2024-02-03 15:38:56.565 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:38:56.565 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:38:56.565 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:38:56.565 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:38:56.565 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:38:56.565 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:38:56.565 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:38:56.565 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:38:56.565 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:38:56.565 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:38:56.566 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:38:56.566 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:38:56.566 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:38:56.566 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:38:56.566 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:38:56.566 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:38:56.566 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:38:56.566 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:38:56.566 +02:00 [INF] GetAllDevices
2024-02-03 15:38:56.567 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:38:56.567 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:38:56.567 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:38:56.567 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:38:56.567 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:38:56.567 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:38:56.577 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:38:56.578 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:38:56.579 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:38:56.579 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:38:56.579 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:38:56.579 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:38:56.579 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:38:56.579 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:38:56.579 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:38:56.579 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:38:56.580 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:38:56.580 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:38:56.580 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:38:56.580 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:38:56.580 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:38:56.580 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:38:56.580 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 14.1642ms
2024-02-03 15:38:56.580 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:38:56.580 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 15.0908 ms
2024-02-03 15:38:56.580 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 16.0799ms
2024-02-03 15:38:56.628 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:38:56.628 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:38:56.630 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:38:56.630 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:38:56.632 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:38:56.641 +02:00 [DBG] Socket closed.
2024-02-03 15:38:56.641 +02:00 [DBG] Removing connection G03tGAzGZOg0OG4soZcZEQ from the list of connections.
2024-02-03 15:38:56.641 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:38:56.641 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 168.8200 ms
2024-02-03 15:38:56.641 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 169.1562ms
2024-02-03 15:38:56.649 +02:00 [DBG] Connection id "0HN14NBVLCH1O" disconnecting.
2024-02-03 15:38:56.651 +02:00 [DBG] Connection id "0HN14NBVLCH1O" stopped.
2024-02-03 15:38:56.651 +02:00 [DBG] Connection id "0HN14NBVLCH1O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:39:47.209 +02:00 [DBG] Connection id "0HN14NBVLCH1P" accepted.
2024-02-03 15:39:47.209 +02:00 [DBG] Connection id "0HN14NBVLCH1P" started.
2024-02-03 15:39:47.210 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:39:47.210 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:39:47.210 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:39:47.210 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:39:47.210 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:39:47.210 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:39:47.210 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:39:47.210 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:39:47.210 +02:00 [DBG] New connection Tyo9qG3zGxrn_c934_HdZg created.
2024-02-03 15:39:47.211 +02:00 [DBG] Establishing new connection.
2024-02-03 15:39:47.212 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:39:47.212 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:39:47.299 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:39:47.300 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:39:47.300 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:39:47.300 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:39:47.300 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.4122ms
2024-02-03 15:39:47.308 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:39:47.308 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:39:47.308 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:39:47.308 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:39:47.308 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:39:47.308 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:39:47.308 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:39:47.308 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:39:47.309 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:39:47.309 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:39:47.309 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:39:47.309 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:39:47.309 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:39:47.309 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:39:47.309 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:39:47.309 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:39:47.309 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:39:47.309 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:39:47.309 +02:00 [INF] GetAllDevices
2024-02-03 15:39:47.310 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:39:47.310 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:39:47.310 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:39:47.310 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:39:47.310 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:39:47.310 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:39:47.323 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:39:47.324 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:39:47.324 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:39:47.324 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:39:47.325 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:39:47.325 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:39:47.325 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:39:47.325 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:39:47.325 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:39:47.325 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:39:47.325 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:39:47.325 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:39:47.325 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:39:47.325 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:39:47.325 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:39:47.325 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:39:47.326 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 16.6692ms
2024-02-03 15:39:47.326 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:39:47.326 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 17.4179 ms
2024-02-03 15:39:47.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 484 application/json;+charset=utf-8 17.9987ms
2024-02-03 15:39:47.391 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:39:47.391 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:39:47.397 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:39:47.397 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:39:47.398 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:39:47.398 +02:00 [DBG] Socket closed.
2024-02-03 15:39:47.398 +02:00 [DBG] Removing connection Tyo9qG3zGxrn_c934_HdZg from the list of connections.
2024-02-03 15:39:47.398 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:39:47.398 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 187.9965 ms
2024-02-03 15:39:47.398 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 188.6023ms
2024-02-03 15:39:47.398 +02:00 [DBG] Connection id "0HN14NBVLCH1P" disconnecting.
2024-02-03 15:39:47.399 +02:00 [DBG] Connection id "0HN14NBVLCH1P" stopped.
2024-02-03 15:39:47.399 +02:00 [DBG] Connection id "0HN14NBVLCH1P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:40:03.524 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:40:03.524 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:40:03.524 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:40:03.524 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:40:03.524 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.6269ms
2024-02-03 15:40:03.534 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 555
2024-02-03 15:40:03.535 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:40:03.535 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:40:03.535 +02:00 [DBG] POST requests are not supported
2024-02-03 15:40:03.535 +02:00 [DBG] POST requests are not supported
2024-02-03 15:40:03.535 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:40:03.535 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:40:03.535 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:40:03.535 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:40:03.535 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:40:03.535 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:40:03.536 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:40:03.536 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:40:03.536 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:40:03.536 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:40:03.536 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:40:03.536 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:40:03.536 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:40:03.536 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:40:03.536 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:40:03.536 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:40:03.536 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000041": started reading request body.
2024-02-03 15:40:03.536 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000041": done reading request body.
2024-02-03 15:40:03.536 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:40:03.536 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:40:03.536 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:40:03.537 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:40:03.537 +02:00 [INF] AddDeviceMaintenance for {
  "Id": 0,
  "DeviceId": 0,
  "Device": {
    "DeviceId": 2,
    "Name": "Jziki no. 1",
    "SerialNumber": "JT12020",
    "Description": "Tensiometru",
    "Location": {
      "LocationId": 1,
      "Name": "Petrosani",
      "EmailAlertsActive": true,
      "Address": "Str 1 Decembrie 1918",
      "City": "Petrosani",
      "Country": "Romania",
      "IsLocationUsed": false
    },
    "DeviceType": {
      "DeviceTypeId": 9,
      "Name": "Tensiometru"
    },
    "ImageBytes": null
  },
  "ScheduledDate": "2024-02-08T22:00:00Z",
  "Description": "zz"
}
2024-02-03 15:40:03.537 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Maintenance'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:40:03.537 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:40:03.537 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:40:03.537 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:40:03.537 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:40:03.537 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:03.538 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:03.538 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:40:03.538 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:40:03.538 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:40:03.538 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:40:03.558 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:40:03.558 +02:00 [DBG] The foreign key property 'Maintenance.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:40:03.558 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:03.558 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:40:03.558 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:03.558 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:40:03.559 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:40:03.559 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:40:03.559 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:40:03.559 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:40:03.559 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:40:03.559 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:40:03.559 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:40:03.559 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:40:03.560 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 23.861ms
2024-02-03 15:40:03.560 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:40:03.560 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 200 in 24.6346 ms
2024-02-03 15:40:03.560 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 555 - 200 415 application/json;+charset=utf-8 26.0913ms
2024-02-03 15:40:03.624 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:40:03.624 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:40:03.624 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:40:03.624 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:40:03.624 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.8095ms
2024-02-03 15:40:03.628 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:40:03.628 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:40:03.628 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:40:03.628 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:40:03.628 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:40:03.628 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:40:03.628 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:40:03.628 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:40:03.628 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:40:03.628 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:40:03.628 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:40:03.629 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:40:03.629 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:40:03.629 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:40:03.629 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:40:03.629 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:40:03.629 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:40:03.629 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:40:03.629 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:40:03.629 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:40:03.629 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:40:03.629 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:40:03.629 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:40:03.629 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:40:03.629 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:40:03.630 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:40:03.630 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:40:03.630 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:40:03.630 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:40:03.630 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:40:03.630 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:40:03.630 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:40:03.630 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:40:03.630 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:40:03.630 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:40:03.630 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:40:03.630 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:40:03.630 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:40:03.630 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:40:03.630 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:40:03.630 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:40:03.630 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:40:03.630 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:40:03.631 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:40:03.631 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:40:03.631 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:40:03.631 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:40:03.631 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:40:03.631 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:40:03.631 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:40:03.631 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:40:03.631 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:40:03.631 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:40:03.631 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:40:03.631 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:40:03.632 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:40:03.632 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:40:03.644 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:40:03.644 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:40:03.644 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:40:03.644 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:03.644 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:03.644 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:40:03.651 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:40:03.653 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:40:03.653 +02:00 [DBG] The navigation 'Maintenance.Device' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:40:03.653 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:40:03.653 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:03.653 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:40:03.653 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:03.653 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:40:03.654 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:40:03.654 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:40:03.654 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:40:03.654 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:40:03.654 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:40:03.654 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:40:03.654 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 25.3658ms
2024-02-03 15:40:03.654 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:40:03.654 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 26.1062 ms
2024-02-03 15:40:03.654 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 368 application/json;+charset=utf-8 26.8139ms
2024-02-03 15:40:22.727 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/delete/34 - -
2024-02-03 15:40:22.728 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:40:22.728 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:40:22.728 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:40:22.728 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/delete/34 - - - 204 - - 1.2589ms
2024-02-03 15:40:22.731 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7137/api/DeviceMaintenance/delete/34 text/plain;+charset=utf-8 -
2024-02-03 15:40:22.731 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:40:22.731 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:40:22.731 +02:00 [DBG] DELETE requests are not supported
2024-02-03 15:40:22.732 +02:00 [DBG] DELETE requests are not supported
2024-02-03 15:40:22.732 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/delete/34'
2024-02-03 15:40:22.732 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.DeleteMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/delete/{Id}' is valid for the request path '/api/DeviceMaintenance/delete/34'
2024-02-03 15:40:22.732 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.DeleteMaintenanceByIdAsync (WebApi)'
2024-02-03 15:40:22.732 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.DeleteMaintenanceByIdAsync (WebApi)'
2024-02-03 15:40:22.739 +02:00 [INF] Route matched with {action = "DeleteMaintenanceById", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteMaintenanceByIdAsync(Int32) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:40:22.739 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:40:22.739 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:40:22.739 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:40:22.739 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:40:22.739 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:40:22.739 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:40:22.739 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:40:22.739 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-02-03 15:40:22.739 +02:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-02-03 15:40:22.739 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-02-03 15:40:22.739 +02:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-02-03 15:40:22.739 +02:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-02-03 15:40:22.739 +02:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-02-03 15:40:22.741 +02:00 [INF] DeleteMaintenanceById by maintenance id: 34
2024-02-03 15:40:22.745 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:40:22.745 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:40:22.745 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:40:22.745 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:22.745 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:22.745 +02:00 [DBG] Executing DbCommand [Parameters=[@__deviceMaintenanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE [m].[Id] = @__deviceMaintenanceId_0
2024-02-03 15:40:22.751 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__deviceMaintenanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
WHERE [m].[Id] = @__deviceMaintenanceId_0
2024-02-03 15:40:22.756 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:40:22.756 +02:00 [DBG] The navigation 'Maintenance.Device' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:40:22.756 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:40:22.756 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:22.756 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-02-03 15:40:22.756 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:22.756 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:40:22.760 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:40:22.766 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:40:22.767 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:40:22.779 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:40:22.785 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:22.785 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:22.785 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:40:22.785 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:40:22.785 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:40:22.785 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Maintenances]
OUTPUT 1
WHERE [Id] = @p0;
2024-02-03 15:40:22.804 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Maintenances]
OUTPUT 1
WHERE [Id] = @p0;
2024-02-03 15:40:22.804 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:22.804 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:40:22.804 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:22.804 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:40:22.814 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:40:22.814 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:40:22.815 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:40:22.815 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:40:22.815 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:40:22.815 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:40:22.815 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-02-03 15:40:22.815 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-02-03 15:40:22.815 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.DeleteMaintenanceByIdAsync (WebApi) in 76.3833ms
2024-02-03 15:40:22.815 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.DeleteMaintenanceByIdAsync (WebApi)'
2024-02-03 15:40:22.815 +02:00 [INF] HTTP DELETE /api/DeviceMaintenance/delete/34 responded 200 in 83.9373 ms
2024-02-03 15:40:22.816 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7137/api/DeviceMaintenance/delete/34 text/plain;+charset=utf-8 - - 200 - text/plain;+charset=utf-8 85.0082ms
2024-02-03 15:40:22.823 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:40:22.823 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:40:22.823 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:40:22.823 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:40:22.823 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.2898ms
2024-02-03 15:40:22.825 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:40:22.825 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:40:22.825 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:40:22.825 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:40:22.825 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:40:22.825 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:40:22.825 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:40:22.826 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:40:22.826 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:40:22.826 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:40:22.826 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:40:22.826 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:40:22.826 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:40:22.826 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:40:22.826 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:40:22.826 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:40:22.826 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:40:22.826 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:40:22.826 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:40:22.826 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:40:22.826 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:40:22.826 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:40:22.826 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:40:22.826 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:40:22.826 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:40:22.826 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:40:22.826 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:40:22.827 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:40:22.827 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:40:22.828 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:40:22.834 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:40:22.834 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:40:22.834 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:40:22.834 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:22.834 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:22.834 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:40:22.836 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:40:22.838 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:22.838 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:40:22.839 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:40:22.839 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:40:22.839 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:40:22.839 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:40:22.839 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:40:22.839 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:40:22.839 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:40:22.839 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:40:22.839 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 13.4066ms
2024-02-03 15:40:22.839 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:40:22.839 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 13.9538 ms
2024-02-03 15:40:22.840 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 14.5041ms
2024-02-03 15:42:31.654 +02:00 [DBG] Connection id "0HN14NBVLCH1Q" accepted.
2024-02-03 15:42:31.655 +02:00 [DBG] Connection id "0HN14NBVLCH1Q" started.
2024-02-03 15:42:31.655 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:42:31.655 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:42:31.655 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:42:31.656 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:42:31.656 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:42:31.656 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:42:31.656 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:42:31.656 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:42:31.656 +02:00 [DBG] New connection vuHb2_CzhHDuo96yZU03bw created.
2024-02-03 15:42:31.656 +02:00 [DBG] Establishing new connection.
2024-02-03 15:42:31.657 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:42:31.659 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:42:31.753 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:42:31.755 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:42:31.755 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:42:31.755 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:42:31.763 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 8.7861ms
2024-02-03 15:42:31.764 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:42:31.766 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:42:31.767 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:42:31.768 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:42:31.768 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:42:31.768 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:42:31.768 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:42:31.768 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:42:31.768 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:42:31.768 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:42:31.768 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:42:31.768 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:42:31.768 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:42:31.768 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:42:31.768 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:42:31.768 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:42:31.768 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:42:31.768 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:42:31.769 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:42:31.769 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:42:31.769 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:42:31.769 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:42:31.769 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:42:31.769 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:42:31.769 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:42:31.769 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:42:31.769 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:42:31.769 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:42:31.769 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:42:31.769 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:42:31.769 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:42:31.769 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:42:31.769 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:42:31.769 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:42:31.769 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:42:31.769 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:42:31.769 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:42:31.770 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:42:31.770 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:42:31.770 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:42:31.770 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:42:31.770 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:42:31.770 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:42:31.770 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:42:31.770 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:42:31.770 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:42:31.770 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:42:31.770 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:42:31.770 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:42:31.770 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:42:31.770 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:42:31.770 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:42:31.770 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:42:31.770 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:42:31.770 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:42:31.772 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:42:31.772 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:42:31.780 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:42:31.780 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:42:31.780 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:42:31.780 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:42:31.780 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:42:31.780 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:42:31.789 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:42:31.789 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:42:31.789 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:42:31.789 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:42:31.789 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:42:31.790 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:42:31.790 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:42:31.790 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:42:31.790 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:42:31.790 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:42:31.790 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:42:31.790 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 21.8848ms
2024-02-03 15:42:31.790 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:42:31.790 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 22.6352 ms
2024-02-03 15:42:31.791 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 27.0690ms
2024-02-03 15:42:31.957 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:42:31.964 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:42:31.967 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:42:31.967 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:42:31.970 +02:00 [DBG] Waiting for the application to finish sending data.
2024-02-03 15:42:31.971 +02:00 [DBG] Socket closed.
2024-02-03 15:42:31.974 +02:00 [DBG] Removing connection vuHb2_CzhHDuo96yZU03bw from the list of connections.
2024-02-03 15:42:31.974 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:42:31.974 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 318.1225 ms
2024-02-03 15:42:31.982 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 327.0043ms
2024-02-03 15:42:31.983 +02:00 [DBG] Connection id "0HN14NBVLCH1Q" disconnecting.
2024-02-03 15:42:31.983 +02:00 [DBG] Connection id "0HN14NBVLCH1Q" stopped.
2024-02-03 15:42:31.985 +02:00 [DBG] Connection id "0HN14NBVLCH1Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:43:09.452 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false - -
2024-02-03 15:43:09.452 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:09.453 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:09.453 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:43:09.453 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.8197ms
2024-02-03 15:43:09.464 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false application/json -
2024-02-03 15:43:09.464 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:09.464 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:09.464 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:43:09.464 +02:00 [DBG] The request path /api/Device/getDevicesPagedAndFiltered does not match a supported file type
2024-02-03 15:43:09.464 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getDevicesPagedAndFiltered'
2024-02-03 15:43:09.464 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)' with route pattern 'api/Device/getDevicesPagedAndFiltered' is valid for the request path '/api/Device/getDevicesPagedAndFiltered'
2024-02-03 15:43:09.464 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getDevicesPagedAndFiltered'
2024-02-03 15:43:09.464 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)'
2024-02-03 15:43:09.464 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)'
2024-02-03 15:43:09.470 +02:00 [INF] Route matched with {action = "GetAllLocationsPaged", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLocationsPagedAsync(BusinessLogicLayer.DTOs.DeviceParameters) on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:43:09.470 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:43:09.470 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:43:09.470 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:43:09.470 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:43:09.470 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:43:09.470 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:43:09.470 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:43:09.471 +02:00 [DBG] Attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters' ...
2024-02-03 15:43:09.471 +02:00 [DBG] Attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters' using the name '' in request data ...
2024-02-03 15:43:09.471 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.SerialNumber' of type 'System.String' using the name 'SerialNumber' in request data ...
2024-02-03 15:43:09.471 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.SerialNumber' of type 'System.String'.
2024-02-03 15:43:09.471 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Name' of type 'System.String' using the name 'Name' in request data ...
2024-02-03 15:43:09.472 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Name' of type 'System.String'.
2024-02-03 15:43:09.472 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:43:09.472 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Description' of type 'System.String'.
2024-02-03 15:43:09.472 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Location' of type 'System.String' using the name 'Location' in request data ...
2024-02-03 15:43:09.472 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Location' of type 'System.String'.
2024-02-03 15:43:09.472 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.DeviceType' of type 'System.String' using the name 'DeviceType' in request data ...
2024-02-03 15:43:09.472 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.DeviceType' of type 'System.String'.
2024-02-03 15:43:09.473 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:43:09.473 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:43:09.473 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:43:09.473 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:43:09.473 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:43:09.473 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:43:09.473 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:43:09.473 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:43:09.473 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:43:09.473 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:43:09.474 +02:00 [DBG] Done attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters'.
2024-02-03 15:43:09.474 +02:00 [DBG] Done attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters'.
2024-02-03 15:43:09.474 +02:00 [DBG] Attempting to validate the bound parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters' ...
2024-02-03 15:43:09.475 +02:00 [DBG] Done attempting to validate the bound parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters'.
2024-02-03 15:43:09.480 +02:00 [INF] GetAllLocations for {
  "SerialNumber": null,
  "Name": null,
  "Description": null,
  "Location": null,
  "DeviceType": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Name",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:43:09.504 +02:00 [DBG] Compiling query expression: 
'DbSet<Device>()
    .Include(d => d.Location)
    .Include(d => d.DeviceType)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Count()'
2024-02-03 15:43:09.599 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Devices AS d), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-02-03 15:43:09.607 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:09.607 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:09.607 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:09.607 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:09.607 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:09.607 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Devices] AS [d]
2024-02-03 15:43:09.610 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Devices] AS [d]
2024-02-03 15:43:09.611 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:09.611 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:43:09.611 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:09.611 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:09.614 +02:00 [DBG] Compiling query expression: 
'DbSet<Device>()
    .Include(d => d.Location)
    .Include(d => d.DeviceType)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .Where(d => True)
    .OrderBy(d => d.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-02-03 15:43:09.615 +02:00 [DBG] Including navigation: 'Device.Location'.
2024-02-03 15:43:09.615 +02:00 [DBG] Including navigation: 'Device.DeviceType'.
2024-02-03 15:43:09.648 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Device>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Device.Alias (string), 1], [Property: Device.Description (string), 2], [Property: Device.DeviceTypeId (int) Required FK Index, 3], [Property: Device.Emails (string), 4], [Property: Device.FirmwareVersion (string), 5], [Property: Device.ImageBytes (byte[]), 6], [Property: Device.LastPingedTs (DateTime?), 7], [Property: Device.LastUploadTime (DateTime?), 8], [Property: Device.LocationId (int) Required FK Index, 9], [Property: Device.Name (string) Required, 10], [Property: Device.SerialNumber (string) Required, 11], [Property: Device.SoftwareVersion (string), 12] }
            1 -> Dictionary<IProperty, int> { [Property: Location.LocationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: Location.Address (string) Required, 14], [Property: Location.City (string) Required, 15], [Property: Location.ContactEmail (string), 16], [Property: Location.Country (string) Required, 17], [Property: Location.EmailAlertsActive (bool) Required, 18], [Property: Location.EmailRecipient (string), 19], [Property: Location.Latitude (double?), 20], [Property: Location.Longitude (double?), 21], [Property: Location.Name (string) Required, 22], [Property: Location.Phone (string), 23] }
            2 -> Dictionary<IProperty, int> { [Property: DeviceType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 24], [Property: DeviceType.Name (string) Required, 25] }
        SELECT t.DeviceId, t.Alias, t.Description, t.DeviceTypeId, t.Emails, t.FirmwareVersion, t.ImageBytes, t.LastPingedTs, t.LastUploadTime, t.LocationId, t.Name, t.SerialNumber, t.SoftwareVersion, l.LocationId, l.Address, l.City, l.ContactEmail, l.Country, l.EmailAlertsActive, l.EmailRecipient, l.Latitude, l.Longitude, l.Name, l.Phone, d0.Id, d0.Name
        FROM 
        (
            SELECT d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion
            FROM Devices AS d
            ORDER BY d.Name ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN Locations AS l ON t.LocationId == l.LocationId
        INNER JOIN DeviceTypes AS d0 ON t.DeviceTypeId == d0.Id
        ORDER BY t.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Device>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 15:43:09.649 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:09.649 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:09.649 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:09.649 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:09.649 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:09.649 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DeviceId], [t].[Alias], [t].[Description], [t].[DeviceTypeId], [t].[Emails], [t].[FirmwareVersion], [t].[ImageBytes], [t].[LastPingedTs], [t].[LastUploadTime], [t].[LocationId], [t].[Name], [t].[SerialNumber], [t].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM (
    SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
    FROM [Devices] AS [d]
    ORDER BY [d].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [t].[DeviceTypeId] = [d0].[Id]
ORDER BY [t].[Name]
2024-02-03 15:43:09.656 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DeviceId], [t].[Alias], [t].[Description], [t].[DeviceTypeId], [t].[Emails], [t].[FirmwareVersion], [t].[ImageBytes], [t].[LastPingedTs], [t].[LastUploadTime], [t].[LocationId], [t].[Name], [t].[SerialNumber], [t].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM (
    SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
    FROM [Devices] AS [d]
    ORDER BY [d].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [t].[DeviceTypeId] = [d0].[Id]
ORDER BY [t].[Name]
2024-02-03 15:43:09.658 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:09.658 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:09.658 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:09.658 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:09.658 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:09.658 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:09.658 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:43:09.658 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:09.658 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:09.659 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:43:09.659 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:43:09.659 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:43:09.659 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:43:09.659 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:43:09.659 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.DeviceInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:43:09.666 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi) in 195.5251ms
2024-02-03 15:43:09.666 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)'
2024-02-03 15:43:09.666 +02:00 [INF] HTTP GET /api/Device/getDevicesPagedAndFiltered responded 200 in 201.8790 ms
2024-02-03 15:43:09.666 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false application/json - - 200 261 application/json;+charset=utf-8 202.4335ms
2024-02-03 15:43:11.661 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/location/getAllLocations - -
2024-02-03 15:43:11.661 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:11.661 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:11.661 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:43:11.661 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/location/getAllLocations - - - 204 - - 0.7592ms
2024-02-03 15:43:11.664 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceTypes - -
2024-02-03 15:43:11.665 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:11.665 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:11.665 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:43:11.665 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/location/getAllLocations application/json -
2024-02-03 15:43:11.666 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceTypes - - - 204 - - 1.7861ms
2024-02-03 15:43:11.666 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:11.666 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:11.666 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:43:11.666 +02:00 [DBG] The request path /api/location/getAllLocations does not match a supported file type
2024-02-03 15:43:11.666 +02:00 [DBG] 1 candidate(s) found for the request path '/api/location/getAllLocations'
2024-02-03 15:43:11.667 +02:00 [DBG] Endpoint 'WebApi.Controllers.LocationController.GetAllLocationsAsync (WebApi)' with route pattern 'api/Location/getAllLocations' is valid for the request path '/api/location/getAllLocations'
2024-02-03 15:43:11.667 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.LocationController.GetAllLocationsAsync (WebApi)'
2024-02-03 15:43:11.667 +02:00 [INF] Executing endpoint 'WebApi.Controllers.LocationController.GetAllLocationsAsync (WebApi)'
2024-02-03 15:43:11.669 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceTypes application/json -
2024-02-03 15:43:11.669 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:11.670 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:11.670 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:43:11.670 +02:00 [DBG] The request path /api/DeviceTypes does not match a supported file type
2024-02-03 15:43:11.670 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceTypes'
2024-02-03 15:43:11.670 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)' with route pattern 'api/DeviceTypes' is valid for the request path '/api/DeviceTypes'
2024-02-03 15:43:11.670 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-02-03 15:43:11.670 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-02-03 15:43:11.675 +02:00 [INF] Route matched with {action = "GetAllDeviceTypes", controller = "DeviceTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDeviceTypesAsync() on controller WebApi.Controllers.DeviceTypesController (WebApi).
2024-02-03 15:43:11.675 +02:00 [INF] Route matched with {action = "GetAllLocations", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLocationsAsync() on controller WebApi.Controllers.LocationController (WebApi).
2024-02-03 15:43:11.675 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:43:11.675 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:43:11.675 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:43:11.675 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:43:11.675 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:43:11.675 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:43:11.675 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:43:11.675 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:43:11.675 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:43:11.675 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:43:11.676 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.LocationController (WebApi)
2024-02-03 15:43:11.676 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceTypesController (WebApi)
2024-02-03 15:43:11.676 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.LocationController (WebApi)
2024-02-03 15:43:11.677 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceTypesController (WebApi)
2024-02-03 15:43:11.679 +02:00 [INF] GetAllLocations
2024-02-03 15:43:11.679 +02:00 [INF] GetAllDeviceTypes
2024-02-03 15:43:11.685 +02:00 [DBG] Compiling query expression: 
'DbSet<Location>()'
2024-02-03 15:43:11.763 +02:00 [DBG] Entity Framework Core 7.0.1 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: MaxPoolSize=1024 
2024-02-03 15:43:11.764 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Location>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Location.LocationId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Location.Address (string) Required, 1], [Property: Location.City (string) Required, 2], [Property: Location.ContactEmail (string), 3], [Property: Location.Country (string) Required, 4], [Property: Location.EmailAlertsActive (bool) Required, 5], [Property: Location.EmailRecipient (string), 6], [Property: Location.Latitude (double?), 7], [Property: Location.Longitude (double?), 8], [Property: Location.Name (string) Required, 9], [Property: Location.Phone (string), 10] }
        SELECT l.LocationId, l.Address, l.City, l.ContactEmail, l.Country, l.EmailAlertsActive, l.EmailRecipient, l.Latitude, l.Longitude, l.Name, l.Phone
        FROM Locations AS l), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Location>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 15:43:11.764 +02:00 [DBG] Compiling query expression: 
'DbSet<DeviceType>()
    .OrderBy(d => d.Name)'
2024-02-03 15:43:11.765 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:11.765 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:11.765 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:11.765 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.765 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.765 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone]
FROM [Locations] AS [l]
2024-02-03 15:43:11.785 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DeviceType>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DeviceType.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DeviceType.Name (string) Required, 1] }
        SELECT d.Id, d.Name
        FROM DeviceTypes AS d
        ORDER BY d.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DeviceType>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 15:43:11.786 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:11.786 +02:00 [DBG] Creating DbConnection.
2024-02-03 15:43:11.787 +02:00 [DBG] Created DbConnection. (0ms).
2024-02-03 15:43:11.787 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:11.787 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:11.787 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.798 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone]
FROM [Locations] AS [l]
2024-02-03 15:43:11.798 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:11.798 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:11.798 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:11.798 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.799 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:43:11.799 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.799 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:11.800 +02:00 [DBG] Compiling query expression: 
'DbSet<Device>()
    .Any(l => l.LocationId == __locationId_0)'
2024-02-03 15:43:11.805 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Devices AS d
            WHERE d.LocationId == @__locationId_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-02-03 15:43:11.805 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:11.805 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:11.805 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:11.805 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.805 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.805 +02:00 [DBG] Executing DbCommand [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Devices] AS [d]
        WHERE [d].[LocationId] = @__locationId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-02-03 15:43:11.808 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Devices] AS [d]
        WHERE [d].[LocationId] = @__locationId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-02-03 15:43:11.811 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.812 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:43:11.812 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.812 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:11.813 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.813 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:11.813 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:11.813 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:11.813 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.813 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.813 +02:00 [DBG] Executing DbCommand [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Devices] AS [d]
        WHERE [d].[LocationId] = @__locationId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-02-03 15:43:11.814 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Devices] AS [d]
        WHERE [d].[LocationId] = @__locationId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-02-03 15:43:11.814 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.814 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:43:11.814 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.814 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:11.814 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [DeviceTypes] AS [d]
ORDER BY [d].[Name]
2024-02-03 15:43:11.814 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:11.814 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:11.814 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:11.814 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.814 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.814 +02:00 [DBG] Executing DbCommand [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Devices] AS [d]
        WHERE [d].[LocationId] = @__locationId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-02-03 15:43:11.816 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Name]
FROM [DeviceTypes] AS [d]
ORDER BY [d].[Name]
2024-02-03 15:43:11.816 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__locationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Devices] AS [d]
        WHERE [d].[LocationId] = @__locationId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-02-03 15:43:11.817 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.817 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:11.817 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:43:11.817 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.817 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:11.817 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:11.817 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:11.817 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.817 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:43:11.817 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:11.817 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:43:11.817 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:11.817 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:43:11.817 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:43:11.817 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:43:11.817 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:43:11.817 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.LocationInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:43:11.817 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:43:11.817 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:43:11.818 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:43:11.818 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:43:11.818 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:43:11.818 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceTypeDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:43:11.819 +02:00 [INF] Executed action WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi) in 142.9739ms
2024-02-03 15:43:11.819 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceTypesController.GetAllDeviceTypesAsync (WebApi)'
2024-02-03 15:43:11.819 +02:00 [INF] HTTP GET /api/DeviceTypes responded 200 in 148.9138 ms
2024-02-03 15:43:11.819 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceTypes application/json - - 200 106 application/json;+charset=utf-8 149.5379ms
2024-02-03 15:43:11.822 +02:00 [INF] Executed action WebApi.Controllers.LocationController.GetAllLocationsAsync (WebApi) in 146.0266ms
2024-02-03 15:43:11.822 +02:00 [INF] Executed endpoint 'WebApi.Controllers.LocationController.GetAllLocationsAsync (WebApi)'
2024-02-03 15:43:11.822 +02:00 [INF] HTTP GET /api/location/getAllLocations responded 200 in 155.6268 ms
2024-02-03 15:43:11.822 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/location/getAllLocations application/json - - 200 483 application/json;+charset=utf-8 156.6464ms
2024-02-03 15:43:28.732 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/Device/AddDevice multipart/form-data;+boundary=----WebKitFormBoundaryYM7bhGxkkph2yUaE 1831
2024-02-03 15:43:28.732 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:28.732 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:28.732 +02:00 [DBG] POST requests are not supported
2024-02-03 15:43:28.732 +02:00 [DBG] POST requests are not supported
2024-02-03 15:43:28.732 +02:00 [DBG] 1 candidate(s) found for the request path '/api/Device/AddDevice'
2024-02-03 15:43:28.732 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.AddDevice (WebApi)' with route pattern 'api/Device/AddDevice' is valid for the request path '/api/Device/AddDevice'
2024-02-03 15:43:28.732 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.AddDevice (WebApi)'
2024-02-03 15:43:28.733 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.AddDevice (WebApi)'
2024-02-03 15:43:28.738 +02:00 [INF] Route matched with {action = "AddDevice", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDevice(BusinessLogicLayer.DTOs.DeviceDtoAdd) on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:43:28.738 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:43:28.738 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:43:28.738 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:43:28.738 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:43:28.738 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:43:28.738 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:43:28.739 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:43:28.749 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:0000005F": started reading request body.
2024-02-03 15:43:28.750 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:0000005F": done reading request body.
2024-02-03 15:43:28.765 +02:00 [DBG] Attempting to bind parameter 'device' of type 'BusinessLogicLayer.DTOs.DeviceDtoAdd' ...
2024-02-03 15:43:28.766 +02:00 [DBG] Attempting to bind parameter 'device' of type 'BusinessLogicLayer.DTOs.DeviceDtoAdd' using the name '' in request data ...
2024-02-03 15:43:28.766 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.SoftwareVersion' of type 'System.String' using the name 'SoftwareVersion' in request data ...
2024-02-03 15:43:28.766 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.SoftwareVersion' of type 'System.String'.
2024-02-03 15:43:28.766 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.FirmwareVersion' of type 'System.String' using the name 'FirmwareVersion' in request data ...
2024-02-03 15:43:28.766 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.FirmwareVersion' of type 'System.String'.
2024-02-03 15:43:28.766 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.Alias' of type 'System.String' using the name 'Alias' in request data ...
2024-02-03 15:43:28.766 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.Alias' of type 'System.String'.
2024-02-03 15:43:28.767 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.Emails' of type 'System.String' using the name 'Emails' in request data ...
2024-02-03 15:43:28.767 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.Emails' of type 'System.String'.
2024-02-03 15:43:28.768 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.ImageFile' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'ImageFile' in request data ...
2024-02-03 15:43:28.769 +02:00 [DBG] No files found in the request to bind the model to.
2024-02-03 15:43:28.769 +02:00 [DBG] No files found in the request to bind the model to.
2024-02-03 15:43:28.769 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.ImageFile' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-02-03 15:43:28.769 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.DeviceId' of type 'System.Int32' using the name 'DeviceId' in request data ...
2024-02-03 15:43:28.769 +02:00 [DBG] Could not find a value in the request with name 'DeviceId' for binding property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.DeviceId' of type 'System.Int32'.
2024-02-03 15:43:28.769 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.DeviceId' of type 'System.Int32'.
2024-02-03 15:43:28.769 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.Name' of type 'System.String' using the name 'Name' in request data ...
2024-02-03 15:43:28.769 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.Name' of type 'System.String'.
2024-02-03 15:43:28.770 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.SerialNumber' of type 'System.String' using the name 'SerialNumber' in request data ...
2024-02-03 15:43:28.771 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.SerialNumber' of type 'System.String'.
2024-02-03 15:43:28.771 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:43:28.771 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.Description' of type 'System.String'.
2024-02-03 15:43:28.771 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.Location' of type 'BusinessLogicLayer.DTOs.LocationDto' using the name 'Location' in request data ...
2024-02-03 15:43:28.771 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.LocationId' of type 'System.Int32' using the name 'Location.LocationId' in request data ...
2024-02-03 15:43:28.771 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.LocationId' of type 'System.Int32'.
2024-02-03 15:43:28.771 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.Name' of type 'System.String' using the name 'Location.Name' in request data ...
2024-02-03 15:43:28.771 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.Name' of type 'System.String'.
2024-02-03 15:43:28.771 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.EmailAlertsActive' of type 'System.Boolean' using the name 'Location.EmailAlertsActive' in request data ...
2024-02-03 15:43:28.771 +02:00 [DBG] Could not find a value in the request with name 'Location.EmailAlertsActive' for binding property 'BusinessLogicLayer.DTOs.LocationDto.EmailAlertsActive' of type 'System.Boolean'.
2024-02-03 15:43:28.771 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.EmailAlertsActive' of type 'System.Boolean'.
2024-02-03 15:43:28.771 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.Address' of type 'System.String' using the name 'Location.Address' in request data ...
2024-02-03 15:43:28.771 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.Address' of type 'System.String'.
2024-02-03 15:43:28.771 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.City' of type 'System.String' using the name 'Location.City' in request data ...
2024-02-03 15:43:28.771 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.City' of type 'System.String'.
2024-02-03 15:43:28.771 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.Country' of type 'System.String' using the name 'Location.Country' in request data ...
2024-02-03 15:43:28.771 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.Country' of type 'System.String'.
2024-02-03 15:43:28.771 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.IsLocationUsed' of type 'System.Boolean' using the name 'Location.IsLocationUsed' in request data ...
2024-02-03 15:43:28.771 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.LocationDto.IsLocationUsed' of type 'System.Boolean'.
2024-02-03 15:43:28.772 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.Location' of type 'BusinessLogicLayer.DTOs.LocationDto'.
2024-02-03 15:43:28.772 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.DeviceType' of type 'BusinessLogicLayer.DTOs.DeviceTypeDto' using the name 'DeviceType' in request data ...
2024-02-03 15:43:28.772 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceTypeDto.DeviceTypeId' of type 'System.Int32' using the name 'DeviceType.DeviceTypeId' in request data ...
2024-02-03 15:43:28.772 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceTypeDto.DeviceTypeId' of type 'System.Int32'.
2024-02-03 15:43:28.772 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceTypeDto.Name' of type 'System.String' using the name 'DeviceType.Name' in request data ...
2024-02-03 15:43:28.772 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceTypeDto.Name' of type 'System.String'.
2024-02-03 15:43:28.772 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.DeviceType' of type 'BusinessLogicLayer.DTOs.DeviceTypeDto'.
2024-02-03 15:43:28.772 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.ImageBytes' of type 'System.String' using the name 'ImageBytes' in request data ...
2024-02-03 15:43:28.772 +02:00 [DBG] Could not find a value in the request with name 'ImageBytes' for binding property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.ImageBytes' of type 'System.String'.
2024-02-03 15:43:28.772 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceDtoAdd.ImageBytes' of type 'System.String'.
2024-02-03 15:43:28.772 +02:00 [DBG] Done attempting to bind parameter 'device' of type 'BusinessLogicLayer.DTOs.DeviceDtoAdd'.
2024-02-03 15:43:28.772 +02:00 [DBG] Done attempting to bind parameter 'device' of type 'BusinessLogicLayer.DTOs.DeviceDtoAdd'.
2024-02-03 15:43:28.772 +02:00 [DBG] Attempting to validate the bound parameter 'device' of type 'BusinessLogicLayer.DTOs.DeviceDtoAdd' ...
2024-02-03 15:43:28.775 +02:00 [DBG] Done attempting to validate the bound parameter 'device' of type 'BusinessLogicLayer.DTOs.DeviceDtoAdd'.
2024-02-03 15:43:28.780 +02:00 [INF] AddDevice for {
  "SoftwareVersion": "444",
  "FirmwareVersion": "444",
  "Alias": null,
  "Emails": "g@gmail.com",
  "ImageFile": null,
  "DeviceId": 0,
  "Name": "ii",
  "SerialNumber": "22",
  "Description": null,
  "Location": {
    "LocationId": 2,
    "Name": "Cluj",
    "EmailAlertsActive": false,
    "Address": "Str Dorobantilor",
    "City": "Cluj-Napoca",
    "Country": "Romania",
    "IsLocationUsed": false
  },
  "DeviceType": {
    "DeviceTypeId": 10,
    "Name": "uuu"
  },
  "ImageBytes": null
}
2024-02-03 15:43:28.784 +02:00 [DBG] Compiling query expression: 
'DbSet<Device>()
    .Where(d => d.Name.Equals(__deviceName_0))'
2024-02-03 15:43:28.788 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Device>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Device.DeviceId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Device.Alias (string), 1], [Property: Device.Description (string), 2], [Property: Device.DeviceTypeId (int) Required FK Index, 3], [Property: Device.Emails (string), 4], [Property: Device.FirmwareVersion (string), 5], [Property: Device.ImageBytes (byte[]), 6], [Property: Device.LastPingedTs (DateTime?), 7], [Property: Device.LastUploadTime (DateTime?), 8], [Property: Device.LocationId (int) Required FK Index, 9], [Property: Device.Name (string) Required, 10], [Property: Device.SerialNumber (string) Required, 11], [Property: Device.SoftwareVersion (string), 12] }
        SELECT d.DeviceId, d.Alias, d.Description, d.DeviceTypeId, d.Emails, d.FirmwareVersion, d.ImageBytes, d.LastPingedTs, d.LastUploadTime, d.LocationId, d.Name, d.SerialNumber, d.SoftwareVersion
        FROM Devices AS d
        WHERE d.Name == @__deviceName_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Device>, 
    DataAccessLayer.DataContext, 
    False, 
    False, 
    True
)'
2024-02-03 15:43:28.788 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:28.788 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:28.788 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:28.788 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:28.789 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:28.789 +02:00 [DBG] Executing DbCommand [Parameters=[@__deviceName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Devices] AS [d]
WHERE [d].[Name] = @__deviceName_0
2024-02-03 15:43:28.792 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__deviceName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Devices] AS [d]
WHERE [d].[Name] = @__deviceName_0
2024-02-03 15:43:28.792 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:28.792 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:43:28.792 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:28.792 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:28.797 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'DeviceId.Device'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:28.799 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:28.799 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:43:28.799 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:43:28.799 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:43:28.800 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:28.800 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:28.800 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:28.800 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:28.801 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-02-03 15:43:28.801 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Devices] ([Alias], [Description], [DeviceTypeId], [Emails], [FirmwareVersion], [ImageBytes], [LastPingedTs], [LastUploadTime], [LocationId], [Name], [SerialNumber], [SoftwareVersion])
OUTPUT INSERTED.[DeviceId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-02-03 15:43:28.826 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Devices] ([Alias], [Description], [DeviceTypeId], [Emails], [FirmwareVersion], [ImageBytes], [LastPingedTs], [LastUploadTime], [LocationId], [Name], [SerialNumber], [SoftwareVersion])
OUTPUT INSERTED.[DeviceId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-02-03 15:43:28.828 +02:00 [DBG] The foreign key property 'Device.DeviceId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:43:28.831 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:28.832 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-02-03 15:43:28.832 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:28.832 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:28.832 +02:00 [DBG] An entity of type 'Device' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:28.833 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:43:28.833 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:43:28.833 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:43:28.833 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:43:28.833 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:43:28.833 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:43:28.833 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.DeviceDtoAdd'.
2024-02-03 15:43:28.836 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.AddDevice (WebApi) in 97.4368ms
2024-02-03 15:43:28.836 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.AddDevice (WebApi)'
2024-02-03 15:43:28.836 +02:00 [INF] HTTP POST /api/Device/AddDevice responded 200 in 103.5793 ms
2024-02-03 15:43:28.836 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/Device/AddDevice multipart/form-data;+boundary=----WebKitFormBoundaryYM7bhGxkkph2yUaE 1831 - 200 391 application/json;+charset=utf-8 104.2468ms
2024-02-03 15:43:32.188 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - -
2024-02-03 15:43:32.188 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:32.188 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:32.188 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:43:32.188 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/User/authenticate - - - 204 - - 0.4292ms
2024-02-03 15:43:32.191 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31
2024-02-03 15:43:32.191 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:32.191 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:32.191 +02:00 [DBG] POST requests are not supported
2024-02-03 15:43:32.191 +02:00 [DBG] POST requests are not supported
2024-02-03 15:43:32.194 +02:00 [DBG] 1 candidate(s) found for the request path '/api/User/authenticate'
2024-02-03 15:43:32.195 +02:00 [DBG] Endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)' with route pattern 'api/User/authenticate' is valid for the request path '/api/User/authenticate'
2024-02-03 15:43:32.195 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-02-03 15:43:32.195 +02:00 [INF] Executing endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-02-03 15:43:32.195 +02:00 [INF] Route matched with {action = "Authenticate", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(DataAccessLayer.Models.User) on controller WebApi.Controllers.UserController (WebApi).
2024-02-03 15:43:32.195 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:43:32.195 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:43:32.195 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:43:32.195 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:43:32.195 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:43:32.195 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-02-03 15:43:32.195 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.UserController (WebApi)
2024-02-03 15:43:32.195 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-02-03 15:43:32.195 +02:00 [DBG] Attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User' using the name '' in request data ...
2024-02-03 15:43:32.195 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:43:32.195 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:43:32.196 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000063": started reading request body.
2024-02-03 15:43:32.196 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000063": done reading request body.
2024-02-03 15:43:32.196 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-02-03 15:43:32.196 +02:00 [DBG] Done attempting to bind parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-02-03 15:43:32.196 +02:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User' ...
2024-02-03 15:43:32.196 +02:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'DataAccessLayer.Models.User'.
2024-02-03 15:43:32.196 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:32.196 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:32.196 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:32.196 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:32.197 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:32.197 +02:00 [DBG] Executing DbCommand [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-02-03 15:43:32.202 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userObj_Username_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IsActive], [u].[LastName], [u].[Password], [u].[RefreshToken], [u].[RefreshTokenExpiryTime], [u].[RoleId], [u].[Token], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__userObj_Username_0
2024-02-03 15:43:32.202 +02:00 [DBG] Context 'DataContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:32.202 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:32.202 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:43:32.202 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:32.202 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:32.203 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:32.203 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:32.203 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:32.203 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:32.203 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:32.203 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-02-03 15:43:32.206 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[RefreshToken] = @__refreshToken_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-02-03 15:43:32.206 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:32.206 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:43:32.206 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:32.206 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:32.206 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:43:32.206 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:43:32.206 +02:00 [DBG] The unchanged property 'User.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:43:32.206 +02:00 [DBG] An entity of type 'User' tracked by 'DataContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:32.206 +02:00 [DBG] The unchanged property 'User.RefreshTokenExpiryTime' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:43:32.206 +02:00 [DBG] The unchanged property 'User.Token' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:43:32.207 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:43:32.207 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:32.207 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:32.207 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:32.207 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:32.207 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:32.207 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-02-03 15:43:32.227 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1, [Token] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2024-02-03 15:43:32.227 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:32.227 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:43:32.227 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:32.227 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:32.227 +02:00 [DBG] An entity of type 'User' tracked by 'DataContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:32.227 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:43:32.227 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:43:32.227 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:43:32.228 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:43:32.228 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:43:32.228 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:43:32.228 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.TokenApiDto'.
2024-02-03 15:43:32.228 +02:00 [INF] Executed action WebApi.Controllers.UserController.Authenticate (WebApi) in 32.7506ms
2024-02-03 15:43:32.228 +02:00 [INF] Executed endpoint 'WebApi.Controllers.UserController.Authenticate (WebApi)'
2024-02-03 15:43:32.228 +02:00 [INF] HTTP POST /api/User/authenticate responded 200 in 36.5643 ms
2024-02-03 15:43:32.228 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/User/authenticate application/json 31 - 200 299 application/json;+charset=utf-8 37.1639ms
2024-02-03 15:43:35.739 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:43:35.739 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:35.739 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:35.739 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:43:35.739 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.7513ms
2024-02-03 15:43:35.744 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:43:35.744 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:35.744 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:35.744 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:43:35.744 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:43:35.744 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:43:35.744 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:43:35.744 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:43:35.744 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:43:35.744 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:43:35.745 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:43:35.745 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:43:35.745 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:43:35.745 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:43:35.745 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:43:35.745 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:43:35.745 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:43:35.745 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:43:35.745 +02:00 [INF] GetAllDevices
2024-02-03 15:43:35.745 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:35.746 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:35.746 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:35.746 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:35.746 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:35.746 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:43:35.753 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:43:35.754 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:35.754 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:35.754 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:35.755 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:35.755 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:35.755 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:35.755 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:35.755 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:35.755 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:35.755 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:35.755 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:35.755 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:43:35.755 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:35.755 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:35.755 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:43:35.756 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:43:35.756 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:43:35.756 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:43:35.756 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:43:35.756 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:43:35.756 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 11.037ms
2024-02-03 15:43:35.756 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:43:35.756 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 11.8898 ms
2024-02-03 15:43:35.756 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 12.8932ms
2024-02-03 15:43:40.168 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:43:40.168 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:40.168 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:40.168 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:43:40.168 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.4635ms
2024-02-03 15:43:40.171 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 477
2024-02-03 15:43:40.171 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:40.171 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:40.171 +02:00 [DBG] POST requests are not supported
2024-02-03 15:43:40.171 +02:00 [DBG] POST requests are not supported
2024-02-03 15:43:40.171 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:43:40.171 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:43:40.171 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:43:40.171 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:43:40.171 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:43:40.171 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:43:40.172 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:43:40.172 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:43:40.172 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:43:40.172 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:43:40.172 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:43:40.172 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:43:40.172 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:43:40.172 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:43:40.172 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:43:40.172 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:43:40.172 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:0000006B": started reading request body.
2024-02-03 15:43:40.172 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:0000006B": done reading request body.
2024-02-03 15:43:40.175 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:43:40.175 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:43:40.175 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:43:40.176 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:43:40.176 +02:00 [INF] AddDeviceMaintenance for {
  "Id": 0,
  "DeviceId": 0,
  "Device": {
    "DeviceId": 4,
    "Name": "ii",
    "SerialNumber": "22",
    "Description": null,
    "Location": {
      "LocationId": 2,
      "Name": "Cluj",
      "EmailAlertsActive": true,
      "Address": "Str Dorobantilor",
      "City": "Cluj-Napoca",
      "Country": "Romania",
      "IsLocationUsed": false
    },
    "DeviceType": {
      "DeviceTypeId": 10,
      "Name": "uuu"
    },
    "ImageBytes": null
  },
  "ScheduledDate": "2024-02-08T22:00:00Z",
  "Description": ""
}
2024-02-03 15:43:40.176 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Maintenance'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:40.176 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:40.176 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:43:40.176 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:43:40.176 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:43:40.177 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:40.177 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:40.177 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:40.177 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:40.177 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:40.177 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:43:40.183 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:43:40.184 +02:00 [DBG] The foreign key property 'Maintenance.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:43:40.184 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:40.184 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:43:40.184 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:40.184 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:40.184 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:43:40.184 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:43:40.185 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:43:40.185 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:43:40.185 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:43:40.185 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:43:40.185 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:43:40.185 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:43:40.185 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 13.537ms
2024-02-03 15:43:40.185 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:43:40.185 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 200 in 14.4682 ms
2024-02-03 15:43:40.186 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 477 - 200 376 application/json;+charset=utf-8 15.6120ms
2024-02-03 15:43:40.207 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:43:40.207 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:40.207 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:40.207 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:43:40.208 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.7561ms
2024-02-03 15:43:40.267 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:43:40.267 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:40.267 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:40.267 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:43:40.267 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:43:40.267 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:43:40.267 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:43:40.267 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:43:40.267 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:43:40.267 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:43:40.267 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:43:40.268 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:43:40.268 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:43:40.268 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:43:40.268 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:43:40.268 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:43:40.268 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:43:40.268 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:43:40.268 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:43:40.268 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:43:40.268 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:43:40.268 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:43:40.268 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:43:40.268 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:43:40.268 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:43:40.268 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:43:40.268 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:43:40.268 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:43:40.268 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:43:40.268 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:43:40.268 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:43:40.268 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:43:40.268 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:43:40.268 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:43:40.268 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:43:40.269 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:43:40.269 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:43:40.269 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:43:40.269 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:43:40.269 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:43:40.269 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:43:40.269 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:43:40.269 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:43:40.269 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:43:40.269 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:43:40.269 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:43:40.269 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:43:40.269 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:43:40.269 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:43:40.269 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:43:40.269 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:43:40.269 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:43:40.269 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:43:40.269 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:43:40.269 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:43:40.269 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:43:40.270 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:43:40.284 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:40.284 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:40.284 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:40.284 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:40.284 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:40.284 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:43:40.289 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:43:40.289 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:40.289 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:43:40.289 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:40.289 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:40.289 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:43:40.289 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:43:40.289 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:43:40.289 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:43:40.289 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:43:40.289 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:43:40.289 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 21.7557ms
2024-02-03 15:43:40.290 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:43:40.290 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 22.4649 ms
2024-02-03 15:43:40.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 22.9879ms
2024-02-03 15:43:44.262 +02:00 [DBG] Connection id "0HN14NBVLCH1R" accepted.
2024-02-03 15:43:44.262 +02:00 [DBG] Connection id "0HN14NBVLCH1R" started.
2024-02-03 15:43:44.262 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:43:44.263 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:44.263 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:44.263 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:43:44.263 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:43:44.263 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:43:44.263 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:43:44.263 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:43:44.263 +02:00 [DBG] New connection kjlFwzi7ZOErxaruPo79LQ created.
2024-02-03 15:43:44.263 +02:00 [DBG] Establishing new connection.
2024-02-03 15:43:44.263 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:43:44.263 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:43:44.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:43:44.326 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:43:44.326 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:43:44.326 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:43:44.326 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:43:44.327 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:43:44.327 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:43:44.327 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:43:44.327 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:43:44.327 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:43:44.327 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:43:44.327 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:43:44.327 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:43:44.327 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:43:44.327 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:43:44.327 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:43:44.327 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:43:44.327 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:43:44.327 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:43:44.327 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:43:44.327 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:43:44.327 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:43:44.327 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:43:44.328 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:43:44.328 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:43:44.329 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:43:44.329 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:43:44.329 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:43:44.347 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:43:44.347 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:44.347 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:43:44.347 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:44.347 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:44.347 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:43:44.350 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:43:44.351 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:44.351 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:43:44.352 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:43:44.352 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:43:44.352 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:43:44.352 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:43:44.352 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:43:44.352 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:43:44.352 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:43:44.352 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:43:44.352 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 25.112ms
2024-02-03 15:43:44.352 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:43:44.352 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 25.7688 ms
2024-02-03 15:43:44.352 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 26.3414ms
2024-02-03 15:43:44.458 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:43:44.459 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:43:44.460 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:43:44.460 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:43:44.461 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:43:44.462 +02:00 [DBG] Socket closed.
2024-02-03 15:43:44.462 +02:00 [DBG] Removing connection kjlFwzi7ZOErxaruPo79LQ from the list of connections.
2024-02-03 15:43:44.462 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:43:44.462 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 198.9525 ms
2024-02-03 15:43:44.462 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 199.4718ms
2024-02-03 15:43:44.462 +02:00 [DBG] Connection id "0HN14NBVLCH1R" disconnecting.
2024-02-03 15:43:44.462 +02:00 [DBG] Connection id "0HN14NBVLCH1R" stopped.
2024-02-03 15:43:44.462 +02:00 [DBG] Connection id "0HN14NBVLCH1R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:44:10.029 +02:00 [DBG] Connection id "0HN14NBVLCH1S" accepted.
2024-02-03 15:44:10.030 +02:00 [DBG] Connection id "0HN14NBVLCH1S" started.
2024-02-03 15:44:10.030 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:44:10.030 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:44:10.030 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:44:10.030 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:44:10.030 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:44:10.030 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:44:10.030 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:44:10.030 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:44:10.030 +02:00 [DBG] New connection DGPWPnIKVUHqlYx7GRn_eA created.
2024-02-03 15:44:10.030 +02:00 [DBG] Establishing new connection.
2024-02-03 15:44:10.031 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:44:10.033 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:44:10.203 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:44:10.204 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:44:10.205 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:44:10.205 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:44:10.206 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:44:10.206 +02:00 [DBG] Socket closed.
2024-02-03 15:44:10.206 +02:00 [DBG] Removing connection DGPWPnIKVUHqlYx7GRn_eA from the list of connections.
2024-02-03 15:44:10.207 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:44:10.207 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 176.5088 ms
2024-02-03 15:44:10.207 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 177.1067ms
2024-02-03 15:44:10.207 +02:00 [DBG] Connection id "0HN14NBVLCH1S" disconnecting.
2024-02-03 15:44:10.207 +02:00 [DBG] Connection id "0HN14NBVLCH1S" stopped.
2024-02-03 15:44:10.208 +02:00 [DBG] Connection id "0HN14NBVLCH1S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:44:13.648 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false - -
2024-02-03 15:44:13.648 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:44:13.648 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:44:13.648 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:44:13.648 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false - - - 204 - - 0.5056ms
2024-02-03 15:44:13.651 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false application/json -
2024-02-03 15:44:13.651 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:44:13.651 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:44:13.651 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:44:13.651 +02:00 [DBG] The request path /api/Device/getDevicesPagedAndFiltered does not match a supported file type
2024-02-03 15:44:13.651 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getDevicesPagedAndFiltered'
2024-02-03 15:44:13.651 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)' with route pattern 'api/Device/getDevicesPagedAndFiltered' is valid for the request path '/api/Device/getDevicesPagedAndFiltered'
2024-02-03 15:44:13.651 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getDevicesPagedAndFiltered'
2024-02-03 15:44:13.651 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)'
2024-02-03 15:44:13.651 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)'
2024-02-03 15:44:13.652 +02:00 [INF] Route matched with {action = "GetAllLocationsPaged", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLocationsPagedAsync(BusinessLogicLayer.DTOs.DeviceParameters) on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:44:13.652 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:44:13.652 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:44:13.652 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:44:13.652 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:44:13.652 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:44:13.652 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:44:13.652 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:44:13.652 +02:00 [DBG] Attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters' ...
2024-02-03 15:44:13.652 +02:00 [DBG] Attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters' using the name '' in request data ...
2024-02-03 15:44:13.652 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.SerialNumber' of type 'System.String' using the name 'SerialNumber' in request data ...
2024-02-03 15:44:13.652 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.SerialNumber' of type 'System.String'.
2024-02-03 15:44:13.652 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Name' of type 'System.String' using the name 'Name' in request data ...
2024-02-03 15:44:13.652 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Name' of type 'System.String'.
2024-02-03 15:44:13.652 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:44:13.652 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Description' of type 'System.String'.
2024-02-03 15:44:13.652 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Location' of type 'System.String' using the name 'Location' in request data ...
2024-02-03 15:44:13.652 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.Location' of type 'System.String'.
2024-02-03 15:44:13.652 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.DeviceType' of type 'System.String' using the name 'DeviceType' in request data ...
2024-02-03 15:44:13.652 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.DeviceType' of type 'System.String'.
2024-02-03 15:44:13.653 +02:00 [DBG] Attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:44:13.653 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:44:13.653 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:44:13.653 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:44:13.653 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:44:13.653 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:44:13.653 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:44:13.653 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:44:13.653 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:44:13.653 +02:00 [DBG] Done attempting to bind property 'BusinessLogicLayer.DTOs.DeviceParameters.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:44:13.653 +02:00 [DBG] Done attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters'.
2024-02-03 15:44:13.653 +02:00 [DBG] Done attempting to bind parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters'.
2024-02-03 15:44:13.653 +02:00 [DBG] Attempting to validate the bound parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters' ...
2024-02-03 15:44:13.653 +02:00 [DBG] Done attempting to validate the bound parameter 'deviceParameters' of type 'BusinessLogicLayer.DTOs.DeviceParameters'.
2024-02-03 15:44:13.653 +02:00 [INF] GetAllLocations for {
  "SerialNumber": null,
  "Name": null,
  "Description": null,
  "Location": null,
  "DeviceType": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "Name",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:44:13.656 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:44:13.656 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:44:13.656 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:44:13.656 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:44:13.656 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:44:13.656 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Devices] AS [d]
2024-02-03 15:44:13.657 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Devices] AS [d]
2024-02-03 15:44:13.658 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:44:13.658 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:44:13.658 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:44:13.658 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:44:13.661 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:44:13.661 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:44:13.661 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:44:13.661 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:44:13.661 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:44:13.661 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DeviceId], [t].[Alias], [t].[Description], [t].[DeviceTypeId], [t].[Emails], [t].[FirmwareVersion], [t].[ImageBytes], [t].[LastPingedTs], [t].[LastUploadTime], [t].[LocationId], [t].[Name], [t].[SerialNumber], [t].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM (
    SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
    FROM [Devices] AS [d]
    ORDER BY [d].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [t].[DeviceTypeId] = [d0].[Id]
ORDER BY [t].[Name]
2024-02-03 15:44:13.667 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[DeviceId], [t].[Alias], [t].[Description], [t].[DeviceTypeId], [t].[Emails], [t].[FirmwareVersion], [t].[ImageBytes], [t].[LastPingedTs], [t].[LastUploadTime], [t].[LocationId], [t].[Name], [t].[SerialNumber], [t].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM (
    SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
    FROM [Devices] AS [d]
    ORDER BY [d].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [t].[DeviceTypeId] = [d0].[Id]
ORDER BY [t].[Name]
2024-02-03 15:44:13.667 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:44:13.667 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:44:13.667 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:44:13.667 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:44:13.667 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:44:13.669 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:44:13.669 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:44:13.669 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:44:13.669 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:44:13.669 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:44:13.669 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:44:13.669 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:44:13.669 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:44:13.669 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:44:13.669 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:44:13.669 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:44:13.669 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:44:13.669 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:44:13.669 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:44:13.669 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.DeviceInListDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:44:13.670 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi) in 17.7949ms
2024-02-03 15:44:13.670 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllLocationsPagedAsync (WebApi)'
2024-02-03 15:44:13.670 +02:00 [INF] HTTP GET /api/Device/getDevicesPagedAndFiltered responded 200 in 18.4320 ms
2024-02-03 15:44:13.670 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getDevicesPagedAndFiltered?pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.pageSize=5&name=&serialNumber=&description=&deviceType=&location=&pagingFilteringParameters.orderBy=Name&pagingFilteringParameters.orderDescending=false application/json - - 200 382 application/json;+charset=utf-8 19.3121ms
2024-02-03 15:44:44.039 +02:00 [DBG] Connection id "0HN14NBVLCH1T" accepted.
2024-02-03 15:44:44.039 +02:00 [DBG] Connection id "0HN14NBVLCH1T" started.
2024-02-03 15:44:44.042 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:44:44.042 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:44:44.042 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:44:44.042 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:44:44.042 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:44:44.042 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:44:44.042 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:44:44.042 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:44:44.042 +02:00 [DBG] New connection xwSA9Gv6Pa6EMlosTZA9dw created.
2024-02-03 15:44:44.042 +02:00 [DBG] Establishing new connection.
2024-02-03 15:44:44.043 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:44:44.043 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:44:44.286 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:44:44.286 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:44:44.288 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:44:44.289 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:44:44.289 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:44:44.290 +02:00 [DBG] Socket closed.
2024-02-03 15:44:44.291 +02:00 [DBG] Removing connection xwSA9Gv6Pa6EMlosTZA9dw from the list of connections.
2024-02-03 15:44:44.291 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:44:44.291 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 248.7272 ms
2024-02-03 15:44:44.291 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 249.3478ms
2024-02-03 15:44:44.291 +02:00 [DBG] Connection id "0HN14NBVLCH1T" disconnecting.
2024-02-03 15:44:44.292 +02:00 [DBG] Connection id "0HN14NBVLCH1T" stopped.
2024-02-03 15:44:44.292 +02:00 [DBG] Connection id "0HN14NBVLCH1T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:44:49.917 +02:00 [DBG] Connection id "0HN14NBVLCH1U" accepted.
2024-02-03 15:44:49.917 +02:00 [DBG] Connection id "0HN14NBVLCH1U" started.
2024-02-03 15:44:49.917 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:44:49.918 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:44:49.918 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:44:49.918 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:44:49.918 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:44:49.918 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:44:49.918 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:44:49.918 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:44:49.918 +02:00 [DBG] New connection 7QhXeBJZYNrdD5piX5E1Nw created.
2024-02-03 15:44:49.918 +02:00 [DBG] Establishing new connection.
2024-02-03 15:44:49.919 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:44:49.919 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:44:50.234 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:44:50.234 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:44:50.236 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:44:50.236 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:44:50.237 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:44:50.237 +02:00 [DBG] Socket closed.
2024-02-03 15:44:50.238 +02:00 [DBG] Removing connection 7QhXeBJZYNrdD5piX5E1Nw from the list of connections.
2024-02-03 15:44:50.238 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:44:50.238 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 320.0910 ms
2024-02-03 15:44:50.238 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 320.6584ms
2024-02-03 15:44:50.238 +02:00 [DBG] Connection id "0HN14NBVLCH1U" disconnecting.
2024-02-03 15:44:50.238 +02:00 [DBG] Connection id "0HN14NBVLCH1U" stopped.
2024-02-03 15:44:50.239 +02:00 [DBG] Connection id "0HN14NBVLCH1U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:45:02.839 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:45:02.840 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:45:02.840 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:45:02.840 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:45:02.840 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 1.1657ms
2024-02-03 15:45:02.844 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:45:02.844 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:45:02.844 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:45:02.844 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:45:02.844 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:45:02.844 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:45:02.844 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:45:02.844 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:45:02.844 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:45:02.844 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:45:02.844 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:45:02.844 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:45:02.844 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:45:02.844 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:45:02.844 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:45:02.844 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:45:02.844 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:45:02.844 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:45:02.844 +02:00 [INF] GetAllDevices
2024-02-03 15:45:02.845 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:45:02.845 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:45:02.845 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:45:02.845 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:45:02.845 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:45:02.845 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:45:02.852 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:45:02.853 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:02.853 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:02.854 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:02.854 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:02.854 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:02.854 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:02.854 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:02.854 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:02.854 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:02.854 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:02.854 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:45:02.854 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:45:02.854 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:45:02.854 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:45:02.854 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:45:02.854 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:45:02.854 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:45:02.854 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:45:02.854 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:45:02.854 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:45:02.855 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 10.3173ms
2024-02-03 15:45:02.855 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:45:02.855 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 10.8653 ms
2024-02-03 15:45:02.855 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 11.9849ms
2024-02-03 15:45:07.853 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:45:07.853 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:45:07.853 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:45:07.854 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:45:07.854 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.7132ms
2024-02-03 15:45:07.858 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 553
2024-02-03 15:45:07.858 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:45:07.858 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:45:07.858 +02:00 [DBG] POST requests are not supported
2024-02-03 15:45:07.858 +02:00 [DBG] POST requests are not supported
2024-02-03 15:45:07.859 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:45:07.859 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:45:07.859 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:45:07.859 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:45:07.859 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:45:07.859 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:45:07.859 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:45:07.859 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:45:07.859 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:45:07.859 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:45:07.860 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:45:07.860 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:45:07.860 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:45:07.860 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:45:07.860 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:45:07.860 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:45:07.860 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:0000007D": started reading request body.
2024-02-03 15:45:07.860 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:0000007D": done reading request body.
2024-02-03 15:45:07.860 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:45:07.860 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:45:07.860 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:45:07.861 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:45:07.861 +02:00 [INF] AddDeviceMaintenance for {
  "Id": 0,
  "DeviceId": 0,
  "Device": {
    "DeviceId": 2,
    "Name": "Jziki no. 1",
    "SerialNumber": "JT12020",
    "Description": "Tensiometru",
    "Location": {
      "LocationId": 1,
      "Name": "Petrosani",
      "EmailAlertsActive": true,
      "Address": "Str 1 Decembrie 1918",
      "City": "Petrosani",
      "Country": "Romania",
      "IsLocationUsed": false
    },
    "DeviceType": {
      "DeviceTypeId": 9,
      "Name": "Tensiometru"
    },
    "ImageBytes": null
  },
  "ScheduledDate": "2024-02-08T22:00:00Z",
  "Description": ""
}
2024-02-03 15:45:07.861 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Maintenance'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:07.861 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:07.861 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 15:45:07.861 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 15:45:07.861 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 15:45:07.861 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:45:07.862 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:45:07.862 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:45:07.862 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:45:07.862 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:45:07.862 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:45:07.882 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 15:45:07.882 +02:00 [DBG] The foreign key property 'Maintenance.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 15:45:07.882 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:45:07.882 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:45:07.882 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:45:07.882 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:45:07.882 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:45:07.882 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 15:45:07.882 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:45:07.883 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:45:07.883 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:45:07.883 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:45:07.883 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:45:07.883 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:45:07.883 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 23.5571ms
2024-02-03 15:45:07.883 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:45:07.883 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 200 in 24.6289 ms
2024-02-03 15:45:07.884 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 553 - 200 413 application/json;+charset=utf-8 25.6327ms
2024-02-03 15:45:07.917 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:45:07.917 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:45:07.917 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:45:07.917 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:45:07.917 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.4367ms
2024-02-03 15:45:07.920 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:45:07.920 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:45:07.920 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:45:07.920 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:45:07.920 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:45:07.920 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:45:07.920 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:45:07.920 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:45:07.920 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:45:07.920 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:45:07.920 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:45:07.920 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:45:07.920 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:45:07.920 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:45:07.920 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:45:07.920 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:45:07.920 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:45:07.920 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:45:07.920 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:45:07.920 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:45:07.920 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:45:07.921 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:45:07.921 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:45:07.921 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:45:07.929 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:45:07.929 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:45:07.929 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:45:07.929 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:45:07.929 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:45:07.929 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:45:07.933 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:45:07.933 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:45:07.933 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:45:07.933 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:45:07.934 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:45:07.934 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:45:07.934 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:45:07.934 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:45:07.934 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:45:07.934 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:45:07.934 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:45:07.934 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 13.7196ms
2024-02-03 15:45:07.934 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:45:07.934 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 14.1639 ms
2024-02-03 15:45:07.934 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 14.6786ms
2024-02-03 15:46:26.109 +02:00 [DBG] Connection id "0HN14NBVLCH1V" accepted.
2024-02-03 15:46:26.109 +02:00 [DBG] Connection id "0HN14NBVLCH1V" started.
2024-02-03 15:46:26.109 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:46:26.109 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:46:26.109 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:46:26.109 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:46:26.109 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:46:26.109 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:46:26.109 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:46:26.109 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:46:26.109 +02:00 [DBG] New connection 6VZ-LFLOkC1G3uxkPVAQLA created.
2024-02-03 15:46:26.109 +02:00 [DBG] Establishing new connection.
2024-02-03 15:46:26.110 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:46:26.110 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:46:26.248 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 15:46:26.249 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:46:26.249 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:46:26.249 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:46:26.249 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.7559ms
2024-02-03 15:46:26.252 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 15:46:26.252 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:46:26.252 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:46:26.252 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:46:26.252 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 15:46:26.252 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:46:26.252 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:46:26.252 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 15:46:26.252 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:46:26.252 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:46:26.252 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:46:26.252 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:46:26.252 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:46:26.252 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:46:26.252 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:46:26.252 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:46:26.252 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:46:26.252 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 15:46:26.253 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 15:46:26.253 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 15:46:26.254 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 15:46:26.254 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:46:26.254 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:46:26.254 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 15:46:26.254 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 15:46:26.254 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 15:46:26.262 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:46:26.262 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:46:26.262 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:46:26.262 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:46:26.263 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:46:26.263 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:46:26.267 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 15:46:26.267 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:46:26.267 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 15:46:26.267 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:46:26.267 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:46:26.267 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:46:26.267 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:46:26.267 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:46:26.267 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:46:26.267 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:46:26.267 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:46:26.268 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 15.1343ms
2024-02-03 15:46:26.268 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 15:46:26.268 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 15.6561 ms
2024-02-03 15:46:26.268 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 16.3048ms
2024-02-03 15:46:26.512 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:46:26.512 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:46:26.513 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:46:26.514 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:46:26.514 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:46:26.514 +02:00 [DBG] Socket closed.
2024-02-03 15:46:26.514 +02:00 [DBG] Removing connection 6VZ-LFLOkC1G3uxkPVAQLA from the list of connections.
2024-02-03 15:46:26.515 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:46:26.515 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 405.3195 ms
2024-02-03 15:46:26.515 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 405.7147ms
2024-02-03 15:46:26.515 +02:00 [DBG] Connection id "0HN14NBVLCH1V" disconnecting.
2024-02-03 15:46:26.515 +02:00 [DBG] Connection id "0HN14NBVLCH1V" stopped.
2024-02-03 15:46:26.515 +02:00 [DBG] Connection id "0HN14NBVLCH1V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:46:35.936 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:46:35.936 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:46:35.936 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:46:35.936 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:46:35.936 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.6043ms
2024-02-03 15:46:35.940 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:46:35.940 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:46:35.941 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:46:35.941 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:46:35.941 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:46:35.941 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:46:35.941 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:46:35.941 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:46:35.941 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:46:35.941 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:46:35.941 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:46:35.941 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:46:35.941 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:46:35.942 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:46:35.942 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:46:35.942 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:46:35.942 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:46:35.942 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:46:35.942 +02:00 [INF] GetAllDevices
2024-02-03 15:46:35.942 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:46:35.942 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:46:35.942 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:46:35.942 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:46:35.943 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:46:35.943 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:46:35.953 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:46:35.955 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:46:35.955 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:46:35.955 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:46:35.955 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:46:35.955 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:46:35.956 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:46:35.956 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:46:35.956 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:46:35.956 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:46:35.956 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:46:35.956 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:46:35.956 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-02-03 15:46:35.956 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:46:35.957 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:46:35.957 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:46:35.957 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:46:35.957 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:46:35.957 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:46:35.957 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:46:35.957 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:46:35.958 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 16.0906ms
2024-02-03 15:46:35.958 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:46:35.958 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 17.1732 ms
2024-02-03 15:46:35.959 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 18.8427ms
2024-02-03 15:46:40.336 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:46:40.336 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:46:40.336 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:46:40.336 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:46:40.337 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.6646ms
2024-02-03 15:46:40.339 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 72
2024-02-03 15:46:40.340 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:46:40.340 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:46:40.340 +02:00 [DBG] POST requests are not supported
2024-02-03 15:46:40.340 +02:00 [DBG] POST requests are not supported
2024-02-03 15:46:40.340 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:46:40.340 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:46:40.340 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:46:40.340 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:46:40.340 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:46:40.341 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:46:40.341 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:46:40.341 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:46:40.341 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:46:40.341 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:46:40.341 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:46:40.341 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:46:40.341 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:46:40.341 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:46:40.341 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:46:40.341 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:46:40.341 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:0000008D": started reading request body.
2024-02-03 15:46:40.341 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:0000008D": done reading request body.
2024-02-03 15:46:40.350 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value 2 to type 'BusinessLogicLayer.DTOs.DeviceDto'. Path 'device', line 1, position 11.
 ---> System.ArgumentException: Could not cast or convert from System.Int64 to BusinessLogicLayer.DTOs.DeviceDto.
   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType)
   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 15:46:40.351 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:46:40.351 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:46:40.351 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:46:40.351 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:46:40.351 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 15:46:40.351 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 15:46:40.351 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:46:40.351 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:46:40.351 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 15:46:40.351 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 15:46:40.351 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 15:46:40.351 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 10.8144ms
2024-02-03 15:46:40.352 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:46:40.352 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 11.3891 ms
2024-02-03 15:46:40.352 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 72 - 400 374 application/problem+json;+charset=utf-8 12.5005ms
2024-02-03 15:47:01.427 +02:00 [DBG] Connection id "0HN14NBVLCH20" accepted.
2024-02-03 15:47:01.427 +02:00 [DBG] Connection id "0HN14NBVLCH20" started.
2024-02-03 15:47:01.427 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:47:01.427 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:47:01.427 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:47:01.427 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:47:01.427 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:47:01.427 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:47:01.427 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:47:01.427 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:47:01.428 +02:00 [DBG] New connection MYNFD_fKXTkq4c6_c4p7rA created.
2024-02-03 15:47:01.428 +02:00 [DBG] Establishing new connection.
2024-02-03 15:47:01.428 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:47:01.428 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:47:01.535 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:47:01.536 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:47:01.536 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:47:01.536 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:47:01.537 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 1.4561ms
2024-02-03 15:47:01.545 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:47:01.545 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:47:01.545 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:47:01.545 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:47:01.545 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:47:01.546 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:47:01.546 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:47:01.546 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:47:01.546 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:47:01.546 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:47:01.546 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:47:01.546 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:47:01.546 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:47:01.546 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:47:01.546 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:47:01.546 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:47:01.546 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:47:01.546 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:47:01.546 +02:00 [INF] GetAllDevices
2024-02-03 15:47:01.546 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:47:01.546 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:47:01.546 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:47:01.546 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:47:01.546 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:47:01.547 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:47:01.548 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:47:01.550 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:47:01.551 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:47:01.551 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:47:01.551 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:47:01.551 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:47:01.551 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:47:01.551 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:47:01.551 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:47:01.551 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:47:01.551 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:47:01.551 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:47:01.551 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:47:01.551 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:47:01.551 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:47:01.551 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:47:01.551 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:47:01.551 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:47:01.551 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:47:01.551 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:47:01.551 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:47:01.552 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 5.8339ms
2024-02-03 15:47:01.552 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:47:01.552 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 6.3174 ms
2024-02-03 15:47:01.552 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 7.0280ms
2024-02-03 15:47:01.615 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:47:01.615 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:47:01.617 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:47:01.617 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:47:01.618 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:47:01.618 +02:00 [DBG] Socket closed.
2024-02-03 15:47:01.619 +02:00 [DBG] Removing connection MYNFD_fKXTkq4c6_c4p7rA from the list of connections.
2024-02-03 15:47:01.619 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:47:01.619 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 191.3366 ms
2024-02-03 15:47:01.619 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 191.7718ms
2024-02-03 15:47:01.619 +02:00 [DBG] Connection id "0HN14NBVLCH20" disconnecting.
2024-02-03 15:47:01.619 +02:00 [DBG] Connection id "0HN14NBVLCH20" stopped.
2024-02-03 15:47:01.620 +02:00 [DBG] Connection id "0HN14NBVLCH20" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:48:03.828 +02:00 [DBG] Connection id "0HN14NBVLCH21" accepted.
2024-02-03 15:48:03.828 +02:00 [DBG] Connection id "0HN14NBVLCH21" started.
2024-02-03 15:48:03.829 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:48:03.829 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:48:03.829 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:48:03.829 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:48:03.829 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:48:03.829 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:48:03.829 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:48:03.829 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:48:03.829 +02:00 [DBG] New connection d67xiP8_EUs6tDzEQGAP0w created.
2024-02-03 15:48:03.829 +02:00 [DBG] Establishing new connection.
2024-02-03 15:48:03.830 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:48:03.830 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:48:03.910 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:48:03.911 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:48:03.911 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:48:03.911 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:48:03.911 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.9073ms
2024-02-03 15:48:03.920 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:48:03.920 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:48:03.920 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:48:03.921 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:48:03.921 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:48:03.921 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:48:03.921 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:48:03.921 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:48:03.921 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:48:03.922 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:48:03.922 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:48:03.922 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:48:03.922 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:48:03.922 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:48:03.922 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:48:03.922 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:48:03.922 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:48:03.922 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:48:03.922 +02:00 [INF] GetAllDevices
2024-02-03 15:48:03.922 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:48:03.923 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:48:03.923 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:48:03.923 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:48:03.923 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:48:03.923 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:48:03.931 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:48:03.943 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:03.943 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:03.943 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:03.943 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:03.943 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:03.944 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:03.944 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:03.944 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:03.944 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:03.944 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:03.944 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:48:03.944 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 12ms reading results.
2024-02-03 15:48:03.944 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:48:03.944 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:48:03.944 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:48:03.944 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:48:03.944 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:48:03.944 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:48:03.944 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:48:03.944 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:48:03.945 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 22.8378ms
2024-02-03 15:48:03.945 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:48:03.945 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 24.1720 ms
2024-02-03 15:48:03.945 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 25.1120ms
2024-02-03 15:48:03.999 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:48:03.999 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:48:04.001 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:48:04.002 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:48:04.002 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:48:04.002 +02:00 [DBG] Socket closed.
2024-02-03 15:48:04.003 +02:00 [DBG] Removing connection d67xiP8_EUs6tDzEQGAP0w from the list of connections.
2024-02-03 15:48:04.003 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:48:04.003 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 173.5274 ms
2024-02-03 15:48:04.003 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 174.0434ms
2024-02-03 15:48:04.003 +02:00 [DBG] Connection id "0HN14NBVLCH21" disconnecting.
2024-02-03 15:48:04.003 +02:00 [DBG] Connection id "0HN14NBVLCH21" stopped.
2024-02-03 15:48:04.003 +02:00 [DBG] Connection id "0HN14NBVLCH21" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:48:10.141 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:48:10.141 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:48:10.141 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:48:10.141 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:48:10.142 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.4845ms
2024-02-03 15:48:10.144 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 563
2024-02-03 15:48:10.144 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:48:10.144 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:48:10.145 +02:00 [DBG] POST requests are not supported
2024-02-03 15:48:10.145 +02:00 [DBG] POST requests are not supported
2024-02-03 15:48:10.145 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:48:10.145 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:48:10.145 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:48:10.145 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:48:10.145 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:48:10.145 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:48:10.145 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:48:10.145 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:48:10.145 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:48:10.145 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:48:10.145 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:48:10.145 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:48:10.145 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:48:10.145 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:48:10.145 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:48:10.146 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:48:10.146 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000099": started reading request body.
2024-02-03 15:48:10.146 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000099": done reading request body.
2024-02-03 15:48:10.146 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'id', line 1, position 10.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 15:48:10.147 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:48:10.147 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:48:10.147 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:48:10.147 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:48:10.147 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 15:48:10.147 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 15:48:10.147 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:48:10.147 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:48:10.147 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 15:48:10.147 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 15:48:10.147 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 15:48:10.148 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 2.4368ms
2024-02-03 15:48:10.148 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:48:10.148 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 3.0346 ms
2024-02-03 15:48:10.148 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 563 - 400 350 application/problem+json;+charset=utf-8 3.5562ms
2024-02-03 15:48:59.469 +02:00 [DBG] Connection id "0HN14NBVLCH22" accepted.
2024-02-03 15:48:59.469 +02:00 [DBG] Connection id "0HN14NBVLCH22" started.
2024-02-03 15:48:59.470 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:48:59.470 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:48:59.470 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:48:59.470 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:48:59.471 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:48:59.471 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:48:59.471 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:48:59.471 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:48:59.471 +02:00 [DBG] New connection UZ2kJGgpCJi58VorkhOk_w created.
2024-02-03 15:48:59.471 +02:00 [DBG] Establishing new connection.
2024-02-03 15:48:59.471 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:48:59.471 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:48:59.581 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:48:59.581 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:48:59.581 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:48:59.581 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:48:59.581 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.6805ms
2024-02-03 15:48:59.591 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:48:59.591 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:48:59.591 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:48:59.591 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:48:59.591 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:48:59.591 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:48:59.591 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:48:59.591 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:48:59.591 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:48:59.591 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:48:59.592 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:48:59.592 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:48:59.592 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:48:59.592 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:48:59.592 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:48:59.592 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:48:59.592 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:48:59.592 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:48:59.592 +02:00 [INF] GetAllDevices
2024-02-03 15:48:59.592 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:48:59.592 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:48:59.592 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:48:59.592 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:48:59.593 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:48:59.593 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:48:59.598 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:48:59.599 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:59.599 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:59.599 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:59.599 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:59.599 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:59.599 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:59.599 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:59.599 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:59.599 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:59.599 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:48:59.599 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:48:59.600 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:48:59.600 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:48:59.600 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:48:59.600 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:48:59.600 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:48:59.600 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:48:59.600 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:48:59.600 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:48:59.600 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:48:59.601 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 8.9406ms
2024-02-03 15:48:59.601 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:48:59.601 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 9.5822 ms
2024-02-03 15:48:59.602 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 10.7113ms
2024-02-03 15:48:59.661 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:48:59.661 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:48:59.662 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:48:59.663 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:48:59.663 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:48:59.664 +02:00 [DBG] Socket closed.
2024-02-03 15:48:59.664 +02:00 [DBG] Removing connection UZ2kJGgpCJi58VorkhOk_w from the list of connections.
2024-02-03 15:48:59.664 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:48:59.664 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 193.6070 ms
2024-02-03 15:48:59.664 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 194.1770ms
2024-02-03 15:48:59.664 +02:00 [DBG] Connection id "0HN14NBVLCH22" disconnecting.
2024-02-03 15:48:59.664 +02:00 [DBG] Connection id "0HN14NBVLCH22" stopped.
2024-02-03 15:48:59.665 +02:00 [DBG] Connection id "0HN14NBVLCH22" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:49:37.281 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:49:37.282 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:49:37.282 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:49:37.282 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:49:37.283 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 1.1053ms
2024-02-03 15:49:37.293 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 563
2024-02-03 15:49:37.294 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:49:37.294 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:49:37.294 +02:00 [DBG] POST requests are not supported
2024-02-03 15:49:37.294 +02:00 [DBG] POST requests are not supported
2024-02-03 15:49:37.294 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:49:37.294 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:49:37.294 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:49:37.294 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:49:37.294 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:49:37.294 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:49:37.294 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:49:37.294 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:49:37.294 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:49:37.294 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:49:37.294 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:49:37.294 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:49:37.294 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:49:37.294 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:49:37.294 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:49:37.295 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:49:37.295 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000A1": started reading request body.
2024-02-03 15:49:37.295 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000A1": done reading request body.
2024-02-03 15:49:37.295 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'id', line 1, position 10.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 15:49:37.296 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:49:37.296 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:49:37.296 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:49:37.296 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:49:37.296 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 15:49:37.296 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 15:49:37.296 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:49:37.296 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:49:37.296 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 15:49:37.296 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 15:49:37.296 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 15:49:37.296 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 2.0768ms
2024-02-03 15:49:37.296 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:49:37.296 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 2.6623 ms
2024-02-03 15:49:37.297 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 563 - 400 350 application/problem+json;+charset=utf-8 3.1733ms
2024-02-03 15:50:02.668 +02:00 [DBG] Connection id "0HN14NBVLCH23" accepted.
2024-02-03 15:50:02.669 +02:00 [DBG] Connection id "0HN14NBVLCH23" started.
2024-02-03 15:50:02.682 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:50:02.705 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:50:02.705 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:50:02.705 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:50:02.705 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:50:02.705 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:50:02.705 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:50:02.705 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:50:02.705 +02:00 [DBG] New connection sNzlYPot37zu-x-bG51oLw created.
2024-02-03 15:50:02.705 +02:00 [DBG] Establishing new connection.
2024-02-03 15:50:02.710 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:50:02.726 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:50:02.763 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:50:02.763 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:50:02.763 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:50:02.763 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:50:02.763 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 2.0667ms
2024-02-03 15:50:02.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:50:02.770 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:50:02.770 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:50:02.770 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:50:02.770 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:50:02.770 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:50:02.770 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:50:02.770 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:50:02.770 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:50:02.770 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:50:02.770 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:50:02.770 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:50:02.770 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:50:02.770 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:50:02.770 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:50:02.771 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:50:02.771 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:50:02.771 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:50:02.771 +02:00 [INF] GetAllDevices
2024-02-03 15:50:02.771 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:50:02.771 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:50:02.771 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:50:02.771 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:50:02.771 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:50:02.771 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:50:02.779 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:50:02.780 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:50:02.781 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:50:02.781 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:50:02.781 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:50:02.781 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:50:02.781 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:50:02.782 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:50:02.782 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:50:02.782 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:50:02.782 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:50:02.782 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:50:02.782 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:50:02.782 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:50:02.782 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:50:02.783 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:50:02.783 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:50:02.783 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:50:02.783 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:50:02.783 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:50:02.783 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:50:02.783 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 12.4537ms
2024-02-03 15:50:02.783 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:50:02.783 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 13.3088 ms
2024-02-03 15:50:02.784 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 14.0843ms
2024-02-03 15:50:02.864 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:50:02.864 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:50:02.866 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:50:02.867 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:50:02.868 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:50:02.868 +02:00 [DBG] Socket closed.
2024-02-03 15:50:02.868 +02:00 [DBG] Removing connection sNzlYPot37zu-x-bG51oLw from the list of connections.
2024-02-03 15:50:02.868 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:50:02.868 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 163.4634 ms
2024-02-03 15:50:02.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 186.4483ms
2024-02-03 15:50:02.869 +02:00 [DBG] Connection id "0HN14NBVLCH23" disconnecting.
2024-02-03 15:50:02.869 +02:00 [DBG] Connection id "0HN14NBVLCH23" stopped.
2024-02-03 15:50:02.869 +02:00 [DBG] Connection id "0HN14NBVLCH23" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:50:08.193 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:50:08.193 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:50:08.193 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:50:08.193 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:50:08.194 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.5595ms
2024-02-03 15:50:08.197 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 487
2024-02-03 15:50:08.197 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:50:08.197 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:50:08.197 +02:00 [DBG] POST requests are not supported
2024-02-03 15:50:08.197 +02:00 [DBG] POST requests are not supported
2024-02-03 15:50:08.198 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:50:08.198 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:50:08.198 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:50:08.198 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:50:08.198 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:50:08.198 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:50:08.198 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:50:08.198 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:50:08.198 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:50:08.198 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:50:08.199 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:50:08.199 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:50:08.199 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:50:08.199 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:50:08.199 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:50:08.199 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:50:08.199 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000A9": started reading request body.
2024-02-03 15:50:08.199 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000A9": done reading request body.
2024-02-03 15:50:08.201 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'id', line 1, position 10.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 15:50:08.202 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:50:08.202 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:50:08.202 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:50:08.202 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:50:08.202 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 15:50:08.202 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 15:50:08.203 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:50:08.203 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:50:08.203 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 15:50:08.203 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 15:50:08.203 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 15:50:08.203 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 4.8971ms
2024-02-03 15:50:08.203 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:50:08.204 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 5.8635 ms
2024-02-03 15:50:08.204 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 487 - 400 350 application/problem+json;+charset=utf-8 7.2934ms
2024-02-03 15:51:56.299 +02:00 [DBG] Connection id "0HN14NBVLCH24" accepted.
2024-02-03 15:51:56.299 +02:00 [DBG] Connection id "0HN14NBVLCH24" started.
2024-02-03 15:51:56.300 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:51:56.300 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:51:56.300 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:51:56.300 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:51:56.300 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:51:56.300 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:51:56.300 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:51:56.300 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:51:56.301 +02:00 [DBG] New connection -X74Phr8xRnffG3iH0GJ6g created.
2024-02-03 15:51:56.301 +02:00 [DBG] Establishing new connection.
2024-02-03 15:51:56.301 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:51:56.301 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:52:38.972 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:52:38.972 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:52:38.972 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:52:38.973 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:52:38.975 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 3.0786ms
2024-02-03 15:52:38.983 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:52:38.985 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:52:38.985 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:52:38.985 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:52:38.986 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:52:38.986 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:52:38.986 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:52:38.986 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:52:38.986 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:52:38.986 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:52:38.986 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:52:38.986 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:52:38.986 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:52:38.986 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:52:38.986 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:52:38.986 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:52:38.986 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:52:38.986 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:52:38.986 +02:00 [INF] GetAllDevices
2024-02-03 15:52:38.987 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:52:38.987 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:52:38.987 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:52:38.987 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:52:38.987 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:52:38.987 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:52:38.993 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:52:38.995 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:52:38.995 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:52:38.995 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:52:38.995 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:52:38.995 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:52:38.995 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:52:38.995 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:52:38.995 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:52:38.995 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:52:38.995 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:52:38.995 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:52:38.995 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 15:52:38.995 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:52:38.995 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:52:38.995 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:52:38.996 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:52:38.996 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:52:38.996 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:52:38.996 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:52:38.996 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:52:38.996 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 9.7525ms
2024-02-03 15:52:38.996 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:52:38.996 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 10.4104 ms
2024-02-03 15:52:38.996 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 13.5685ms
2024-02-03 15:52:53.084 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:52:53.084 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:52:53.085 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:52:53.086 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:52:53.087 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:52:53.087 +02:00 [DBG] Socket closed.
2024-02-03 15:52:53.087 +02:00 [DBG] Removing connection -X74Phr8xRnffG3iH0GJ6g from the list of connections.
2024-02-03 15:52:53.087 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:52:53.088 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 56787.4662 ms
2024-02-03 15:52:53.088 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 56788.2385ms
2024-02-03 15:52:53.088 +02:00 [DBG] Connection id "0HN14NBVLCH24" disconnecting.
2024-02-03 15:52:53.088 +02:00 [DBG] Connection id "0HN14NBVLCH24" stopped.
2024-02-03 15:52:53.088 +02:00 [DBG] Connection id "0HN14NBVLCH24" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:53:45.426 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 15:53:45.426 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:53:45.427 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:53:45.427 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:53:45.427 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 1.0677ms
2024-02-03 15:53:45.437 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 487
2024-02-03 15:53:45.437 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:53:45.438 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:53:45.438 +02:00 [DBG] POST requests are not supported
2024-02-03 15:53:45.438 +02:00 [DBG] POST requests are not supported
2024-02-03 15:53:45.438 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:53:45.438 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 15:53:45.438 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:53:45.438 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:53:45.438 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 15:53:45.438 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:53:45.438 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:53:45.438 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:53:45.438 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:53:45.438 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:53:45.438 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:53:45.438 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 15:53:45.439 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:53:45.439 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 15:53:45.439 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 15:53:45.439 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 15:53:45.439 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000B1": started reading request body.
2024-02-03 15:53:45.439 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000B1": done reading request body.
2024-02-03 15:53:45.440 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'id', line 1, position 10.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 15:53:45.440 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:53:45.440 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:53:45.440 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 15:53:45.441 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 15:53:45.441 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 15:53:45.441 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 15:53:45.441 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:53:45.441 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:53:45.441 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 15:53:45.441 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 15:53:45.441 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 15:53:45.442 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 3.4222ms
2024-02-03 15:53:45.442 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 15:53:45.442 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 4.3125 ms
2024-02-03 15:53:45.442 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 487 - 400 350 application/problem+json;+charset=utf-8 5.2327ms
2024-02-03 15:59:02.400 +02:00 [DBG] Connection id "0HN14NBVLCH25" accepted.
2024-02-03 15:59:02.400 +02:00 [DBG] Connection id "0HN14NBVLCH25" started.
2024-02-03 15:59:02.401 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:59:02.401 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:59:02.401 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:59:02.401 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:59:02.401 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:59:02.401 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:59:02.401 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:59:02.401 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:59:02.401 +02:00 [DBG] New connection kg1LUSatFmUoqUuhgilozw created.
2024-02-03 15:59:02.401 +02:00 [DBG] Establishing new connection.
2024-02-03 15:59:02.401 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:59:02.401 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 15:59:02.508 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 15:59:02.508 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:59:02.509 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:59:02.509 +02:00 [DBG] The request is a preflight request.
2024-02-03 15:59:02.510 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 2.3496ms
2024-02-03 15:59:02.529 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 15:59:02.536 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:59:02.536 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:59:02.536 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:59:02.536 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 15:59:02.537 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 15:59:02.537 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:59:02.537 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 15:59:02.537 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:59:02.537 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:59:02.537 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 15:59:02.537 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 15:59:02.537 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 15:59:02.537 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 15:59:02.537 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 15:59:02.537 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 15:59:02.537 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:59:02.537 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 15:59:02.537 +02:00 [INF] GetAllDevices
2024-02-03 15:59:02.538 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 15:59:02.538 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:59:02.538 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 15:59:02.538 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:59:02.540 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 15:59:02.540 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 15:59:02.541 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 15:59:02.546 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 15:59:02.549 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 15:59:02.552 +02:00 [DBG] Socket closed.
2024-02-03 15:59:02.553 +02:00 [DBG] Removing connection kg1LUSatFmUoqUuhgilozw from the list of connections.
2024-02-03 15:59:02.554 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 15:59:02.554 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 153.3420 ms
2024-02-03 15:59:02.558 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 153.9227ms
2024-02-03 15:59:02.560 +02:00 [DBG] Connection id "0HN14NBVLCH25" disconnecting.
2024-02-03 15:59:02.560 +02:00 [DBG] Connection id "0HN14NBVLCH25" stopped.
2024-02-03 15:59:02.561 +02:00 [DBG] Connection id "0HN14NBVLCH25" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 15:59:02.571 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:59:02.571 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:59:02.586 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 15:59:02.588 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:59:02.588 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:59:02.588 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:59:02.588 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:59:02.588 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:59:02.589 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:59:02.589 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:59:02.589 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:59:02.589 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:59:02.589 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 15:59:02.589 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:59:02.589 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 15:59:02.589 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 15:59:02.589 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 15:59:02.589 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 15:59:02.589 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 15:59:02.589 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 15:59:02.589 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 15:59:02.589 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 15:59:02.589 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 15:59:02.590 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 52.8915ms
2024-02-03 15:59:02.590 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 15:59:02.590 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 53.6923 ms
2024-02-03 15:59:02.590 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 61.4852ms
2024-02-03 15:59:09.126 +02:00 [DBG] Connection id "0HN14NBVLCH26" accepted.
2024-02-03 15:59:09.126 +02:00 [DBG] Connection id "0HN14NBVLCH26" started.
2024-02-03 15:59:09.127 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 15:59:09.127 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 15:59:09.127 +02:00 [INF] CORS policy execution successful.
2024-02-03 15:59:09.127 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 15:59:09.127 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 15:59:09.127 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 15:59:09.127 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 15:59:09.128 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 15:59:09.128 +02:00 [DBG] New connection TH0S0gTtKEdjHP1v-l-tkw created.
2024-02-03 15:59:09.128 +02:00 [DBG] Establishing new connection.
2024-02-03 15:59:09.129 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 15:59:09.129 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:00:29.188 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:00:29.188 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:00:29.189 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:00:29.190 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:00:29.190 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 2.2851ms
2024-02-03 16:00:29.209 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:00:29.209 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:00:29.209 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:00:29.209 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:00:29.209 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:00:29.209 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:00:29.209 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:00:29.209 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:00:29.209 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:00:29.209 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:00:29.209 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:00:29.210 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:00:29.210 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:00:29.210 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:00:29.210 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:00:29.210 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:00:29.210 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:00:29.210 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:00:29.210 +02:00 [INF] GetAllDevices
2024-02-03 16:00:29.211 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:00:29.211 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:00:29.211 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:00:29.211 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:00:29.211 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:00:29.211 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:00:29.223 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:00:29.225 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:00:29.226 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:00:29.226 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:00:29.226 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:00:29.226 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:00:29.226 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:00:29.226 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:00:29.226 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:00:29.227 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:00:29.227 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:00:29.227 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:00:29.227 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-02-03 16:00:29.227 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:00:29.227 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:00:29.227 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:00:29.227 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:00:29.227 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:00:29.227 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:00:29.227 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:00:29.227 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:00:29.228 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 18.203ms
2024-02-03 16:00:29.228 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:00:29.229 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 19.7668 ms
2024-02-03 16:00:29.229 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 21.2004ms
2024-02-03 16:00:29.388 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:00:29.388 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:00:29.425 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:00:29.426 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:00:29.426 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:00:29.427 +02:00 [DBG] Socket closed.
2024-02-03 16:00:29.427 +02:00 [DBG] Removing connection TH0S0gTtKEdjHP1v-l-tkw from the list of connections.
2024-02-03 16:00:29.427 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:00:29.427 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 80299.4015 ms
2024-02-03 16:00:29.427 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 80300.4946ms
2024-02-03 16:00:29.427 +02:00 [DBG] Connection id "0HN14NBVLCH26" disconnecting.
2024-02-03 16:00:29.427 +02:00 [DBG] Connection id "0HN14NBVLCH26" stopped.
2024-02-03 16:00:29.427 +02:00 [DBG] Connection id "0HN14NBVLCH26" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:02:36.476 +02:00 [DBG] Connection id "0HN14NBVLCH27" accepted.
2024-02-03 16:02:36.476 +02:00 [DBG] Connection id "0HN14NBVLCH27" started.
2024-02-03 16:02:36.477 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:02:36.477 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:02:36.477 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:02:36.477 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:02:36.477 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:02:36.477 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:02:36.477 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:02:36.477 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:02:36.477 +02:00 [DBG] New connection XwmNZhDUsjBqqbSBiM9EOQ created.
2024-02-03 16:02:36.477 +02:00 [DBG] Establishing new connection.
2024-02-03 16:02:36.477 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:02:36.478 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:02:36.568 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:02:36.568 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:02:36.569 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:02:36.569 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:02:36.569 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.4712ms
2024-02-03 16:02:36.580 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:02:36.580 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:02:36.580 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:02:36.580 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:02:36.580 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:02:36.581 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:02:36.581 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:02:36.581 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:02:36.581 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:02:36.581 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:02:36.581 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:02:36.581 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:02:36.581 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:02:36.581 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:02:36.581 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:02:36.581 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:02:36.581 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:02:36.581 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:02:36.581 +02:00 [INF] GetAllDevices
2024-02-03 16:02:36.582 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:02:36.582 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:02:36.582 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:02:36.582 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:02:36.582 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:02:36.582 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:02:36.604 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:02:36.620 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:02:36.621 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:02:36.621 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:02:36.621 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:02:36.621 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:02:36.621 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:02:36.621 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:02:36.621 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:02:36.621 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:02:36.621 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:02:36.621 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:02:36.621 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 17ms reading results.
2024-02-03 16:02:36.621 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:02:36.622 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:02:36.622 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:02:36.622 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:02:36.622 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:02:36.622 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:02:36.622 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:02:36.622 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:02:36.622 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 41.1797ms
2024-02-03 16:02:36.622 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:02:36.622 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 41.8723 ms
2024-02-03 16:02:36.623 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 42.8850ms
2024-02-03 16:02:36.654 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:02:36.654 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:02:36.690 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:02:36.691 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:02:36.691 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:02:36.692 +02:00 [DBG] Socket closed.
2024-02-03 16:02:36.692 +02:00 [DBG] Removing connection XwmNZhDUsjBqqbSBiM9EOQ from the list of connections.
2024-02-03 16:02:36.692 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:02:36.692 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 215.3104 ms
2024-02-03 16:02:36.692 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 215.7509ms
2024-02-03 16:02:36.692 +02:00 [DBG] Connection id "0HN14NBVLCH27" disconnecting.
2024-02-03 16:02:36.692 +02:00 [DBG] Connection id "0HN14NBVLCH27" stopped.
2024-02-03 16:02:36.694 +02:00 [DBG] Connection id "0HN14NBVLCH27" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:02:48.643 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:02:48.643 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:02:48.643 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:02:48.643 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:02:48.643 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.8702ms
2024-02-03 16:02:48.648 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 71
2024-02-03 16:02:48.648 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:02:48.648 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:02:48.648 +02:00 [DBG] POST requests are not supported
2024-02-03 16:02:48.648 +02:00 [DBG] POST requests are not supported
2024-02-03 16:02:48.648 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:02:48.648 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:02:48.648 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:02:48.648 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:02:48.648 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:02:48.648 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:02:48.648 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:02:48.648 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:02:48.648 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:02:48.649 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:02:48.649 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:02:48.649 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:02:48.649 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:02:48.649 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:02:48.649 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:02:48.649 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:02:48.649 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000C1": started reading request body.
2024-02-03 16:02:48.649 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000C1": done reading request body.
2024-02-03 16:02:48.650 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'id', line 1, position 10.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 16:02:48.651 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:02:48.651 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:02:48.651 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:02:48.651 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:02:48.651 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 16:02:48.651 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 16:02:48.651 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:02:48.651 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:02:48.651 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 16:02:48.651 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 16:02:48.652 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 16:02:48.652 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 3.3684ms
2024-02-03 16:02:48.652 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:02:48.652 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 4.0524 ms
2024-02-03 16:02:48.653 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 71 - 400 350 application/problem+json;+charset=utf-8 4.7780ms
2024-02-03 16:03:09.301 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:03:09.301 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:03:09.301 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:03:09.301 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:03:09.301 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.3797ms
2024-02-03 16:03:09.309 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 71
2024-02-03 16:03:09.309 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:03:09.309 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:03:09.309 +02:00 [DBG] POST requests are not supported
2024-02-03 16:03:09.309 +02:00 [DBG] POST requests are not supported
2024-02-03 16:03:09.310 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:03:09.310 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:03:09.310 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:03:09.310 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:03:09.310 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:03:09.310 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:03:09.310 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:03:09.310 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:03:09.310 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:03:09.310 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:03:09.310 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:03:09.310 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:03:09.310 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:03:09.310 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:03:09.311 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:03:09.311 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:03:09.311 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000C5": started reading request body.
2024-02-03 16:03:09.311 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000C5": done reading request body.
2024-02-03 16:03:09.312 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'id', line 1, position 10.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 16:03:09.312 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:03:09.312 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:03:09.312 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:03:09.312 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:03:09.312 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 16:03:09.313 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 16:03:09.313 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:03:09.313 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:03:09.313 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 16:03:09.313 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 16:03:09.313 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 16:03:09.313 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 2.9893ms
2024-02-03 16:03:09.313 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:03:09.313 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 3.7519 ms
2024-02-03 16:03:09.313 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 71 - 400 350 application/problem+json;+charset=utf-8 4.6817ms
2024-02-03 16:03:57.467 +02:00 [DBG] Connection id "0HN14NBVLCH28" accepted.
2024-02-03 16:03:57.468 +02:00 [DBG] Connection id "0HN14NBVLCH28" started.
2024-02-03 16:03:57.468 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:03:57.468 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:03:57.468 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:03:57.468 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:03:57.468 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:03:57.468 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:03:57.468 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:03:57.468 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:03:57.469 +02:00 [DBG] New connection R2fRqkHdAy5zyHc2MsOzMQ created.
2024-02-03 16:03:57.469 +02:00 [DBG] Establishing new connection.
2024-02-03 16:03:57.469 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:03:57.469 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:03:57.578 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:03:57.578 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:03:57.578 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:03:57.578 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:03:57.578 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.7772ms
2024-02-03 16:03:57.581 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:03:57.581 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:03:57.581 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:03:57.582 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:03:57.582 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:03:57.582 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:03:57.582 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:03:57.582 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:03:57.582 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:03:57.582 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:03:57.582 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:03:57.582 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:03:57.582 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:03:57.582 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:03:57.582 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:03:57.582 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:03:57.582 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:03:57.582 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:03:57.582 +02:00 [INF] GetAllDevices
2024-02-03 16:03:57.582 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:03:57.583 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:03:57.583 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:03:57.583 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:03:57.583 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:03:57.583 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:03:57.590 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:03:57.591 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:03:57.591 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:03:57.591 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:03:57.592 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:03:57.592 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:03:57.592 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:03:57.592 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:03:57.592 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:03:57.592 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:03:57.592 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:03:57.592 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:03:57.592 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 16:03:57.592 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:03:57.592 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:03:57.593 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:03:57.593 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:03:57.593 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:03:57.593 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:03:57.593 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:03:57.593 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:03:57.593 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 11.012ms
2024-02-03 16:03:57.593 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:03:57.593 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 11.6616 ms
2024-02-03 16:03:57.594 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 12.3536ms
2024-02-03 16:03:57.674 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:03:57.674 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:03:57.676 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:03:57.676 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:03:57.677 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:03:57.677 +02:00 [DBG] Socket closed.
2024-02-03 16:03:57.678 +02:00 [DBG] Removing connection R2fRqkHdAy5zyHc2MsOzMQ from the list of connections.
2024-02-03 16:03:57.678 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:03:57.678 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 209.4172 ms
2024-02-03 16:03:57.678 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 209.9328ms
2024-02-03 16:03:57.678 +02:00 [DBG] Connection id "0HN14NBVLCH28" disconnecting.
2024-02-03 16:03:57.678 +02:00 [DBG] Connection id "0HN14NBVLCH28" stopped.
2024-02-03 16:03:57.678 +02:00 [DBG] Connection id "0HN14NBVLCH28" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:04:03.365 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:04:03.365 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:04:03.365 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:04:03.365 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:04:03.366 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.6390ms
2024-02-03 16:04:03.368 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 487
2024-02-03 16:04:03.368 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:04:03.368 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:04:03.368 +02:00 [DBG] POST requests are not supported
2024-02-03 16:04:03.368 +02:00 [DBG] POST requests are not supported
2024-02-03 16:04:03.368 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:04:03.368 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:04:03.368 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:04:03.368 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:04:03.369 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:04:03.369 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:04:03.369 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:04:03.369 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:04:03.369 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:04:03.369 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:04:03.369 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:04:03.369 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:04:03.369 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:04:03.369 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:04:03.369 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:04:03.369 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:04:03.369 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000CD": started reading request body.
2024-02-03 16:04:03.369 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000CD": done reading request body.
2024-02-03 16:04:03.370 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'id', line 1, position 10.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 16:04:03.370 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:04:03.370 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:04:03.371 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:04:03.371 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:04:03.371 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 16:04:03.371 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 16:04:03.371 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:04:03.371 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:04:03.371 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 16:04:03.371 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 16:04:03.371 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 16:04:03.371 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 2.3187ms
2024-02-03 16:04:03.371 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:04:03.371 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 2.9393 ms
2024-02-03 16:04:03.371 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 487 - 400 350 application/problem+json;+charset=utf-8 3.4311ms
2024-02-03 16:04:19.991 +02:00 [DBG] Connection id "0HN14NBVLCH29" accepted.
2024-02-03 16:04:19.991 +02:00 [DBG] Connection id "0HN14NBVLCH29" started.
2024-02-03 16:04:20.000 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:04:20.001 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:04:20.001 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:04:20.001 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:04:20.001 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:04:20.001 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:04:20.001 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:04:20.001 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:04:20.001 +02:00 [DBG] New connection UFneYgW2I6eDN-1zZnM92A created.
2024-02-03 16:04:20.001 +02:00 [DBG] Establishing new connection.
2024-02-03 16:04:20.002 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:04:20.002 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:04:20.192 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:04:20.192 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:04:20.192 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:04:20.192 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:04:20.193 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:04:20.195 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:04:20.195 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 3.5866ms
2024-02-03 16:04:20.216 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:04:20.217 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:04:20.217 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:04:20.217 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:04:20.218 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:04:20.218 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:04:20.219 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:04:20.219 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:04:20.219 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:04:20.219 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:04:20.219 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:04:20.219 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:04:20.219 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:04:20.219 +02:00 [DBG] Socket closed.
2024-02-03 16:04:20.219 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:04:20.219 +02:00 [DBG] Removing connection UFneYgW2I6eDN-1zZnM92A from the list of connections.
2024-02-03 16:04:20.219 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:04:20.219 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:04:20.219 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:04:20.219 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 218.6652 ms
2024-02-03 16:04:20.219 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:04:20.220 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:04:20.220 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:04:20.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 219.2448ms
2024-02-03 16:04:20.220 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:04:20.220 +02:00 [DBG] Connection id "0HN14NBVLCH29" disconnecting.
2024-02-03 16:04:20.220 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:04:20.220 +02:00 [DBG] Connection id "0HN14NBVLCH29" stopped.
2024-02-03 16:04:20.220 +02:00 [INF] GetAllDevices
2024-02-03 16:04:20.220 +02:00 [DBG] Connection id "0HN14NBVLCH29" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:04:20.220 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:04:20.221 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:04:20.221 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:04:20.221 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:04:20.221 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:04:20.221 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:04:20.228 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:04:20.230 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:04:20.230 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:04:20.230 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:04:20.230 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:04:20.230 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:04:20.231 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:04:20.231 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:04:20.231 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:04:20.231 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:04:20.231 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:04:20.231 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:04:20.231 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 16:04:20.231 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:04:20.231 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:04:20.231 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:04:20.231 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:04:20.231 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:04:20.231 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:04:20.231 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:04:20.231 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:04:20.232 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 11.9355ms
2024-02-03 16:04:20.232 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:04:20.232 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 13.0495 ms
2024-02-03 16:04:20.232 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 15.4133ms
2024-02-03 16:04:31.541 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:04:31.542 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:04:31.542 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:04:31.542 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:04:31.543 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 1.4137ms
2024-02-03 16:04:31.546 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 82
2024-02-03 16:04:31.546 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:04:31.546 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:04:31.546 +02:00 [DBG] POST requests are not supported
2024-02-03 16:04:31.546 +02:00 [DBG] POST requests are not supported
2024-02-03 16:04:31.546 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:04:31.546 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:04:31.546 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:04:31.546 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:04:31.546 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:04:31.547 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:04:31.547 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:04:31.547 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:04:31.547 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:04:31.547 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:04:31.547 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:04:31.547 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:04:31.547 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:04:31.547 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:04:31.547 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:04:31.547 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:04:31.547 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000D5": started reading request body.
2024-02-03 16:04:31.547 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000D5": done reading request body.
2024-02-03 16:04:31.548 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'id', line 1, position 10.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 16:04:31.551 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value 4 to type 'BusinessLogicLayer.DTOs.DeviceDto'. Path 'device', line 1, position 21.
 ---> System.ArgumentException: Could not cast or convert from System.Int64 to BusinessLogicLayer.DTOs.DeviceDto.
   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType)
   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 16:04:31.551 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:04:31.551 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:04:31.551 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:04:31.551 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:04:31.551 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 16:04:31.551 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 16:04:31.551 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:04:31.551 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:04:31.552 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 16:04:31.552 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 16:04:31.552 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 16:04:31.552 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 4.9376ms
2024-02-03 16:04:31.552 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:04:31.552 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 5.8874 ms
2024-02-03 16:04:31.552 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 82 - 400 469 application/problem+json;+charset=utf-8 6.5913ms
2024-02-03 16:05:55.883 +02:00 [DBG] Connection id "0HN14NBVLCH2A" accepted.
2024-02-03 16:05:55.885 +02:00 [DBG] Connection id "0HN14NBVLCH2A" started.
2024-02-03 16:05:55.885 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:05:55.885 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:05:55.885 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:05:55.886 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:05:55.886 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:05:55.886 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:05:55.886 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:05:55.886 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:05:55.886 +02:00 [DBG] New connection 3u3D9lCsNA5_G4ScEP63Bg created.
2024-02-03 16:05:55.886 +02:00 [DBG] Establishing new connection.
2024-02-03 16:05:55.887 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:05:55.888 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:05:55.969 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:05:55.969 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:05:55.969 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:05:55.969 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:05:55.970 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.5661ms
2024-02-03 16:05:55.972 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:05:55.972 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:05:55.972 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:05:55.972 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:05:55.972 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:05:55.972 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:05:55.973 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:05:55.973 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:05:55.973 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:05:55.973 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:05:55.973 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:05:55.973 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:05:55.973 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:05:55.973 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:05:55.973 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:05:55.973 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:05:55.973 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:05:55.973 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:05:55.973 +02:00 [INF] GetAllDevices
2024-02-03 16:05:55.973 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:05:55.973 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:05:55.973 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:05:55.973 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:05:55.974 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:05:55.974 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:05:55.980 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:05:55.981 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:05:55.981 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:05:55.981 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:05:55.981 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:05:55.981 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:05:55.982 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:05:55.982 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:05:55.982 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:05:55.982 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:05:55.982 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:05:55.982 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:05:55.982 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 16:05:55.982 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:05:55.982 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:05:55.983 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:05:55.983 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:05:55.983 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:05:55.983 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:05:55.983 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:05:55.983 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:05:55.983 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 10.2647ms
2024-02-03 16:05:55.983 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:05:55.983 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 10.8269 ms
2024-02-03 16:05:55.984 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 11.4676ms
2024-02-03 16:05:56.042 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:05:56.043 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:05:56.045 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:05:56.046 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:05:56.047 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:05:56.110 +02:00 [DBG] Socket closed.
2024-02-03 16:05:56.110 +02:00 [DBG] Removing connection 3u3D9lCsNA5_G4ScEP63Bg from the list of connections.
2024-02-03 16:05:56.110 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:05:56.110 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 224.1323 ms
2024-02-03 16:05:56.115 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 229.8677ms
2024-02-03 16:05:56.116 +02:00 [DBG] Connection id "0HN14NBVLCH2A" disconnecting.
2024-02-03 16:05:56.116 +02:00 [DBG] Connection id "0HN14NBVLCH2A" stopped.
2024-02-03 16:05:56.116 +02:00 [DBG] Connection id "0HN14NBVLCH2A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:06:01.391 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:06:01.391 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:06:01.391 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:06:01.391 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:06:01.391 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.5476ms
2024-02-03 16:06:01.395 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 79
2024-02-03 16:06:01.395 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:06:01.395 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:06:01.395 +02:00 [DBG] POST requests are not supported
2024-02-03 16:06:01.395 +02:00 [DBG] POST requests are not supported
2024-02-03 16:06:01.395 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:06:01.395 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:06:01.395 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:06:01.395 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:06:01.395 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:06:01.395 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:06:01.395 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:06:01.396 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:06:01.396 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:06:01.396 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:06:01.396 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:06:01.396 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:06:01.396 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:06:01.396 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:06:01.396 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:06:01.396 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:06:01.396 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000DD": started reading request body.
2024-02-03 16:06:01.396 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000DD": done reading request body.
2024-02-03 16:06:01.397 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value 4 to type 'BusinessLogicLayer.DTOs.DeviceDto'. Path 'device', line 1, position 18.
 ---> System.ArgumentException: Could not cast or convert from System.Int64 to BusinessLogicLayer.DTOs.DeviceDto.
   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType)
   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 16:06:01.398 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:06:01.398 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:06:01.398 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:06:01.398 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:06:01.398 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 16:06:01.398 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 16:06:01.398 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:06:01.398 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:06:01.398 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 16:06:01.398 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 16:06:01.398 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 16:06:01.399 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 3.0166ms
2024-02-03 16:06:01.399 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:06:01.399 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 3.6354 ms
2024-02-03 16:06:01.399 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 79 - 400 374 application/problem+json;+charset=utf-8 4.5718ms
2024-02-03 16:08:24.241 +02:00 [DBG] Connection id "0HN14NBVLCH2B" accepted.
2024-02-03 16:08:24.241 +02:00 [DBG] Connection id "0HN14NBVLCH2B" started.
2024-02-03 16:08:24.242 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:08:24.242 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:08:24.242 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:08:24.242 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:08:24.242 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:08:24.242 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:08:24.242 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:08:24.242 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:08:24.242 +02:00 [DBG] New connection jfWpqdmNj8d45-COm17FtA created.
2024-02-03 16:08:24.242 +02:00 [DBG] Establishing new connection.
2024-02-03 16:08:24.243 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:08:24.243 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:08:24.408 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:08:24.408 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:08:24.408 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:08:24.408 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:08:24.408 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.8519ms
2024-02-03 16:08:24.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:08:24.411 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:08:24.411 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:08:24.411 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:08:24.412 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:08:24.412 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:08:24.412 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:08:24.412 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:08:24.412 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:08:24.412 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:08:24.412 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:08:24.412 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:08:24.412 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:08:24.412 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:08:24.412 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:08:24.412 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:08:24.412 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:08:24.412 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:08:24.412 +02:00 [INF] GetAllDevices
2024-02-03 16:08:24.413 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:08:24.413 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:08:24.413 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:08:24.413 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:08:24.413 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:08:24.413 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:08:24.425 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:08:24.441 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:08:24.441 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:08:24.441 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:08:24.442 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:08:24.442 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:08:24.442 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:08:24.442 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:08:24.442 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:08:24.442 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:08:24.442 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:08:24.442 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:08:24.442 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 17ms reading results.
2024-02-03 16:08:24.442 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:08:24.442 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:08:24.443 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:08:24.443 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:08:24.443 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:08:24.443 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:08:24.443 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:08:24.443 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:08:24.443 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 30.9888ms
2024-02-03 16:08:24.443 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:08:24.443 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 31.8020 ms
2024-02-03 16:08:24.444 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 32.6217ms
2024-02-03 16:08:24.526 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:08:24.527 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:08:24.528 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:08:24.528 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:08:24.528 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:08:24.529 +02:00 [DBG] Socket closed.
2024-02-03 16:08:24.529 +02:00 [DBG] Removing connection jfWpqdmNj8d45-COm17FtA from the list of connections.
2024-02-03 16:08:24.529 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:08:24.529 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 286.7420 ms
2024-02-03 16:08:24.529 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 287.3728ms
2024-02-03 16:08:24.529 +02:00 [DBG] Connection id "0HN14NBVLCH2B" disconnecting.
2024-02-03 16:08:24.529 +02:00 [DBG] Connection id "0HN14NBVLCH2B" stopped.
2024-02-03 16:08:24.529 +02:00 [DBG] Connection id "0HN14NBVLCH2B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:08:43.785 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:08:43.785 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:08:43.785 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:08:43.786 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:08:43.786 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.7555ms
2024-02-03 16:08:43.795 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 79
2024-02-03 16:08:43.796 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:08:43.796 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:08:43.796 +02:00 [DBG] POST requests are not supported
2024-02-03 16:08:43.796 +02:00 [DBG] POST requests are not supported
2024-02-03 16:08:43.796 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:08:43.796 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:08:43.796 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:08:43.796 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:08:43.796 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:08:43.796 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:08:43.796 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:08:43.796 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:08:43.796 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:08:43.796 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:08:43.796 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:08:43.797 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:08:43.797 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:08:43.797 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:08:43.797 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:08:43.797 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:08:43.797 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000E5": started reading request body.
2024-02-03 16:08:43.797 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000E5": done reading request body.
2024-02-03 16:08:43.798 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value 4 to type 'BusinessLogicLayer.DTOs.DeviceDto'. Path 'device', line 1, position 18.
 ---> System.ArgumentException: Could not cast or convert from System.Int64 to BusinessLogicLayer.DTOs.DeviceDto.
   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType)
   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 16:08:43.798 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:08:43.798 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:08:43.798 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:08:43.798 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:08:43.798 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 16:08:43.798 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 16:08:43.799 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:08:43.799 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:08:43.799 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 16:08:43.799 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 16:08:43.799 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 16:08:43.799 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 2.6328ms
2024-02-03 16:08:43.799 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:08:43.799 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 3.3201 ms
2024-02-03 16:08:43.800 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 79 - 400 374 application/problem+json;+charset=utf-8 4.2338ms
2024-02-03 16:10:15.303 +02:00 [DBG] Connection id "0HN14NBVLCH2C" accepted.
2024-02-03 16:10:15.303 +02:00 [DBG] Connection id "0HN14NBVLCH2C" started.
2024-02-03 16:10:15.303 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:10:15.304 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:10:15.304 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:10:15.304 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:10:15.304 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:10:15.304 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:10:15.304 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:10:15.304 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:10:15.304 +02:00 [DBG] New connection E6mhCaWv29lO9mAYRmgNdQ created.
2024-02-03 16:10:15.304 +02:00 [DBG] Establishing new connection.
2024-02-03 16:10:15.304 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:10:15.304 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:10:15.398 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:10:15.398 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:10:15.398 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:10:15.398 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:10:15.398 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.6644ms
2024-02-03 16:10:15.408 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:10:15.408 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:10:15.408 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:10:15.408 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:10:15.408 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:10:15.408 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:10:15.408 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:10:15.408 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:10:15.408 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:10:15.408 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:10:15.408 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:10:15.408 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:10:15.408 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:10:15.408 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:10:15.408 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:10:15.409 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:10:15.409 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:10:15.409 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:10:15.409 +02:00 [INF] GetAllDevices
2024-02-03 16:10:15.409 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:10:15.409 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:10:15.409 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:10:15.409 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:10:15.409 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:10:15.410 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:10:15.421 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:10:15.422 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:15.423 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:15.423 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:15.423 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:15.423 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:15.423 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:15.423 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:15.423 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:15.423 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:15.424 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:15.424 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:10:15.424 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 16:10:15.424 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:10:15.424 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:10:15.424 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:10:15.424 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:10:15.424 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:10:15.424 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:10:15.424 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:10:15.424 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:10:15.425 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 16.1723ms
2024-02-03 16:10:15.425 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:10:15.425 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 16.8597 ms
2024-02-03 16:10:15.425 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 17.5148ms
2024-02-03 16:10:15.512 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:10:15.521 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:10:15.528 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:10:15.529 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:10:15.529 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:10:15.530 +02:00 [DBG] Socket closed.
2024-02-03 16:10:15.530 +02:00 [DBG] Removing connection E6mhCaWv29lO9mAYRmgNdQ from the list of connections.
2024-02-03 16:10:15.530 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:10:15.530 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 226.2162 ms
2024-02-03 16:10:15.530 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 226.7723ms
2024-02-03 16:10:15.530 +02:00 [DBG] Connection id "0HN14NBVLCH2C" disconnecting.
2024-02-03 16:10:15.530 +02:00 [DBG] Connection id "0HN14NBVLCH2C" stopped.
2024-02-03 16:10:15.531 +02:00 [DBG] Connection id "0HN14NBVLCH2C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:10:29.436 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:10:29.436 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:10:29.437 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:10:29.437 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:10:29.437 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.7754ms
2024-02-03 16:10:29.440 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 72
2024-02-03 16:10:29.440 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:10:29.440 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:10:29.440 +02:00 [DBG] POST requests are not supported
2024-02-03 16:10:29.440 +02:00 [DBG] POST requests are not supported
2024-02-03 16:10:29.440 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:10:29.440 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:10:29.440 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:10:29.440 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:10:29.440 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:10:29.441 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:10:29.441 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:10:29.441 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:10:29.441 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:10:29.441 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:10:29.441 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:10:29.441 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:10:29.441 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:10:29.441 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:10:29.441 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:10:29.441 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:10:29.441 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000ED": started reading request body.
2024-02-03 16:10:29.441 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000ED": done reading request body.
2024-02-03 16:10:29.442 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value 0 to type 'BusinessLogicLayer.DTOs.DeviceDto'. Path 'device', line 1, position 11.
 ---> System.ArgumentException: Could not cast or convert from System.Int64 to BusinessLogicLayer.DTOs.DeviceDto.
   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType)
   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 16:10:29.443 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:10:29.443 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:10:29.443 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:10:29.443 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:10:29.443 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 16:10:29.443 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 16:10:29.443 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:10:29.443 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:10:29.443 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 16:10:29.443 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 16:10:29.443 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 16:10:29.444 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 3.0019ms
2024-02-03 16:10:29.444 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:10:29.444 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 3.8562 ms
2024-02-03 16:10:29.444 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 72 - 400 374 application/problem+json;+charset=utf-8 4.7720ms
2024-02-03 16:10:50.969 +02:00 [DBG] Connection id "0HN14NBVLCH2D" accepted.
2024-02-03 16:10:50.970 +02:00 [DBG] Connection id "0HN14NBVLCH2D" started.
2024-02-03 16:10:50.971 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:10:50.971 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:10:50.972 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:10:50.973 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:10:50.973 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:10:50.974 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:10:50.974 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:10:50.974 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:10:50.974 +02:00 [DBG] New connection 7Px4z5XrBj8m7oUQSZ5fmQ created.
2024-02-03 16:10:50.975 +02:00 [DBG] Establishing new connection.
2024-02-03 16:10:50.976 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:10:50.976 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:10:51.108 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:10:51.108 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:10:51.108 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:10:51.108 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:10:51.108 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.6527ms
2024-02-03 16:10:51.119 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:10:51.120 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:10:51.120 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:10:51.120 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:10:51.120 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:10:51.120 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:10:51.120 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:10:51.120 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:10:51.120 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:10:51.120 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:10:51.120 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:10:51.120 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:10:51.120 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:10:51.120 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:10:51.120 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:10:51.120 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:10:51.120 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:10:51.120 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:10:51.120 +02:00 [INF] GetAllDevices
2024-02-03 16:10:51.121 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:10:51.121 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:10:51.121 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:10:51.121 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:10:51.121 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:10:51.121 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:10:51.128 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:10:51.130 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:51.130 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:51.130 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:51.131 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:51.131 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:51.131 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:51.132 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:51.132 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:51.132 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:51.132 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:10:51.132 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:10:51.132 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-02-03 16:10:51.132 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:10:51.132 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:10:51.132 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:10:51.132 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:10:51.132 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:10:51.132 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:10:51.132 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:10:51.132 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:10:51.133 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 12.2181ms
2024-02-03 16:10:51.133 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:10:51.133 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 12.8931 ms
2024-02-03 16:10:51.133 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 13.6958ms
2024-02-03 16:10:51.208 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:10:51.208 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:10:51.209 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:10:51.210 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:10:51.210 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:10:51.210 +02:00 [DBG] Socket closed.
2024-02-03 16:10:51.211 +02:00 [DBG] Removing connection 7Px4z5XrBj8m7oUQSZ5fmQ from the list of connections.
2024-02-03 16:10:51.211 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:10:51.211 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 237.0126 ms
2024-02-03 16:10:51.211 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 239.9200ms
2024-02-03 16:10:51.211 +02:00 [DBG] Connection id "0HN14NBVLCH2D" disconnecting.
2024-02-03 16:10:51.211 +02:00 [DBG] Connection id "0HN14NBVLCH2D" stopped.
2024-02-03 16:10:51.211 +02:00 [DBG] Connection id "0HN14NBVLCH2D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:10:59.142 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:10:59.142 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:10:59.142 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:10:59.142 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:10:59.143 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.7822ms
2024-02-03 16:10:59.146 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 75
2024-02-03 16:10:59.146 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:10:59.146 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:10:59.146 +02:00 [DBG] POST requests are not supported
2024-02-03 16:10:59.146 +02:00 [DBG] POST requests are not supported
2024-02-03 16:10:59.146 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:10:59.147 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:10:59.147 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:10:59.147 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:10:59.147 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:10:59.147 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:10:59.147 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:10:59.147 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:10:59.147 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:10:59.147 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:10:59.147 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:10:59.147 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:10:59.147 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:10:59.148 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:10:59.148 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:10:59.148 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:10:59.148 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000F5": started reading request body.
2024-02-03 16:10:59.148 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:000000F5": done reading request body.
2024-02-03 16:10:59.148 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:10:59.148 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:10:59.148 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:10:59.148 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:10:59.148 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 16:10:59.149 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 16:10:59.149 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:10:59.149 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:10:59.149 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 16:10:59.149 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 16:10:59.149 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 16:10:59.149 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 2.0261ms
2024-02-03 16:10:59.149 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:10:59.149 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 2.9707 ms
2024-02-03 16:10:59.150 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 75 - 400 245 application/problem+json;+charset=utf-8 3.8705ms
2024-02-03 16:13:08.220 +02:00 [DBG] Connection id "0HN14NBVLCH2E" accepted.
2024-02-03 16:13:08.221 +02:00 [DBG] Connection id "0HN14NBVLCH2E" started.
2024-02-03 16:13:08.223 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:13:08.223 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:13:08.223 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:13:08.223 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:13:08.223 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:13:08.223 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:13:08.224 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:13:08.224 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:13:08.224 +02:00 [DBG] New connection n7YEeX9WIP5zcO0YlYeekA created.
2024-02-03 16:13:08.224 +02:00 [DBG] Establishing new connection.
2024-02-03 16:13:08.264 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:13:08.282 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:13:08.335 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:13:08.337 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:13:08.337 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:13:08.337 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:13:08.342 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 6.5384ms
2024-02-03 16:13:08.351 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:13:08.352 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:13:08.352 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:13:08.352 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:13:08.352 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:13:08.352 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:13:08.352 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:13:08.352 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:13:08.352 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:13:08.352 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:13:08.352 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:13:08.352 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:13:08.352 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:13:08.352 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:13:08.352 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:13:08.352 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:13:08.353 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:13:08.353 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:13:08.353 +02:00 [INF] GetAllDevices
2024-02-03 16:13:08.353 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:13:08.353 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:13:08.353 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:13:08.353 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:13:08.353 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:13:08.353 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:13:08.361 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:13:08.362 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:13:08.363 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:13:08.363 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:13:08.363 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:13:08.363 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:13:08.363 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:13:08.363 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:13:08.363 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:13:08.363 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:13:08.363 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:13:08.363 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:13:08.363 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 16:13:08.363 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:13:08.363 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:13:08.363 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:13:08.363 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:13:08.363 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:13:08.363 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:13:08.364 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:13:08.364 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:13:08.364 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 11.2845ms
2024-02-03 16:13:08.364 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:13:08.364 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 11.9441 ms
2024-02-03 16:13:08.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 12.7309ms
2024-02-03 16:13:08.413 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:13:08.414 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:13:08.415 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:13:08.416 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:13:08.416 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:13:08.417 +02:00 [DBG] Socket closed.
2024-02-03 16:13:08.417 +02:00 [DBG] Removing connection n7YEeX9WIP5zcO0YlYeekA from the list of connections.
2024-02-03 16:13:08.417 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:13:08.417 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 194.0157 ms
2024-02-03 16:13:08.418 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 194.6945ms
2024-02-03 16:13:08.418 +02:00 [DBG] Connection id "0HN14NBVLCH2E" disconnecting.
2024-02-03 16:13:08.418 +02:00 [DBG] Connection id "0HN14NBVLCH2E" stopped.
2024-02-03 16:13:08.418 +02:00 [DBG] Connection id "0HN14NBVLCH2E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:14:03.991 +02:00 [DBG] Connection id "0HN14NBVLCH2F" accepted.
2024-02-03 16:14:03.991 +02:00 [DBG] Connection id "0HN14NBVLCH2F" started.
2024-02-03 16:14:03.991 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:14:03.991 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:14:03.991 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:14:03.991 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:14:03.991 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:14:03.992 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:14:03.992 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:14:03.992 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:14:03.992 +02:00 [DBG] New connection _byZ7Jui8gWi74jODAvG0w created.
2024-02-03 16:14:03.992 +02:00 [DBG] Establishing new connection.
2024-02-03 16:14:03.992 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:14:03.992 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:14:04.071 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:14:04.071 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:14:04.071 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:14:04.072 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:14:04.073 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 1.9281ms
2024-02-03 16:14:04.083 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:14:04.084 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:14:04.084 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:14:04.084 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:14:04.084 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:14:04.084 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:14:04.084 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:14:04.084 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:14:04.084 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:14:04.084 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:14:04.084 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:14:04.084 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:14:04.084 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:14:04.084 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:14:04.084 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:14:04.084 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:14:04.084 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:14:04.085 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:14:04.085 +02:00 [INF] GetAllDevices
2024-02-03 16:14:04.085 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:14:04.085 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:14:04.085 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:14:04.085 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:14:04.085 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:14:04.085 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:14:04.094 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:14:04.095 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:04.095 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:04.095 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:04.095 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:04.095 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:04.096 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:04.096 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:04.096 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:04.096 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:04.096 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:04.096 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:14:04.096 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 16:14:04.096 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:14:04.096 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:14:04.096 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:14:04.096 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:14:04.097 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:14:04.097 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:14:04.097 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:14:04.097 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:14:04.097 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 12.5365ms
2024-02-03 16:14:04.097 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:14:04.097 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 13.2850 ms
2024-02-03 16:14:04.097 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 16.3581ms
2024-02-03 16:14:04.151 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:14:04.151 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:14:04.152 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:14:04.153 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:14:04.155 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:14:04.155 +02:00 [DBG] Socket closed.
2024-02-03 16:14:04.155 +02:00 [DBG] Removing connection _byZ7Jui8gWi74jODAvG0w from the list of connections.
2024-02-03 16:14:04.155 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:14:04.155 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 163.7721 ms
2024-02-03 16:14:04.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 164.3098ms
2024-02-03 16:14:04.156 +02:00 [DBG] Connection id "0HN14NBVLCH2F" disconnecting.
2024-02-03 16:14:04.156 +02:00 [DBG] Connection id "0HN14NBVLCH2F" stopped.
2024-02-03 16:14:04.156 +02:00 [DBG] Connection id "0HN14NBVLCH2F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:14:12.352 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:14:12.352 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:14:12.352 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:14:12.352 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:14:12.353 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.5627ms
2024-02-03 16:14:12.355 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 477
2024-02-03 16:14:12.355 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:14:12.355 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:14:12.356 +02:00 [DBG] POST requests are not supported
2024-02-03 16:14:12.356 +02:00 [DBG] POST requests are not supported
2024-02-03 16:14:12.356 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:14:12.356 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:14:12.356 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:14:12.356 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:14:12.356 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:14:12.356 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:14:12.356 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:14:12.356 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:14:12.356 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:14:12.356 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:14:12.356 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:14:12.357 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:14:12.357 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:14:12.357 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:14:12.357 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:14:12.357 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:14:12.357 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000101": started reading request body.
2024-02-03 16:14:12.357 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000101": done reading request body.
2024-02-03 16:14:12.358 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:14:12.358 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:14:12.358 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:14:12.358 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:14:12.358 +02:00 [INF] AddDeviceMaintenance for {
  "Id": 0,
  "DeviceId": 0,
  "Device": {
    "DeviceId": 4,
    "Name": "ii",
    "SerialNumber": "22",
    "Description": null,
    "Location": {
      "LocationId": 2,
      "Name": "Cluj",
      "EmailAlertsActive": true,
      "Address": "Str Dorobantilor",
      "City": "Cluj-Napoca",
      "Country": "Romania",
      "IsLocationUsed": false
    },
    "DeviceType": {
      "DeviceTypeId": 10,
      "Name": "uuu"
    },
    "ImageBytes": null
  },
  "ScheduledDate": "2024-02-08T22:00:00Z",
  "Description": ""
}
2024-02-03 16:14:12.359 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Maintenance'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:12.359 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:12.359 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 16:14:12.359 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 16:14:12.359 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 16:14:12.360 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:14:12.360 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:14:12.360 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:14:12.360 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:14:12.360 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:14:12.360 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 16:14:12.380 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 16:14:12.380 +02:00 [DBG] The foreign key property 'Maintenance.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 16:14:12.380 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:14:12.380 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 16:14:12.380 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:14:12.380 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:14:12.380 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:14:12.381 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 16:14:12.381 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:14:12.381 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:14:12.381 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:14:12.381 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:14:12.381 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:14:12.381 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:14:12.381 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 25.0027ms
2024-02-03 16:14:12.381 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:14:12.381 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 200 in 25.7133 ms
2024-02-03 16:14:12.382 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 477 - 200 376 application/json;+charset=utf-8 26.2928ms
2024-02-03 16:14:12.430 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 16:14:12.430 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:14:12.430 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:14:12.430 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:14:12.430 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.4880ms
2024-02-03 16:14:12.433 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 16:14:12.434 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:14:12.434 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:14:12.434 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:14:12.434 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 16:14:12.434 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:14:12.434 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:14:12.434 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:14:12.434 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:14:12.434 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:14:12.434 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:14:12.434 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:14:12.434 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:14:12.434 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:14:12.434 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:14:12.434 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:14:12.434 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:14:12.434 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:14:12.434 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 16:14:12.434 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 16:14:12.434 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 16:14:12.434 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 16:14:12.434 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:14:12.435 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 16:14:12.435 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:14:12.435 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 16:14:12.444 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:14:12.444 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:14:12.444 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:14:12.444 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:14:12.444 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:14:12.444 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 16:14:12.449 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 16:14:12.449 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:14:12.449 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 16:14:12.450 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:14:12.450 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:14:12.450 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:14:12.450 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:14:12.450 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:14:12.450 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:14:12.450 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:14:12.450 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:14:12.450 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 15.8901ms
2024-02-03 16:14:12.450 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:14:12.450 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 16.3736 ms
2024-02-03 16:14:12.450 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 16.8060ms
2024-02-03 16:15:49.452 +02:00 [DBG] Connection id "0HN14NBVLCH2G" accepted.
2024-02-03 16:15:49.485 +02:00 [DBG] Connection id "0HN14NBVLCH2G" started.
2024-02-03 16:15:49.486 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:15:49.487 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:15:49.487 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:15:49.487 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 16:15:49.488 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:15:49.488 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:15:49.488 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:15:49.488 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:15:49.488 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:15:49.488 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:15:49.488 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:15:49.488 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:15:49.488 +02:00 [DBG] New connection HA8UEn24WqQjyv4osgQf1Q created.
2024-02-03 16:15:49.488 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.8393ms
2024-02-03 16:15:49.488 +02:00 [DBG] Establishing new connection.
2024-02-03 16:15:49.489 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:15:49.489 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:15:49.492 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 16:15:49.493 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:15:49.493 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:15:49.493 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:15:49.493 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 16:15:49.493 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:15:49.493 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:15:49.493 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:15:49.493 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:15:49.493 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:15:49.493 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:15:49.493 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:15:49.493 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:15:49.493 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:15:49.493 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:15:49.493 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:15:49.494 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:15:49.494 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:15:49.494 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 16:15:49.494 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 16:15:49.494 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 16:15:49.494 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 16:15:49.494 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 16:15:49.494 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 16:15:49.494 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 16:15:49.494 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 16:15:49.494 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 16:15:49.494 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 16:15:49.494 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 16:15:49.494 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:15:49.494 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 16:15:49.494 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:15:49.495 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 16:15:49.495 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:15:49.495 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 16:15:49.495 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:15:49.495 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 16:15:49.495 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:15:49.495 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 16:15:49.495 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:15:49.495 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 16:15:49.495 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 16:15:49.495 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 16:15:49.495 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 16:15:49.495 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 16:15:49.495 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 16:15:49.495 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 16:15:49.495 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 16:15:49.495 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 16:15:49.495 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 16:15:49.495 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 16:15:49.495 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 16:15:49.496 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:15:49.496 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:15:49.496 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 16:15:49.496 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:15:49.496 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 16:15:49.507 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:15:49.507 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:15:49.507 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:15:49.507 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:15:49.507 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:15:49.507 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 16:15:49.512 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 16:15:49.512 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:15:49.512 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 16:15:49.512 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:15:49.512 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:15:49.512 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:15:49.513 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:15:49.513 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:15:49.513 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:15:49.513 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:15:49.513 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:15:49.514 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 20.0113ms
2024-02-03 16:15:49.514 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:15:49.514 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 21.0597 ms
2024-02-03 16:15:49.514 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 22.0172ms
2024-02-03 16:15:49.727 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:15:49.728 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:15:49.730 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:15:49.731 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:15:49.734 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:15:49.740 +02:00 [DBG] Socket closed.
2024-02-03 16:15:49.740 +02:00 [DBG] Removing connection HA8UEn24WqQjyv4osgQf1Q from the list of connections.
2024-02-03 16:15:49.740 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:15:49.740 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 252.1818 ms
2024-02-03 16:15:49.740 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 253.6827ms
2024-02-03 16:15:49.740 +02:00 [DBG] Connection id "0HN14NBVLCH2G" disconnecting.
2024-02-03 16:15:49.740 +02:00 [DBG] Connection id "0HN14NBVLCH2G" stopped.
2024-02-03 16:15:49.740 +02:00 [DBG] Connection id "0HN14NBVLCH2G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:15:51.644 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:15:51.644 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:15:51.645 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:15:51.645 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:15:51.645 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.7491ms
2024-02-03 16:15:51.648 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:15:51.648 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:15:51.648 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:15:51.648 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:15:51.648 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:15:51.648 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:15:51.649 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:15:51.649 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:15:51.649 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:15:51.649 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:15:51.649 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:15:51.649 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:15:51.649 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:15:51.649 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:15:51.649 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:15:51.649 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:15:51.649 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:15:51.649 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:15:51.649 +02:00 [INF] GetAllDevices
2024-02-03 16:15:51.649 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:15:51.649 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:15:51.649 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:15:51.650 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:15:51.650 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:15:51.650 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:15:51.657 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:15:51.659 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:15:51.659 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:15:51.659 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:15:51.659 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:15:51.659 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:15:51.659 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:15:51.659 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:15:51.659 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:15:51.659 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:15:51.659 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:15:51.660 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:15:51.660 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 16:15:51.660 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:15:51.660 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:15:51.660 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:15:51.660 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:15:51.660 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:15:51.660 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:15:51.660 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:15:51.660 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:15:51.660 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 11.2446ms
2024-02-03 16:15:51.660 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:15:51.660 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 11.7764 ms
2024-02-03 16:15:51.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 12.3312ms
2024-02-03 16:16:20.977 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:16:20.978 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:16:20.978 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:16:20.978 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:16:20.978 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 1.1418ms
2024-02-03 16:16:20.989 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 491
2024-02-03 16:16:20.989 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:16:20.989 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:16:20.990 +02:00 [DBG] POST requests are not supported
2024-02-03 16:16:20.990 +02:00 [DBG] POST requests are not supported
2024-02-03 16:16:20.990 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:16:20.990 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:16:20.990 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:16:20.990 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:16:20.990 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:16:20.990 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:16:20.990 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:16:20.990 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:16:20.990 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:16:20.991 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:16:20.991 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:16:20.991 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:16:20.991 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:16:20.991 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:16:20.991 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:16:20.991 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:16:20.991 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000111": started reading request body.
2024-02-03 16:16:20.991 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000111": done reading request body.
2024-02-03 16:16:20.992 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'id', line 1, position 10.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 16:16:20.993 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:16:20.993 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:16:20.993 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:16:20.993 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:16:20.993 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 16:16:20.993 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 16:16:20.993 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:16:20.993 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:16:20.993 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 16:16:20.994 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 16:16:20.994 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 16:16:20.994 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 3.3549ms
2024-02-03 16:16:20.994 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:16:20.994 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 4.4339 ms
2024-02-03 16:16:20.994 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 491 - 400 350 application/problem+json;+charset=utf-8 5.1895ms
2024-02-03 16:18:17.649 +02:00 [DBG] Connection id "0HN14NBVLCH2H" accepted.
2024-02-03 16:18:17.650 +02:00 [DBG] Connection id "0HN14NBVLCH2H" started.
2024-02-03 16:18:17.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:18:17.650 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:18:17.650 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:18:17.650 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:18:17.650 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:18:17.651 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:18:17.651 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:18:17.651 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:18:17.651 +02:00 [DBG] New connection UCnZdsKljFJvIOIkiqhJtg created.
2024-02-03 16:18:17.651 +02:00 [DBG] Establishing new connection.
2024-02-03 16:18:17.651 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:18:17.651 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:18:17.763 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:18:17.764 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:18:17.764 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:18:17.764 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:18:17.764 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 1.3083ms
2024-02-03 16:18:17.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:18:17.770 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:18:17.770 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:18:17.770 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:18:17.770 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:18:17.770 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:18:17.770 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:18:17.770 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:18:17.770 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:18:17.770 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:18:17.770 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:18:17.770 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:18:17.770 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:18:17.771 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:18:17.771 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:18:17.771 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:18:17.771 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:18:17.771 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:18:17.771 +02:00 [INF] GetAllDevices
2024-02-03 16:18:17.771 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:18:17.772 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:18:17.772 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:18:17.772 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:18:17.772 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:18:17.772 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:18:17.780 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:18:17.782 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:17.782 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:17.782 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:17.782 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:17.782 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:17.782 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:17.782 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:17.782 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:17.782 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:17.783 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:17.783 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:18:17.783 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 16:18:17.783 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:18:17.783 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:18:17.783 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:18:17.783 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:18:17.783 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:18:17.783 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:18:17.784 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:18:17.784 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:18:17.784 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 13.4494ms
2024-02-03 16:18:17.785 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:18:17.785 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 14.6830 ms
2024-02-03 16:18:17.785 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 15.8278ms
2024-02-03 16:18:17.871 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:18:17.872 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:18:17.894 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:18:17.896 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:18:17.909 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:18:17.917 +02:00 [DBG] Socket closed.
2024-02-03 16:18:17.917 +02:00 [DBG] Removing connection UCnZdsKljFJvIOIkiqhJtg from the list of connections.
2024-02-03 16:18:17.920 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:18:17.921 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 270.1115 ms
2024-02-03 16:18:17.921 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 270.7788ms
2024-02-03 16:18:17.921 +02:00 [DBG] Connection id "0HN14NBVLCH2H" disconnecting.
2024-02-03 16:18:17.922 +02:00 [DBG] Connection id "0HN14NBVLCH2H" stopped.
2024-02-03 16:18:17.931 +02:00 [DBG] Connection id "0HN14NBVLCH2H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:18:49.690 +02:00 [DBG] Connection id "0HN14NBVLCH2I" accepted.
2024-02-03 16:18:49.690 +02:00 [DBG] Connection id "0HN14NBVLCH2I" started.
2024-02-03 16:18:49.690 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:18:49.690 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:18:49.690 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:18:49.690 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:18:49.690 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:18:49.690 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:18:49.690 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:18:49.690 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:18:49.690 +02:00 [DBG] New connection 2ZMCw5QG74P6NeRJV-DezA created.
2024-02-03 16:18:49.691 +02:00 [DBG] Establishing new connection.
2024-02-03 16:18:49.691 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:18:49.691 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:18:49.759 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:18:49.759 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:18:49.759 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:18:49.759 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:18:49.760 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.6475ms
2024-02-03 16:18:49.768 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:18:49.768 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:18:49.768 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:18:49.768 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:18:49.769 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:18:49.769 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:18:49.769 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:18:49.769 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:18:49.769 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:18:49.769 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:18:49.769 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:18:49.769 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:18:49.769 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:18:49.769 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:18:49.769 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:18:49.769 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:18:49.769 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:18:49.769 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:18:49.770 +02:00 [INF] GetAllDevices
2024-02-03 16:18:49.770 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:18:49.770 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:18:49.770 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:18:49.770 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:18:49.770 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:18:49.771 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:18:49.778 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:18:49.780 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:49.780 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:49.780 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:49.780 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:49.780 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:49.780 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:49.780 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:49.780 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:49.781 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:49.781 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:18:49.781 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:18:49.781 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-02-03 16:18:49.781 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:18:49.781 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:18:49.781 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:18:49.781 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:18:49.781 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:18:49.781 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:18:49.781 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:18:49.781 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:18:49.782 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 12.6477ms
2024-02-03 16:18:49.782 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:18:49.782 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 13.7171 ms
2024-02-03 16:18:49.783 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 14.8916ms
2024-02-03 16:18:49.867 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:18:49.868 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:18:49.870 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:18:49.871 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:18:49.872 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:18:49.873 +02:00 [DBG] Socket closed.
2024-02-03 16:18:49.873 +02:00 [DBG] Removing connection 2ZMCw5QG74P6NeRJV-DezA from the list of connections.
2024-02-03 16:18:49.873 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:18:49.873 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 183.0274 ms
2024-02-03 16:18:49.874 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 183.5732ms
2024-02-03 16:18:49.874 +02:00 [DBG] Connection id "0HN14NBVLCH2I" disconnecting.
2024-02-03 16:18:49.874 +02:00 [DBG] Connection id "0HN14NBVLCH2I" stopped.
2024-02-03 16:18:49.875 +02:00 [DBG] Connection id "0HN14NBVLCH2I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:19:13.300 +02:00 [DBG] Connection id "0HN14NBVLCH2J" accepted.
2024-02-03 16:19:13.300 +02:00 [DBG] Connection id "0HN14NBVLCH2J" started.
2024-02-03 16:19:13.301 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:19:13.301 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:19:13.301 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:19:13.301 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:19:13.301 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:19:13.301 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:19:13.301 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:19:13.301 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:19:13.301 +02:00 [DBG] New connection YvJ_GMjLbJdbYh4SJWCQoQ created.
2024-02-03 16:19:13.301 +02:00 [DBG] Establishing new connection.
2024-02-03 16:19:13.301 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:19:13.301 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:19:13.396 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:19:13.397 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:19:13.397 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:19:13.397 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:19:13.397 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 1.1751ms
2024-02-03 16:19:13.401 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:19:13.401 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:19:13.401 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:19:13.401 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:19:13.401 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:19:13.401 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:19:13.401 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:19:13.401 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:19:13.401 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:19:13.402 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:19:13.402 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:19:13.402 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:19:13.402 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:19:13.402 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:19:13.402 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:19:13.402 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:19:13.402 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:19:13.402 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:19:13.402 +02:00 [INF] GetAllDevices
2024-02-03 16:19:13.403 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:19:13.403 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:19:13.403 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:19:13.403 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:19:13.403 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:19:13.403 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:19:13.411 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:19:13.413 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:19:13.413 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:19:13.413 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:19:13.413 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:19:13.413 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:19:13.413 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:19:13.413 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:19:13.413 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:19:13.413 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:19:13.413 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:19:13.414 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:19:13.414 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 16:19:13.414 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:19:13.414 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:19:13.414 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:19:13.414 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:19:13.414 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:19:13.414 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:19:13.414 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:19:13.414 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:19:13.414 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 12.188ms
2024-02-03 16:19:13.415 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:19:13.415 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 13.6183 ms
2024-02-03 16:19:13.415 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 14.8548ms
2024-02-03 16:19:13.497 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:19:13.498 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:19:13.499 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:19:13.499 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:19:13.500 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:19:13.500 +02:00 [DBG] Socket closed.
2024-02-03 16:19:13.500 +02:00 [DBG] Removing connection YvJ_GMjLbJdbYh4SJWCQoQ from the list of connections.
2024-02-03 16:19:13.500 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:19:13.501 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 199.8149 ms
2024-02-03 16:19:13.501 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 200.3193ms
2024-02-03 16:19:13.501 +02:00 [DBG] Connection id "0HN14NBVLCH2J" disconnecting.
2024-02-03 16:19:13.501 +02:00 [DBG] Connection id "0HN14NBVLCH2J" stopped.
2024-02-03 16:19:13.502 +02:00 [DBG] Connection id "0HN14NBVLCH2J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:19:45.323 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:19:45.324 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:19:45.324 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:19:45.324 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:19:45.324 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.6588ms
2024-02-03 16:19:45.332 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 492
2024-02-03 16:19:45.332 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:19:45.333 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:19:45.333 +02:00 [DBG] POST requests are not supported
2024-02-03 16:19:45.333 +02:00 [DBG] POST requests are not supported
2024-02-03 16:19:45.333 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:19:45.333 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:19:45.333 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:19:45.333 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:19:45.333 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:19:45.333 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:19:45.333 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:19:45.333 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:19:45.333 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:19:45.333 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:19:45.333 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:19:45.333 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:19:45.334 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:19:45.334 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:19:45.334 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:19:45.334 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:19:45.334 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000121": started reading request body.
2024-02-03 16:19:45.334 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000121": done reading request body.
2024-02-03 16:19:45.334 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'id', line 1, position 10.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 16:19:45.335 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:19:45.335 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:19:45.335 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:19:45.335 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:19:45.335 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 16:19:45.335 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 16:19:45.335 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:19:45.335 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:19:45.335 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 16:19:45.335 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 16:19:45.335 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 16:19:45.335 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 1.8333ms
2024-02-03 16:19:45.335 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:19:45.335 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 2.5400 ms
2024-02-03 16:19:45.335 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 492 - 400 350 application/problem+json;+charset=utf-8 3.2885ms
2024-02-03 16:22:14.215 +02:00 [DBG] Connection id "0HN14NBVLCH2K" accepted.
2024-02-03 16:22:14.215 +02:00 [DBG] Connection id "0HN14NBVLCH2K" started.
2024-02-03 16:22:14.216 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:22:14.216 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:22:14.216 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:22:14.217 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:22:14.217 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:22:14.217 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:22:14.217 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:22:14.217 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:22:14.217 +02:00 [DBG] New connection 9tFc6Zpat7Lcdvn91U6vHQ created.
2024-02-03 16:22:14.217 +02:00 [DBG] Establishing new connection.
2024-02-03 16:22:14.221 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:22:14.221 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:22:14.317 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:22:14.317 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:22:14.317 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:22:14.317 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:22:14.317 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 1.0449ms
2024-02-03 16:22:14.416 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:22:14.418 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:22:14.430 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:22:14.430 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:22:14.430 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:22:14.430 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:22:14.430 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:22:14.430 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:22:14.430 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:22:14.430 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:22:14.430 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:22:14.430 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:22:14.431 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:22:14.431 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:22:14.431 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:22:14.431 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:22:14.431 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:22:14.431 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:22:14.431 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:22:14.431 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:22:14.431 +02:00 [INF] GetAllDevices
2024-02-03 16:22:14.432 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:22:14.432 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:22:14.432 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:22:14.432 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:22:14.432 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:22:14.432 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:22:14.469 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:22:14.480 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:22:14.480 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:22:14.481 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:22:14.482 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:22:14.482 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:22:14.482 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:22:14.482 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:22:14.483 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:22:14.483 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:22:14.483 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:22:14.483 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:22:14.484 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:22:14.484 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:22:14.485 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:22:14.485 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 14ms reading results.
2024-02-03 16:22:14.485 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:22:14.485 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:22:14.488 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:22:14.488 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:22:14.488 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:22:14.488 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:22:14.488 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:22:14.488 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:22:14.488 +02:00 [DBG] Socket closed.
2024-02-03 16:22:14.489 +02:00 [DBG] Removing connection 9tFc6Zpat7Lcdvn91U6vHQ from the list of connections.
2024-02-03 16:22:14.489 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:22:14.489 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 57.8745ms
2024-02-03 16:22:14.489 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 272.0643 ms
2024-02-03 16:22:14.489 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:22:14.489 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 58.7408 ms
2024-02-03 16:22:14.489 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 272.9947ms
2024-02-03 16:22:14.489 +02:00 [DBG] Connection id "0HN14NBVLCH2K" disconnecting.
2024-02-03 16:22:14.489 +02:00 [DBG] Connection id "0HN14NBVLCH2K" stopped.
2024-02-03 16:22:14.489 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 59.3545ms
2024-02-03 16:22:14.490 +02:00 [DBG] Connection id "0HN14NBVLCH2K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:22:27.819 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:22:27.819 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:22:27.819 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:22:27.819 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:22:27.820 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.6997ms
2024-02-03 16:22:27.822 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 567
2024-02-03 16:22:27.823 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:22:27.823 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:22:27.823 +02:00 [DBG] POST requests are not supported
2024-02-03 16:22:27.823 +02:00 [DBG] POST requests are not supported
2024-02-03 16:22:27.823 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:22:27.823 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:22:27.823 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:22:27.823 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:22:27.823 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:22:27.823 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:22:27.823 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:22:27.823 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:22:27.823 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:22:27.823 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:22:27.823 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:22:27.823 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:22:27.823 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:22:27.824 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:22:27.824 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:22:27.824 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:22:27.824 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000129": started reading request body.
2024-02-03 16:22:27.824 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000129": done reading request body.
2024-02-03 16:22:27.824 +02:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value {null} to type 'System.Int32'. Path 'id', line 1, position 10.
 ---> System.InvalidCastException: Null object cannot be converted to a value type.
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
2024-02-03 16:22:27.825 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:22:27.825 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:22:27.825 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:22:27.825 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:22:27.825 +02:00 [DBG] The request has model state errors, returning an error response.
2024-02-03 16:22:27.825 +02:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-02-03 16:22:27.825 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:22:27.825 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:22:27.825 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-02-03 16:22:27.825 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-02-03 16:22:27.825 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-02-03 16:22:27.826 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 2.288ms
2024-02-03 16:22:27.826 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:22:27.826 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 400 in 2.9183 ms
2024-02-03 16:22:27.826 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 567 - 400 350 application/problem+json;+charset=utf-8 3.7848ms
2024-02-03 16:23:57.334 +02:00 [DBG] Connection id "0HN14NBVLCH2L" accepted.
2024-02-03 16:23:57.335 +02:00 [DBG] Connection id "0HN14NBVLCH2L" started.
2024-02-03 16:23:57.356 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:23:57.369 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:23:57.371 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:23:57.371 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:23:57.371 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:23:57.371 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:23:57.371 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:23:57.371 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:23:57.372 +02:00 [DBG] New connection UcAeg_9VmdoaQfl_5365xw created.
2024-02-03 16:23:57.372 +02:00 [DBG] Establishing new connection.
2024-02-03 16:23:57.387 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:23:57.395 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:23:57.455 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:23:57.455 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:23:57.455 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:23:57.455 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:23:57.455 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.5848ms
2024-02-03 16:23:57.464 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:23:57.464 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:23:57.464 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:23:57.465 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:23:57.465 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:23:57.465 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:23:57.465 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:23:57.465 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:23:57.465 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:23:57.465 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:23:57.465 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:23:57.465 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:23:57.465 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:23:57.465 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:23:57.465 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:23:57.465 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:23:57.465 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:23:57.465 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:23:57.465 +02:00 [INF] GetAllDevices
2024-02-03 16:23:57.466 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:23:57.466 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:23:57.466 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:23:57.466 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:23:57.466 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:23:57.466 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:23:57.474 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:23:57.490 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:23:57.491 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:23:57.491 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:23:57.491 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:23:57.491 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:23:57.491 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:23:57.491 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:23:57.491 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:23:57.492 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:23:57.492 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:23:57.492 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:23:57.492 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 18ms reading results.
2024-02-03 16:23:57.492 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:23:57.492 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:23:57.492 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:23:57.492 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:23:57.492 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:23:57.493 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:23:57.493 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:23:57.493 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:23:57.494 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 28.271ms
2024-02-03 16:23:57.494 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:23:57.494 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 29.1109 ms
2024-02-03 16:23:57.494 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 29.8534ms
2024-02-03 16:23:57.552 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:23:57.552 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:23:57.554 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:23:57.554 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:23:57.555 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:23:57.556 +02:00 [DBG] Socket closed.
2024-02-03 16:23:57.556 +02:00 [DBG] Removing connection UcAeg_9VmdoaQfl_5365xw from the list of connections.
2024-02-03 16:23:57.557 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:23:57.557 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 185.6952 ms
2024-02-03 16:23:57.557 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 201.7074ms
2024-02-03 16:23:57.558 +02:00 [DBG] Connection id "0HN14NBVLCH2L" disconnecting.
2024-02-03 16:23:57.558 +02:00 [DBG] Connection id "0HN14NBVLCH2L" stopped.
2024-02-03 16:23:57.558 +02:00 [DBG] Connection id "0HN14NBVLCH2L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:24:01.592 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:24:01.592 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:24:01.592 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:24:01.593 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:24:01.593 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.8730ms
2024-02-03 16:24:01.596 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 484
2024-02-03 16:24:01.596 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:24:01.596 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:24:01.596 +02:00 [DBG] POST requests are not supported
2024-02-03 16:24:01.596 +02:00 [DBG] POST requests are not supported
2024-02-03 16:24:01.596 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:24:01.596 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:24:01.596 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:24:01.596 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:24:01.596 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:24:01.596 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:24:01.597 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:24:01.597 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:24:01.597 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:24:01.597 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:24:01.597 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:24:01.597 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:24:01.597 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:24:01.597 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:24:01.597 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:24:01.597 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:24:01.597 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000131": started reading request body.
2024-02-03 16:24:01.597 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000131": done reading request body.
2024-02-03 16:24:01.597 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:24:01.597 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:24:01.597 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:24:01.597 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:24:01.598 +02:00 [INF] AddDeviceMaintenance for {
  "Id": 0,
  "DeviceId": 0,
  "Device": {
    "DeviceId": 4,
    "Name": "ii",
    "SerialNumber": "22",
    "Description": null,
    "Location": {
      "LocationId": 2,
      "Name": "Cluj",
      "EmailAlertsActive": true,
      "Address": "Str Dorobantilor",
      "City": "Cluj-Napoca",
      "Country": "Romania",
      "IsLocationUsed": false
    },
    "DeviceType": {
      "DeviceTypeId": 10,
      "Name": "uuu"
    },
    "ImageBytes": null
  },
  "ScheduledDate": "2024-02-08T22:00:00Z",
  "Description": ""
}
2024-02-03 16:24:01.598 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Maintenance'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:24:01.598 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:24:01.598 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 16:24:01.598 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 16:24:01.598 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 16:24:01.599 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:24:01.599 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:24:01.599 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:24:01.599 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:24:01.599 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:24:01.599 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 16:24:01.605 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 16:24:01.606 +02:00 [DBG] The foreign key property 'Maintenance.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 16:24:01.606 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:24:01.606 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 16:24:01.606 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:24:01.606 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:24:01.606 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:24:01.606 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 16:24:01.607 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:24:01.607 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:24:01.607 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:24:01.607 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:24:01.607 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:24:01.607 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:24:01.607 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 10.44ms
2024-02-03 16:24:01.607 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:24:01.607 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 200 in 11.0144 ms
2024-02-03 16:24:01.608 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 484 - 200 376 application/json;+charset=utf-8 11.8070ms
2024-02-03 16:24:01.662 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 16:24:01.663 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:24:01.663 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:24:01.663 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:24:01.663 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 1.0589ms
2024-02-03 16:24:01.667 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 16:24:01.667 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:24:01.667 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:24:01.667 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:24:01.667 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 16:24:01.667 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:24:01.667 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:24:01.667 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:24:01.667 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:24:01.667 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:24:01.667 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:24:01.668 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:24:01.668 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:24:01.668 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:24:01.668 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:24:01.668 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:24:01.668 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:24:01.668 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:24:01.668 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 16:24:01.668 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 16:24:01.669 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 16:24:01.669 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 16:24:01.669 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 16:24:01.669 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 16:24:01.669 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 16:24:01.669 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 16:24:01.669 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 16:24:01.669 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 16:24:01.669 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 16:24:01.669 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:24:01.669 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 16:24:01.669 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:24:01.669 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 16:24:01.670 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:24:01.670 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 16:24:01.670 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:24:01.670 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 16:24:01.670 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:24:01.670 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 16:24:01.670 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:24:01.670 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 16:24:01.670 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 16:24:01.670 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 16:24:01.670 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 16:24:01.670 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 16:24:01.670 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 16:24:01.671 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 16:24:01.671 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 16:24:01.671 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 16:24:01.671 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 16:24:01.671 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 16:24:01.671 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 16:24:01.671 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:24:01.671 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:24:01.671 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 16:24:01.671 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:24:01.671 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 16:24:01.683 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:24:01.683 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:24:01.683 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:24:01.683 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:24:01.683 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:24:01.683 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 16:24:01.688 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 16:24:01.688 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:24:01.688 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 16:24:01.688 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:24:01.688 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:24:01.688 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:24:01.688 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:24:01.689 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:24:01.689 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:24:01.689 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:24:01.689 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:24:01.689 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 20.8794ms
2024-02-03 16:24:01.689 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:24:01.689 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 21.8540 ms
2024-02-03 16:24:01.689 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 22.6546ms
2024-02-03 16:26:33.157 +02:00 [DBG] Connection id "0HN14NBVLCH2M" accepted.
2024-02-03 16:26:33.157 +02:00 [DBG] Connection id "0HN14NBVLCH2M" started.
2024-02-03 16:26:33.158 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:26:33.158 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:26:33.158 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:26:33.158 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:26:33.158 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:26:33.158 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:26:33.158 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:26:33.158 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:26:33.158 +02:00 [DBG] New connection mi0wdNSUZNlkUfGU8-TUZw created.
2024-02-03 16:26:33.158 +02:00 [DBG] Establishing new connection.
2024-02-03 16:26:33.158 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:26:33.158 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:26:33.229 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 16:26:33.229 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:26:33.229 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:26:33.229 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:26:33.229 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.2612ms
2024-02-03 16:26:33.238 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 16:26:33.238 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:26:33.238 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:26:33.238 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:26:33.238 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 16:26:33.238 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:26:33.238 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:26:33.239 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:26:33.239 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:26:33.239 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:26:33.239 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:26:33.239 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:26:33.239 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:26:33.239 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:26:33.239 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:26:33.239 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:26:33.239 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:26:33.239 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:26:33.239 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 16:26:33.239 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:26:33.240 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 16:26:33.240 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:26:33.241 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 16:26:33.250 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:26:33.250 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:26:33.250 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:26:33.250 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:33.250 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:33.250 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 16:26:33.254 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 16:26:33.254 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:33.254 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 16:26:33.254 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:33.254 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:26:33.254 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:26:33.254 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:26:33.254 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:26:33.254 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:26:33.254 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:26:33.254 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:26:33.255 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 15.3425ms
2024-02-03 16:26:33.255 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:26:33.255 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 16.2328 ms
2024-02-03 16:26:33.255 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 17.0904ms
2024-02-03 16:26:33.335 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:26:33.335 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:26:33.336 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:26:33.336 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:26:33.337 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:26:33.338 +02:00 [DBG] Socket closed.
2024-02-03 16:26:33.339 +02:00 [DBG] Removing connection mi0wdNSUZNlkUfGU8-TUZw from the list of connections.
2024-02-03 16:26:33.339 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:26:33.342 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 184.0546 ms
2024-02-03 16:26:33.343 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 185.7115ms
2024-02-03 16:26:33.343 +02:00 [DBG] Connection id "0HN14NBVLCH2M" disconnecting.
2024-02-03 16:26:33.343 +02:00 [DBG] Connection id "0HN14NBVLCH2M" stopped.
2024-02-03 16:26:33.344 +02:00 [DBG] Connection id "0HN14NBVLCH2M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:26:40.439 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - -
2024-02-03 16:26:40.439 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:26:40.439 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:26:40.439 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:26:40.439 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/Device/getAllDevices - - - 204 - - 0.2872ms
2024-02-03 16:26:40.441 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json -
2024-02-03 16:26:40.441 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:26:40.441 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:26:40.441 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:26:40.441 +02:00 [DBG] The request path /api/Device/getAllDevices does not match a supported file type
2024-02-03 16:26:40.441 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Device/getAllDevices'
2024-02-03 16:26:40.441 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)' with route pattern 'api/Device/getAllDevices' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:26:40.441 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceController.GetDeviceByIdAsync (WebApi)' with route pattern 'api/Device/{deviceId}' is valid for the request path '/api/Device/getAllDevices'
2024-02-03 16:26:40.441 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:26:40.441 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:26:40.441 +02:00 [INF] Route matched with {action = "GetAllDevices", controller = "Device"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDevicesAsync() on controller WebApi.Controllers.DeviceController (WebApi).
2024-02-03 16:26:40.441 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:26:40.441 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:26:40.441 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:26:40.441 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:26:40.441 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:26:40.441 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:26:40.441 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceController (WebApi)
2024-02-03 16:26:40.441 +02:00 [INF] GetAllDevices
2024-02-03 16:26:40.441 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:26:40.442 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:26:40.442 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:26:40.442 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:40.442 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:40.442 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:26:40.445 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion], [l].[LocationId], [l].[Address], [l].[City], [l].[ContactEmail], [l].[Country], [l].[EmailAlertsActive], [l].[EmailRecipient], [l].[Latitude], [l].[Longitude], [l].[Name], [l].[Phone], [d0].[Id], [d0].[Name]
FROM [Devices] AS [d]
INNER JOIN [Locations] AS [l] ON [d].[LocationId] = [l].[LocationId]
INNER JOIN [DeviceTypes] AS [d0] ON [d].[DeviceTypeId] = [d0].[Id]
2024-02-03 16:26:40.446 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:40.446 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:40.446 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:40.446 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:40.446 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:40.447 +02:00 [DBG] Context 'DataContext' started tracking 'Device' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:40.447 +02:00 [DBG] The navigation 'Device.Location' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:40.447 +02:00 [DBG] Context 'DataContext' started tracking 'Location' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:40.447 +02:00 [DBG] The navigation 'Device.DeviceType' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:40.447 +02:00 [DBG] Context 'DataContext' started tracking 'DeviceType' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:40.447 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:40.447 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-02-03 16:26:40.447 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:40.447 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:26:40.447 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:26:40.447 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:26:40.447 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:26:40.447 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:26:40.447 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:26:40.447 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.DeviceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:26:40.447 +02:00 [INF] Executed action WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi) in 5.9792ms
2024-02-03 16:26:40.447 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceController.GetAllDevicesAsync (WebApi)'
2024-02-03 16:26:40.447 +02:00 [INF] HTTP GET /api/Device/getAllDevices responded 200 in 6.3304 ms
2024-02-03 16:26:40.447 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/Device/getAllDevices application/json - - 200 891 application/json;+charset=utf-8 6.7538ms
2024-02-03 16:26:46.680 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - -
2024-02-03 16:26:46.680 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:26:46.680 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:26:46.680 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:26:46.680 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/AddMaintenance - - - 204 - - 0.3135ms
2024-02-03 16:26:46.682 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 490
2024-02-03 16:26:46.682 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:26:46.682 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:26:46.682 +02:00 [DBG] POST requests are not supported
2024-02-03 16:26:46.682 +02:00 [DBG] POST requests are not supported
2024-02-03 16:26:46.682 +02:00 [DBG] 1 candidate(s) found for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:26:46.682 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)' with route pattern 'api/DeviceMaintenance/AddMaintenance' is valid for the request path '/api/DeviceMaintenance/AddMaintenance'
2024-02-03 16:26:46.682 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:26:46.682 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:26:46.682 +02:00 [INF] Route matched with {action = "AddDeviceMaintenance", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDeviceMaintenance(BusinessLogicLayer.DTOs.MaintenanceAddDto) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:26:46.682 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:26:46.682 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:26:46.682 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:26:46.682 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:26:46.682 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:26:46.683 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:26:46.683 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:26:46.683 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:26:46.683 +02:00 [DBG] Attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' using the name '' in request data ...
2024-02-03 16:26:46.683 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-02-03 16:26:46.683 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-02-03 16:26:46.683 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000141": started reading request body.
2024-02-03 16:26:46.683 +02:00 [DBG] Connection id "0HN14NBVLCH1F", Request id "0HN14NBVLCH1F:00000141": done reading request body.
2024-02-03 16:26:46.683 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:26:46.683 +02:00 [DBG] Done attempting to bind parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:26:46.683 +02:00 [DBG] Attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto' ...
2024-02-03 16:26:46.683 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenance' of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:26:46.683 +02:00 [INF] AddDeviceMaintenance for {
  "Id": 0,
  "DeviceId": 0,
  "Device": {
    "DeviceId": 4,
    "Name": "ii",
    "SerialNumber": "22",
    "Description": null,
    "Location": {
      "LocationId": 2,
      "Name": "Cluj",
      "EmailAlertsActive": true,
      "Address": "Str Dorobantilor",
      "City": "Cluj-Napoca",
      "Country": "Romania",
      "IsLocationUsed": false
    },
    "DeviceType": {
      "DeviceTypeId": 10,
      "Name": "uuu"
    },
    "ImageBytes": null
  },
  "ScheduledDate": "2024-02-08T22:00:00Z",
  "Description": "testtt"
}
2024-02-03 16:26:46.683 +02:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Maintenance'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:46.684 +02:00 [DBG] Context 'DataContext' started tracking 'Maintenance' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:46.684 +02:00 [DBG] SaveChanges starting for 'DataContext'.
2024-02-03 16:26:46.684 +02:00 [DBG] DetectChanges starting for 'DataContext'.
2024-02-03 16:26:46.684 +02:00 [DBG] DetectChanges completed for 'DataContext'.
2024-02-03 16:26:46.684 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:46.684 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:46.684 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:26:46.684 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:26:46.684 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:26:46.684 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 16:26:46.689 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Maintenances] ([ActualDate], [CreatedAt], [CreatedBy], [Description], [DeviceId], [Outcome], [ScheduledDate], [Status])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-02-03 16:26:46.689 +02:00 [DBG] The foreign key property 'Maintenance.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-02-03 16:26:46.689 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:46.689 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 16:26:46.689 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:46.689 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:26:46.689 +02:00 [DBG] An entity of type 'Maintenance' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-02-03 16:26:46.689 +02:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-02-03 16:26:46.689 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:26:46.689 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:26:46.689 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:26:46.689 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:26:46.689 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:26:46.689 +02:00 [INF] Executing OkObjectResult, writing value of type 'BusinessLogicLayer.DTOs.MaintenanceAddDto'.
2024-02-03 16:26:46.689 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi) in 6.9966ms
2024-02-03 16:26:46.690 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.AddDeviceMaintenance (WebApi)'
2024-02-03 16:26:46.690 +02:00 [INF] HTTP POST /api/DeviceMaintenance/AddMaintenance responded 200 in 7.4846 ms
2024-02-03 16:26:46.690 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7137/api/DeviceMaintenance/AddMaintenance application/json 490 - 200 382 application/json;+charset=utf-8 8.0988ms
2024-02-03 16:26:46.706 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 16:26:46.707 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:26:46.707 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:26:46.707 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:26:46.707 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.2925ms
2024-02-03 16:26:46.709 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 16:26:46.709 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:26:46.709 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:26:46.709 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:26:46.709 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 16:26:46.709 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:26:46.709 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:26:46.709 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:26:46.709 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:26:46.709 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:26:46.709 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:26:46.709 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:26:46.709 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:26:46.709 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:26:46.709 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:26:46.709 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:26:46.709 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:26:46.709 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:26:46.709 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 16:26:46.709 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 16:26:46.709 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 16:26:46.709 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 16:26:46.709 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 16:26:46.709 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 16:26:46.709 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 16:26:46.709 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:26:46.710 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 16:26:46.710 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:26:46.710 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 16:26:46.715 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:26:46.715 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:26:46.715 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:26:46.715 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:46.715 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:46.715 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 16:26:46.718 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 16:26:46.718 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:46.718 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 16:26:46.718 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:26:46.718 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:26:46.718 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:26:46.719 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:26:46.719 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:26:46.719 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:26:46.719 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:26:46.719 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:26:46.719 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 9.7508ms
2024-02-03 16:26:46.719 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:26:46.719 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 10.1666 ms
2024-02-03 16:26:46.719 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 10.4811ms
2024-02-03 16:29:43.724 +02:00 [DBG] Connection id "0HN14NBVLCH2N" accepted.
2024-02-03 16:29:43.724 +02:00 [DBG] Connection id "0HN14NBVLCH2N" started.
2024-02-03 16:29:43.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5275/hubs/alertCount - -
2024-02-03 16:29:43.725 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:29:43.725 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:29:43.725 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:29:43.725 +02:00 [DBG] The request path /hubs/alertCount does not match a supported file type
2024-02-03 16:29:43.725 +02:00 [DBG] 1 candidate(s) found for the request path '/hubs/alertCount'
2024-02-03 16:29:43.725 +02:00 [DBG] Request matched endpoint '/hubs/alertCount'
2024-02-03 16:29:43.725 +02:00 [INF] Executing endpoint '/hubs/alertCount'
2024-02-03 16:29:43.725 +02:00 [DBG] New connection 9sU6FehnH6MgYZmk_lxdJQ created.
2024-02-03 16:29:43.725 +02:00 [DBG] Establishing new connection.
2024-02-03 16:29:43.725 +02:00 [DBG] OnConnectedAsync started.
2024-02-03 16:29:43.726 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-02-03 16:29:43.760 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - -
2024-02-03 16:29:43.761 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:29:43.761 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:29:43.761 +02:00 [DBG] The request is a preflight request.
2024-02-03 16:29:43.761 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 - - - 204 - - 0.6556ms
2024-02-03 16:29:43.766 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json -
2024-02-03 16:29:43.766 +02:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-02-03 16:29:43.766 +02:00 [INF] CORS policy execution successful.
2024-02-03 16:29:43.766 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:29:43.766 +02:00 [DBG] The request path /api/DeviceMaintenance/getDeviceMaintenancesPaged does not match a supported file type
2024-02-03 16:29:43.766 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:29:43.766 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getDeviceMaintenancesPaged' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:29:43.766 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getDeviceMaintenancesPaged'
2024-02-03 16:29:43.766 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:29:43.766 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:29:43.766 +02:00 [INF] Route matched with {action = "GetDeviceMaintenancesPaged", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDeviceMaintenancesPagedAsync(DataAccessLayer.FilterModels.MaintenanceFilter) on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:29:43.766 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:29:43.767 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:29:43.767 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:29:43.767 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:29:43.767 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:29:43.767 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:29:43.767 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' using the name '' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String' using the name 'Device' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Device' of type 'System.String'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String' using the name 'Description' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Description' of type 'System.String'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String' using the name 'Outcome' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Outcome' of type 'System.String'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]' using the name 'Status' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.Status' of type 'System.Nullable`1[DataAccessLayer.Enums.Status]'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateStart' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ScheduledDateEnd' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ScheduledDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateStart' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'ActualDateEnd' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.ActualDateEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtStart' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtStart' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]' using the name 'CreatedAtEnd' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedAtEnd' of type 'System.Nullable`1[System.DateTime]'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String' using the name 'CreatedBy' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.CreatedBy' of type 'System.String'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters' using the name 'PagingFilteringParameters' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32' using the name 'PagingFilteringParameters.PageNumber' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageNumber' of type 'System.Int32'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String' using the name 'PagingFilteringParameters.OrderBy' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderBy' of type 'System.String'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean' using the name 'PagingFilteringParameters.OrderDescending' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.OrderDescending' of type 'System.Boolean'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32' using the name 'PagingFilteringParameters.PageSize' in request data ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'Common.PagingFilteringParameters.PageSize' of type 'System.Int32'.
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind property 'DataAccessLayer.FilterModels.MaintenanceFilter.PagingFilteringParameters' of type 'Common.PagingFilteringParameters'.
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to bind parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:29:43.767 +02:00 [DBG] Attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter' ...
2024-02-03 16:29:43.767 +02:00 [DBG] Done attempting to validate the bound parameter 'maintenanceFilter' of type 'DataAccessLayer.FilterModels.MaintenanceFilter'.
2024-02-03 16:29:43.767 +02:00 [INF] GetDeviceMaintenancesPaged for {
  "Device": null,
  "Description": null,
  "Outcome": null,
  "Status": null,
  "ScheduledDateStart": null,
  "ScheduledDateEnd": null,
  "ActualDateStart": null,
  "ActualDateEnd": null,
  "CreatedAtStart": null,
  "CreatedAtEnd": null,
  "CreatedBy": null,
  "PagingFilteringParameters": {
    "PageNumber": 0,
    "OrderBy": "status",
    "OrderDescending": false,
    "PageSize": 5
  }
}
2024-02-03 16:29:43.772 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:29:43.772 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:29:43.772 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:29:43.772 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:29:43.772 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:29:43.772 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 16:29:43.775 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
ORDER BY [m].[Status], [m].[ScheduledDate]
2024-02-03 16:29:43.776 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:29:43.776 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 16:29:43.776 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:29:43.776 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:29:43.776 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:29:43.776 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:29:43.776 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:29:43.776 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:29:43.776 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:29:43.776 +02:00 [INF] Executing OkObjectResult, writing value of type 'Common.PagedResponse`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:29:43.776 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi) in 9.7611ms
2024-02-03 16:29:43.776 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenancesPagedAsync (WebApi)'
2024-02-03 16:29:43.776 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getDeviceMaintenancesPaged responded 200 in 10.1151 ms
2024-02-03 16:29:43.777 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getDeviceMaintenancesPaged?Device=&Description=&Outcome=&Status=&ScheduledDateStart=&ScheduledDateEnd=&ActualDateStart=&ActualDateEnd=&CreatedAtStart=&CreatedAtEnd=&CreatedBy=&pagingFilteringParameters.pageNumber=0&pagingFilteringParameters.orderBy=status&pagingFilteringParameters.orderDescending=false&pagingFilteringParameters.pageSize=5 application/json - - 200 105 application/json;+charset=utf-8 10.5361ms
2024-02-03 16:29:43.880 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2024-02-03 16:29:43.881 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-02-03 16:29:43.882 +02:00 [ERR] Error when dispatching 'OnConnectedAsync' on hub.
System.InvalidOperationException: Unable to resolve service for type 'BusinessLogicLayer.Interfaces.IDeviceReadingService' while attempting to activate 'WebApi.Hubs.AlertHub'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method31(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubActivator`1.Create()
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1.OnConnectedAsync(HubConnectionContext connection)
   at Microsoft.AspNetCore.SignalR.HubConnectionHandler`1.RunHubAsync(HubConnectionContext connection)
2024-02-03 16:29:43.883 +02:00 [DBG] OnConnectedAsync ending.
2024-02-03 16:29:43.883 +02:00 [DBG] Waiting for the client to close the socket.
2024-02-03 16:29:43.884 +02:00 [DBG] Socket closed.
2024-02-03 16:29:43.886 +02:00 [DBG] Removing connection 9sU6FehnH6MgYZmk_lxdJQ from the list of connections.
2024-02-03 16:29:43.894 +02:00 [INF] Executed endpoint '/hubs/alertCount'
2024-02-03 16:29:43.896 +02:00 [INF] HTTP GET /hubs/alertCount responded 101 in 170.6114 ms
2024-02-03 16:29:43.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5275/hubs/alertCount - - - 101 - - 171.0537ms
2024-02-03 16:29:43.898 +02:00 [DBG] Connection id "0HN14NBVLCH2N" disconnecting.
2024-02-03 16:29:43.898 +02:00 [DBG] Connection id "0HN14NBVLCH2N" stopped.
2024-02-03 16:29:43.898 +02:00 [DBG] Connection id "0HN14NBVLCH2N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:29:48.161 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenances - -
2024-02-03 16:29:48.161 +02:00 [DBG] The request path  does not match the path filter
2024-02-03 16:29:48.161 +02:00 [DBG] The request path /api/DeviceMaintenance/getAllMaintenances does not match a supported file type
2024-02-03 16:29:48.161 +02:00 [DBG] 2 candidate(s) found for the request path '/api/DeviceMaintenance/getAllMaintenances'
2024-02-03 16:29:48.161 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetAllMaintenancesAsync (WebApi)' with route pattern 'api/DeviceMaintenance/getAllMaintenances' is valid for the request path '/api/DeviceMaintenance/getAllMaintenances'
2024-02-03 16:29:48.161 +02:00 [DBG] Endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetDeviceMaintenanceByIdAsync (WebApi)' with route pattern 'api/DeviceMaintenance/{Id}' is valid for the request path '/api/DeviceMaintenance/getAllMaintenances'
2024-02-03 16:29:48.161 +02:00 [DBG] Request matched endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetAllMaintenancesAsync (WebApi)'
2024-02-03 16:29:48.161 +02:00 [INF] Executing endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetAllMaintenancesAsync (WebApi)'
2024-02-03 16:29:48.161 +02:00 [INF] Route matched with {action = "GetAllMaintenances", controller = "DeviceMaintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenancesAsync() on controller WebApi.Controllers.DeviceMaintenanceController (WebApi).
2024-02-03 16:29:48.161 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-02-03 16:29:48.161 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-02-03 16:29:48.161 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-02-03 16:29:48.161 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-02-03 16:29:48.161 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-02-03 16:29:48.161 +02:00 [DBG] Executing controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:29:48.161 +02:00 [DBG] Executed controller factory for controller WebApi.Controllers.DeviceMaintenanceController (WebApi)
2024-02-03 16:29:48.161 +02:00 [INF] GetAllDevices
2024-02-03 16:29:48.161 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-02-03 16:29:48.161 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:29:48.161 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-02-03 16:29:48.161 +02:00 [DBG] Opening connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:29:48.161 +02:00 [DBG] Opened connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:29:48.162 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
2024-02-03 16:29:48.164 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[ActualDate], [m].[CreatedAt], [m].[CreatedBy], [m].[Description], [m].[DeviceId], [m].[Outcome], [m].[ScheduledDate], [m].[Status], [d].[DeviceId], [d].[Alias], [d].[Description], [d].[DeviceTypeId], [d].[Emails], [d].[FirmwareVersion], [d].[ImageBytes], [d].[LastPingedTs], [d].[LastUploadTime], [d].[LocationId], [d].[Name], [d].[SerialNumber], [d].[SoftwareVersion]
FROM [Maintenances] AS [m]
INNER JOIN [Devices] AS [d] ON [m].[DeviceId] = [d].[DeviceId]
2024-02-03 16:29:48.164 +02:00 [DBG] Closing data reader to 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:29:48.164 +02:00 [DBG] A data reader for 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' is being disposed after spending 0ms reading results.
2024-02-03 16:29:48.165 +02:00 [DBG] Closing connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB'.
2024-02-03 16:29:48.165 +02:00 [DBG] Closed connection to database 'InternshipDB' on server '(LocalDb)\MSSQLLocalDB' (0ms).
2024-02-03 16:29:48.165 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-02-03 16:29:48.165 +02:00 [DBG] No information found on request to perform content negotiation.
2024-02-03 16:29:48.165 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-02-03 16:29:48.165 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-02-03 16:29:48.165 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-02-03 16:29:48.165 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BusinessLogicLayer.DTOs.MaintenanceDto, BusinessLogicLayer, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-02-03 16:29:48.165 +02:00 [INF] Executed action WebApi.Controllers.DeviceMaintenanceController.GetAllMaintenancesAsync (WebApi) in 3.7226ms
2024-02-03 16:29:48.165 +02:00 [INF] Executed endpoint 'WebApi.Controllers.DeviceMaintenanceController.GetAllMaintenancesAsync (WebApi)'
2024-02-03 16:29:48.165 +02:00 [INF] HTTP GET /api/DeviceMaintenance/getAllMaintenances responded 200 in 4.0393 ms
2024-02-03 16:29:48.165 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7137/api/DeviceMaintenance/getAllMaintenances - - - 200 2 application/json;+charset=utf-8 4.3388ms
2024-02-03 16:35:57.844 +02:00 [DBG] Connection id "0HN14NBVLCH1F" received FIN.
2024-02-03 16:35:57.844 +02:00 [DBG] Connection id "0HN14NBVLCH1L" received FIN.
2024-02-03 16:35:57.853 +02:00 [DBG] Connection id "0HN14NBVLCH1F" is closed. The last processed stream ID was 329.
2024-02-03 16:35:57.854 +02:00 [DBG] Connection id "0HN14NBVLCH1F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:35:57.868 +02:00 [DBG] Connection id "0HN14NBVLCH1L" is closed. The last processed stream ID was 13.
2024-02-03 16:35:57.875 +02:00 [DBG] Connection id "0HN14NBVLCH1L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-02-03 16:35:57.875 +02:00 [DBG] Connection id "0HN14NBVLCH1L" stopped.
2024-02-03 16:35:57.875 +02:00 [DBG] Connection id "0HN14NBVLCH1F" stopped.
